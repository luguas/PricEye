var FS=Object.defineProperty;var LS=(t,e,n)=>e in t?FS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>LS(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function BS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gv={exports:{}},Uf={},Kv={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),US=Symbol.for("react.portal"),zS=Symbol.for("react.fragment"),WS=Symbol.for("react.strict_mode"),HS=Symbol.for("react.profiler"),VS=Symbol.for("react.provider"),$S=Symbol.for("react.context"),GS=Symbol.for("react.forward_ref"),KS=Symbol.for("react.suspense"),YS=Symbol.for("react.memo"),XS=Symbol.for("react.lazy"),Hg=Symbol.iterator;function qS(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var Yv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,qv={};function mo(t,e,n){this.props=t,this.context=e,this.refs=qv,this.updater=n||Yv}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jv(){}Jv.prototype=mo.prototype;function Q0(t,e,n){this.props=t,this.context=e,this.refs=qv,this.updater=n||Yv}var Z0=Q0.prototype=new Jv;Z0.constructor=Q0;Xv(Z0,mo.prototype);Z0.isPureReactComponent=!0;var Vg=Array.isArray,Qv=Object.prototype.hasOwnProperty,ep={current:null},Zv={key:!0,ref:!0,__self:!0,__source:!0};function ey(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Qv.call(e,r)&&!Zv.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:sc,type:t,key:s,ref:a,props:i,_owner:ep.current}}function JS(t,e){return{$$typeof:sc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tp(t){return typeof t=="object"&&t!==null&&t.$$typeof===sc}function QS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $g=/\/+/g;function _d(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QS(""+t.key):e.toString(36)}function hu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case sc:case US:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+_d(a,0):r,Vg(i)?(n="",t!=null&&(n=t.replace($g,"$&/")+"/"),hu(i,e,n,"",function(c){return c})):i!=null&&(tp(i)&&(i=JS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($g,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Vg(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+_d(s,o);a+=hu(s,e,n,l,i)}else if(l=qS(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+_d(s,o++),a+=hu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function kc(t,e,n){if(t==null)return t;var r=[],i=0;return hu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ZS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},pu={transition:null},ek={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:pu,ReactCurrentOwner:ep};function ty(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!tp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=mo;Ge.Fragment=zS;Ge.Profiler=HS;Ge.PureComponent=Q0;Ge.StrictMode=WS;Ge.Suspense=KS;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ek;Ge.act=ty;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Xv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ep.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Qv.call(e,l)&&!Zv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:sc,type:t.type,key:i,ref:s,props:r,_owner:a}};Ge.createContext=function(t){return t={$$typeof:$S,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VS,_context:t},t.Consumer=t};Ge.createElement=ey;Ge.createFactory=function(t){var e=ey.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:GS,render:t}};Ge.isValidElement=tp;Ge.lazy=function(t){return{$$typeof:XS,_payload:{_status:-1,_result:t},_init:ZS}};Ge.memo=function(t,e){return{$$typeof:YS,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};Ge.unstable_act=ty;Ge.useCallback=function(t,e){return In.current.useCallback(t,e)};Ge.useContext=function(t){return In.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return In.current.useEffect(t,e)};Ge.useId=function(){return In.current.useId()};Ge.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return In.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Ge.useRef=function(t){return In.current.useRef(t)};Ge.useState=function(t){return In.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return In.current.useTransition()};Ge.version="18.3.1";Kv.exports=Ge;var A=Kv.exports;const tk=BS(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk=A,rk=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,ak=nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ok={key:!0,ref:!0,__self:!0,__source:!0};function ny(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)sk.call(e,r)&&!ok.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rk,type:t,key:s,ref:a,props:i,_owner:ak.current}}Uf.Fragment=ik;Uf.jsx=ny;Uf.jsxs=ny;Gv.exports=Uf;var u=Gv.exports,Th={},ry={exports:{}},rr={},iy={exports:{}},sy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,te){var fe=ie.length;ie.push(te);e:for(;0<fe;){var ee=fe-1>>>1,D=ie[ee];if(0<i(D,te))ie[ee]=te,ie[fe]=D,fe=ee;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var te=ie[0],fe=ie.pop();if(fe!==te){ie[0]=fe;e:for(var ee=0,D=ie.length,B=D>>>1;ee<B;){var L=2*(ee+1)-1,M=ie[L],W=L+1,ae=ie[W];if(0>i(M,fe))W<D&&0>i(ae,M)?(ie[ee]=ae,ie[W]=fe,ee=W):(ie[ee]=M,ie[L]=fe,ee=L);else if(W<D&&0>i(ae,fe))ie[ee]=ae,ie[W]=fe,ee=W;else break e}}return te}function i(ie,te){var fe=ie.sortIndex-te.sortIndex;return fe!==0?fe:ie.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,d=null,h=3,p=!1,m=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ie){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=ie)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function _(ie){if(g=!1,b(ie),!m)if(n(l)!==null)m=!0,ke(S);else{var te=n(c);te!==null&&we(_,te.startTime-ie)}}function S(ie,te){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var fe=h;try{for(b(te),d=n(l);d!==null&&(!(d.expirationTime>te)||ie&&!j());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,h=d.priorityLevel;var D=ee(d.expirationTime<=te);te=t.unstable_now(),typeof D=="function"?d.callback=D:d===n(l)&&r(l),b(te)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var L=n(c);L!==null&&we(_,L.startTime-te),B=!1}return B}finally{d=null,h=fe,p=!1}}var O=!1,k=null,T=-1,C=5,F=-1;function j(){return!(t.unstable_now()-F<C)}function U(){if(k!==null){var ie=t.unstable_now();F=ie;var te=!0;try{te=k(!0,ie)}finally{te?Z():(O=!1,k=null)}}else O=!1}var Z;if(typeof v=="function")Z=function(){v(U)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,le=Ee.port2;Ee.port1.onmessage=U,Z=function(){le.postMessage(null)}}else Z=function(){x(U,0)};function ke(ie){k=ie,O||(O=!0,Z())}function we(ie,te){T=x(function(){ie(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,ke(S))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ie){switch(h){case 1:case 2:case 3:var te=3;break;default:te=h}var fe=h;h=te;try{return ie()}finally{h=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,te){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=h;h=ie;try{return te()}finally{h=fe}},t.unstable_scheduleCallback=function(ie,te,fe){var ee=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ee+fe:ee):fe=ee,ie){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,ie={id:f++,callback:te,priorityLevel:ie,startTime:fe,expirationTime:D,sortIndex:-1},fe>ee?(ie.sortIndex=fe,e(c,ie),n(l)===null&&ie===n(c)&&(g?(y(T),T=-1):g=!0,we(_,fe-ee))):(ie.sortIndex=D,e(l,ie),m||p||(m=!0,ke(S))),ie},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ie){var te=h;return function(){var fe=h;h=te;try{return ie.apply(this,arguments)}finally{h=fe}}}})(sy);iy.exports=sy;var lk=iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck=A,tr=lk;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ay=new Set,kl={};function aa(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(kl[t]=e,t=0;t<e.length;t++)ay.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function fk(t){return Ch.call(Kg,t)?!0:Ch.call(Gg,t)?!1:uk.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hk(t,e,n,r){if(e===null||typeof e>"u"||dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var np=/[\-:]([a-z])/g;function rp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(np,rp);ln[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(np,rp);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(np,rp);ln[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ip(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,n,i,r)&&(n=null),r||i===null?fk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Ea=Symbol.for("react.portal"),Ta=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),Nh=Symbol.for("react.profiler"),oy=Symbol.for("react.provider"),ly=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),op=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),cy=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,wd;function Wo(t){if(wd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wd=e&&e[1]||""}return`
`+wd+t}var Sd=!1;function kd(t,e){if(!t||Sd)return"";Sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wo(t):""}function pk(t){switch(t.tag){case 5:return Wo(t.type);case 16:return Wo("Lazy");case 13:return Wo("Suspense");case 19:return Wo("SuspenseList");case 0:case 2:case 15:return t=kd(t.type,!1),t;case 11:return t=kd(t.type.render,!1),t;case 1:return t=kd(t.type,!0),t;default:return""}}function Dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ta:return"Fragment";case Ea:return"Portal";case Nh:return"Profiler";case sp:return"StrictMode";case Ah:return"Suspense";case Ih:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ly:return(t.displayName||"Context")+".Consumer";case oy:return(t._context.displayName||"Context")+".Provider";case ap:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case op:return e=t.displayName||null,e!==null?e:Dh(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return Dh(t(e))}catch{}}return null}function gk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(e);case 8:return e===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=uy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=mk(t))}function fy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=uy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Xg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ds(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dy(t,e){e=e.checked,e!=null&&ip(t,"checked",e,!1)}function Ph(t,e){dy(t,e);var n=ds(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mh(t,e.type,ds(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mh(t,e,n){(e!=="number"||Lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ho=Array.isArray;function Ba(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ds(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Ho(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ds(n)}}function hy(t,e){var n=ds(e.value),r=ds(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function py(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?py(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,gy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function El(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xk=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){xk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function my(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function xy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=my(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vk=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function Lh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function lp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Uh=null,Ua=null,za=null;function Zg(t){if(t=lc(t)){if(typeof Uh!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=$f(e),Uh(t.stateNode,t.type,e))}}function vy(t){Ua?za?za.push(t):za=[t]:Ua=t}function yy(){if(Ua){var t=Ua,e=za;if(za=Ua=null,Zg(t),e)for(t=0;t<e.length;t++)Zg(e[t])}}function by(t,e){return t(e)}function _y(){}var Ed=!1;function wy(t,e,n){if(Ed)return t(e,n);Ed=!0;try{return by(t,e,n)}finally{Ed=!1,(Ua!==null||za!==null)&&(_y(),yy())}}function Tl(t,e){var n=t.stateNode;if(n===null)return null;var r=$f(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var zh=!1;if(_i)try{var No={};Object.defineProperty(No,"passive",{get:function(){zh=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{zh=!1}function yk(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var rl=!1,Bu=null,Uu=!1,Wh=null,bk={onError:function(t){rl=!0,Bu=t}};function _k(t,e,n,r,i,s,a,o,l){rl=!1,Bu=null,yk.apply(bk,arguments)}function wk(t,e,n,r,i,s,a,o,l){if(_k.apply(this,arguments),rl){if(rl){var c=Bu;rl=!1,Bu=null}else throw Error(ue(198));Uu||(Uu=!0,Wh=c)}}function oa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function em(t){if(oa(t)!==t)throw Error(ue(188))}function Sk(t){var e=t.alternate;if(!e){if(e=oa(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return em(i),t;if(s===r)return em(i),e;s=s.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function ky(t){return t=Sk(t),t!==null?Ey(t):null}function Ey(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ey(t);if(e!==null)return e;t=t.sibling}return null}var Ty=tr.unstable_scheduleCallback,tm=tr.unstable_cancelCallback,kk=tr.unstable_shouldYield,Ek=tr.unstable_requestPaint,Pt=tr.unstable_now,Tk=tr.unstable_getCurrentPriorityLevel,cp=tr.unstable_ImmediatePriority,Cy=tr.unstable_UserBlockingPriority,zu=tr.unstable_NormalPriority,Ck=tr.unstable_LowPriority,Ny=tr.unstable_IdlePriority,zf=null,Xr=null;function Nk(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(zf,t,void 0,(t.current.flags&128)===128)}catch{}}var Nr=Math.clz32?Math.clz32:Dk,Ak=Math.log,Ik=Math.LN2;function Dk(t){return t>>>=0,t===0?32:31-(Ak(t)/Ik|0)|0}var Nc=64,Ac=4194304;function Vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Vo(o):(s&=a,s!==0&&(r=Vo(s)))}else a=n&~i,a!==0?r=Vo(a):s!==0&&(r=Vo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Nr(e),i=1<<n,r|=t[n],e&=~i;return r}function Rk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Nr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Rk(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ay(){var t=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),t}function Td(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ac(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nr(e),t[e]=n}function Mk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Nr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function up(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ot=0;function Iy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dy,fp,Ry,Py,My,Vh=!1,Ic=[],es=null,ts=null,ns=null,Cl=new Map,Nl=new Map,Bi=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nm(t,e){switch(t){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(e.pointerId)}}function Ao(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lc(e),e!==null&&fp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jk(t,e,n,r,i){switch(e){case"focusin":return es=Ao(es,t,e,n,r,i),!0;case"dragenter":return ts=Ao(ts,t,e,n,r,i),!0;case"mouseover":return ns=Ao(ns,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cl.set(s,Ao(Cl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,Ao(Nl.get(s)||null,t,e,n,r,i)),!0}return!1}function Oy(t){var e=Ls(t.target);if(e!==null){var n=oa(e);if(n!==null){if(e=n.tag,e===13){if(e=Sy(n),e!==null){t.blockedOn=e,My(t.priority,function(){Ry(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bh=r,n.target.dispatchEvent(r),Bh=null}else return e=lc(n),e!==null&&fp(e),t.blockedOn=n,!1;e.shift()}return!0}function rm(t,e,n){gu(t)&&n.delete(e)}function Fk(){Vh=!1,es!==null&&gu(es)&&(es=null),ts!==null&&gu(ts)&&(ts=null),ns!==null&&gu(ns)&&(ns=null),Cl.forEach(rm),Nl.forEach(rm)}function Io(t,e){t.blockedOn===e&&(t.blockedOn=null,Vh||(Vh=!0,tr.unstable_scheduleCallback(tr.unstable_NormalPriority,Fk)))}function Al(t){function e(i){return Io(i,t)}if(0<Ic.length){Io(Ic[0],t);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(es!==null&&Io(es,t),ts!==null&&Io(ts,t),ns!==null&&Io(ns,t),Cl.forEach(e),Nl.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)Oy(n),n.blockedOn===null&&Bi.shift()}var Wa=Ai.ReactCurrentBatchConfig,Hu=!0;function Lk(t,e,n,r){var i=ot,s=Wa.transition;Wa.transition=null;try{ot=1,dp(t,e,n,r)}finally{ot=i,Wa.transition=s}}function Bk(t,e,n,r){var i=ot,s=Wa.transition;Wa.transition=null;try{ot=4,dp(t,e,n,r)}finally{ot=i,Wa.transition=s}}function dp(t,e,n,r){if(Hu){var i=$h(t,e,n,r);if(i===null)jd(t,e,r,Vu,n),nm(t,r);else if(jk(i,t,e,n,r))r.stopPropagation();else if(nm(t,r),e&4&&-1<Ok.indexOf(t)){for(;i!==null;){var s=lc(i);if(s!==null&&Dy(s),s=$h(t,e,n,r),s===null&&jd(t,e,r,Vu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jd(t,e,r,null,n)}}var Vu=null;function $h(t,e,n,r){if(Vu=null,t=lp(r),t=Ls(t),t!==null)if(e=oa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vu=t,null}function jy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tk()){case cp:return 1;case Cy:return 4;case zu:case Ck:return 16;case Ny:return 536870912;default:return 16}default:return 16}}var $i=null,hp=null,mu=null;function Fy(){if(mu)return mu;var t,e=hp,n=e.length,r,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return mu=i.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dc(){return!0}function im(){return!1}function ir(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:im,this.isPropagationStopped=im,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=ir(xo),oc=Et({},xo,{view:0,detail:0}),Uk=ir(oc),Cd,Nd,Do,Wf=Et({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(Cd=t.screenX-Do.screenX,Nd=t.screenY-Do.screenY):Nd=Cd=0,Do=t),Cd)},movementY:function(t){return"movementY"in t?t.movementY:Nd}}),sm=ir(Wf),zk=Et({},Wf,{dataTransfer:0}),Wk=ir(zk),Hk=Et({},oc,{relatedTarget:0}),Ad=ir(Hk),Vk=Et({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=ir(Vk),Gk=Et({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kk=ir(Gk),Yk=Et({},xo,{data:0}),am=ir(Yk),Xk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jk[t])?!!e[t]:!1}function gp(){return Qk}var Zk=Et({},oc,{key:function(t){if(t.key){var e=Xk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gp,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eE=ir(Zk),tE=Et({},Wf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=ir(tE),nE=Et({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gp}),rE=ir(nE),iE=Et({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sE=ir(iE),aE=Et({},Wf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oE=ir(aE),lE=[9,13,27,32],mp=_i&&"CompositionEvent"in window,il=null;_i&&"documentMode"in document&&(il=document.documentMode);var cE=_i&&"TextEvent"in window&&!il,Ly=_i&&(!mp||il&&8<il&&11>=il),lm=" ",cm=!1;function By(t,e){switch(t){case"keyup":return lE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ca=!1;function uE(t,e){switch(t){case"compositionend":return Uy(e);case"keypress":return e.which!==32?null:(cm=!0,lm);case"textInput":return t=e.data,t===lm&&cm?null:t;default:return null}}function fE(t,e){if(Ca)return t==="compositionend"||!mp&&By(t,e)?(t=Fy(),mu=hp=$i=null,Ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ly&&e.locale!=="ko"?null:e.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dE[t.type]:e==="textarea"}function zy(t,e,n,r){vy(r),e=$u(e,"onChange"),0<e.length&&(n=new pp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sl=null,Il=null;function hE(t){Qy(t,0)}function Hf(t){var e=Ia(t);if(fy(e))return t}function pE(t,e){if(t==="change")return e}var Wy=!1;if(_i){var Id;if(_i){var Dd="oninput"in document;if(!Dd){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Dd=typeof fm.oninput=="function"}Id=Dd}else Id=!1;Wy=Id&&(!document.documentMode||9<document.documentMode)}function dm(){sl&&(sl.detachEvent("onpropertychange",Hy),Il=sl=null)}function Hy(t){if(t.propertyName==="value"&&Hf(Il)){var e=[];zy(e,Il,t,lp(t)),wy(hE,e)}}function gE(t,e,n){t==="focusin"?(dm(),sl=e,Il=n,sl.attachEvent("onpropertychange",Hy)):t==="focusout"&&dm()}function mE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hf(Il)}function xE(t,e){if(t==="click")return Hf(e)}function vE(t,e){if(t==="input"||t==="change")return Hf(e)}function yE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:yE;function Dl(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ch.call(e,i)||!Rr(t[i],e[i]))return!1}return!0}function hm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pm(t,e){var n=hm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hm(n)}}function Vy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $y(){for(var t=window,e=Lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lu(t.document)}return e}function xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bE(t){var e=$y(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vy(n.ownerDocument.documentElement,n)){if(r!==null&&xp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pm(n,s);var a=pm(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _E=_i&&"documentMode"in document&&11>=document.documentMode,Na=null,Gh=null,al=null,Kh=!1;function gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kh||Na==null||Na!==Lu(r)||(r=Na,"selectionStart"in r&&xp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&Dl(al,r)||(al=r,r=$u(Gh,"onSelect"),0<r.length&&(e=new pp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Rc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Aa={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},Rd={},Gy={};_i&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Vf(t){if(Rd[t])return Rd[t];if(!Aa[t])return t;var e=Aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gy)return Rd[t]=e[n];return t}var Ky=Vf("animationend"),Yy=Vf("animationiteration"),Xy=Vf("animationstart"),qy=Vf("transitionend"),Jy=new Map,mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){Jy.set(t,e),aa(e,[t])}for(var Pd=0;Pd<mm.length;Pd++){var Md=mm[Pd],wE=Md.toLowerCase(),SE=Md[0].toUpperCase()+Md.slice(1);ys(wE,"on"+SE)}ys(Ky,"onAnimationEnd");ys(Yy,"onAnimationIteration");ys(Xy,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(qy,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function xm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wk(r,e,void 0,t),t.currentTarget=null}function Qy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,c),s=l}}}if(Uu)throw t=Wh,Uu=!1,Wh=null,t}function gt(t,e){var n=e[Qh];n===void 0&&(n=e[Qh]=new Set);var r=t+"__bubble";n.has(r)||(Zy(e,t,2,!1),n.add(r))}function Od(t,e,n){var r=0;e&&(r|=4),Zy(n,t,r,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Rl(t){if(!t[Pc]){t[Pc]=!0,ay.forEach(function(n){n!=="selectionchange"&&(kE.has(n)||Od(n,!1,t),Od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,Od("selectionchange",!1,e))}}function Zy(t,e,n,r){switch(jy(e)){case 1:var i=Lk;break;case 4:i=Bk;break;default:i=dp}n=i.bind(null,e,n,t),i=void 0,!zh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function jd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ls(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}wy(function(){var c=s,f=lp(n),d=[];e:{var h=Jy.get(t);if(h!==void 0){var p=pp,m=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":p=eE;break;case"focusin":m="focus",p=Ad;break;case"focusout":m="blur",p=Ad;break;case"beforeblur":case"afterblur":p=Ad;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Wk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rE;break;case Ky:case Yy:case Xy:p=$k;break;case qy:p=sE;break;case"scroll":p=Uk;break;case"wheel":p=oE;break;case"copy":case"cut":case"paste":p=Kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=om}var g=(e&4)!==0,x=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,y!==null&&(_=Tl(v,y),_!=null&&g.push(Pl(v,_,b)))),x)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,f),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Bh&&(m=n.relatedTarget||n.fromElement)&&(Ls(m)||m[wi]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Ls(m):null,m!==null&&(x=oa(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=sm,_="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=om,_="onPointerLeave",y="onPointerEnter",v="pointer"),x=p==null?h:Ia(p),b=m==null?h:Ia(m),h=new g(_,v+"leave",p,n,f),h.target=x,h.relatedTarget=b,_=null,Ls(f)===c&&(g=new g(y,v+"enter",m,n,f),g.target=b,g.relatedTarget=x,_=g),x=_,p&&m)t:{for(g=p,y=m,v=0,b=g;b;b=va(b))v++;for(b=0,_=y;_;_=va(_))b++;for(;0<v-b;)g=va(g),v--;for(;0<b-v;)y=va(y),b--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=va(g),y=va(y)}g=null}else g=null;p!==null&&vm(d,h,p,g,!1),m!==null&&x!==null&&vm(d,x,m,g,!0)}}e:{if(h=c?Ia(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=pE;else if(um(h))if(Wy)S=vE;else{S=mE;var O=gE}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xE);if(S&&(S=S(t,c))){zy(d,S,n,f);break e}O&&O(t,h,c),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Mh(h,"number",h.value)}switch(O=c?Ia(c):window,t){case"focusin":(um(O)||O.contentEditable==="true")&&(Na=O,Gh=c,al=null);break;case"focusout":al=Gh=Na=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,gm(d,n,f);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":gm(d,n,f)}var k;if(mp)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ca?By(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ly&&n.locale!=="ko"&&(Ca||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ca&&(k=Fy()):($i=f,hp="value"in $i?$i.value:$i.textContent,Ca=!0)),O=$u(c,T),0<O.length&&(T=new am(T,t,null,n,f),d.push({event:T,listeners:O}),k?T.data=k:(k=Uy(n),k!==null&&(T.data=k)))),(k=cE?uE(t,n):fE(t,n))&&(c=$u(c,"onBeforeInput"),0<c.length&&(f=new am("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=k))}Qy(d,e)})}function Pl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $u(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tl(t,n),s!=null&&r.unshift(Pl(t,s,i)),s=Tl(t,e),s!=null&&r.push(Pl(t,s,i))),t=t.return}return r}function va(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vm(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Tl(n,s),l!=null&&a.unshift(Pl(n,l,o))):i||(l=Tl(n,s),l!=null&&a.push(Pl(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var EE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function ym(t){return(typeof t=="string"?t:""+t).replace(EE,`
`).replace(TE,"")}function Mc(t,e,n){if(e=ym(e),ym(t)!==e&&n)throw Error(ue(425))}function Gu(){}var Yh=null,Xh=null;function qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(t){return bm.resolve(null).then(t).catch(AE)}:Jh;function AE(t){setTimeout(function(){throw t})}function Fd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Al(e)}function rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _m(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),Yr="__reactFiber$"+vo,Ml="__reactProps$"+vo,wi="__reactContainer$"+vo,Qh="__reactEvents$"+vo,IE="__reactListeners$"+vo,DE="__reactHandles$"+vo;function Ls(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wi]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_m(t);t!==null;){if(n=t[Yr])return n;t=_m(t)}return e}t=n,n=t.parentNode}return null}function lc(t){return t=t[Yr]||t[wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function $f(t){return t[Ml]||null}var Zh=[],Da=-1;function bs(t){return{current:t}}function mt(t){0>Da||(t.current=Zh[Da],Zh[Da]=null,Da--)}function pt(t,e){Da++,Zh[Da]=t.current,t.current=e}var hs={},yn=bs(hs),Fn=bs(!1),Ys=hs;function to(t,e){var n=t.type.contextTypes;if(!n)return hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Ku(){mt(Fn),mt(yn)}function wm(t,e,n){if(yn.current!==hs)throw Error(ue(168));pt(yn,e),pt(Fn,n)}function eb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,gk(t)||"Unknown",i));return Et({},n,r)}function Yu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hs,Ys=yn.current,pt(yn,t),pt(Fn,Fn.current),!0}function Sm(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=eb(t,e,Ys),r.__reactInternalMemoizedMergedChildContext=t,mt(Fn),mt(yn),pt(yn,t)):mt(Fn),pt(Fn,n)}var ai=null,Gf=!1,Ld=!1;function tb(t){ai===null?ai=[t]:ai.push(t)}function RE(t){Gf=!0,tb(t)}function _s(){if(!Ld&&ai!==null){Ld=!0;var t=0,e=ot;try{var n=ai;for(ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ai=null,Gf=!1}catch(i){throw ai!==null&&(ai=ai.slice(t+1)),Ty(cp,_s),i}finally{ot=e,Ld=!1}}return null}var Ra=[],Pa=0,Xu=null,qu=0,cr=[],ur=0,Xs=null,li=1,ci="";function Rs(t,e){Ra[Pa++]=qu,Ra[Pa++]=Xu,Xu=t,qu=e}function nb(t,e,n){cr[ur++]=li,cr[ur++]=ci,cr[ur++]=Xs,Xs=t;var r=li;t=ci;var i=32-Nr(r)-1;r&=~(1<<i),n+=1;var s=32-Nr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,li=1<<32-Nr(e)+i|n<<i|r,ci=s+t}else li=1<<s|n<<i|r,ci=t}function vp(t){t.return!==null&&(Rs(t,1),nb(t,1,0))}function yp(t){for(;t===Xu;)Xu=Ra[--Pa],Ra[Pa]=null,qu=Ra[--Pa],Ra[Pa]=null;for(;t===Xs;)Xs=cr[--ur],cr[ur]=null,ci=cr[--ur],cr[ur]=null,li=cr[--ur],cr[ur]=null}var er=null,Zn=null,bt=!1,kr=null;function rb(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function km(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Zn=rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xs!==null?{id:li,overflow:ci}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Zn=null,!0):!1;default:return!1}}function e0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function t0(t){if(bt){var e=Zn;if(e){var n=e;if(!km(t,e)){if(e0(t))throw Error(ue(418));e=rs(n.nextSibling);var r=er;e&&km(t,e)?rb(r,n):(t.flags=t.flags&-4097|2,bt=!1,er=t)}}else{if(e0(t))throw Error(ue(418));t.flags=t.flags&-4097|2,bt=!1,er=t}}}function Em(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function Oc(t){if(t!==er)return!1;if(!bt)return Em(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qh(t.type,t.memoizedProps)),e&&(e=Zn)){if(e0(t))throw ib(),Error(ue(418));for(;e;)rb(t,e),e=rs(e.nextSibling)}if(Em(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=rs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=er?rs(t.stateNode.nextSibling):null;return!0}function ib(){for(var t=Zn;t;)t=rs(t.nextSibling)}function no(){Zn=er=null,bt=!1}function bp(t){kr===null?kr=[t]:kr.push(t)}var PE=Ai.ReactCurrentBatchConfig;function Ro(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function jc(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Tm(t){var e=t._init;return e(t._payload)}function sb(t){function e(y,v){if(t){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=os(y,v),y.index=0,y.sibling=null,y}function s(y,v,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=2,v):b):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,v,b,_){return v===null||v.tag!==6?(v=$d(b,y.mode,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,_){var S=b.type;return S===Ta?f(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fi&&Tm(S)===v.type)?(_=i(v,b.props),_.ref=Ro(y,v,b),_.return=y,_):(_=ku(b.type,b.key,b.props,null,y.mode,_),_.ref=Ro(y,v,b),_.return=y,_)}function c(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Gd(b,y.mode,_),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function f(y,v,b,_,S){return v===null||v.tag!==7?(v=Hs(b,y.mode,_,S),v.return=y,v):(v=i(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=$d(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ec:return b=ku(v.type,v.key,v.props,null,y.mode,b),b.ref=Ro(y,null,v),b.return=y,b;case Ea:return v=Gd(v,y.mode,b),v.return=y,v;case Fi:var _=v._init;return d(y,_(v._payload),b)}if(Ho(v)||Co(v))return v=Hs(v,y.mode,b,null),v.return=y,v;jc(y,v)}return null}function h(y,v,b,_){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:return b.key===S?l(y,v,b,_):null;case Ea:return b.key===S?c(y,v,b,_):null;case Fi:return S=b._init,h(y,v,S(b._payload),_)}if(Ho(b)||Co(b))return S!==null?null:f(y,v,b,_,null);jc(y,b)}return null}function p(y,v,b,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(b)||null,o(v,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ec:return y=y.get(_.key===null?b:_.key)||null,l(v,y,_,S);case Ea:return y=y.get(_.key===null?b:_.key)||null,c(v,y,_,S);case Fi:var O=_._init;return p(y,v,b,O(_._payload),S)}if(Ho(_)||Co(_))return y=y.get(b)||null,f(v,y,_,S,null);jc(v,_)}return null}function m(y,v,b,_){for(var S=null,O=null,k=v,T=v=0,C=null;k!==null&&T<b.length;T++){k.index>T?(C=k,k=null):C=k.sibling;var F=h(y,k,b[T],_);if(F===null){k===null&&(k=C);break}t&&k&&F.alternate===null&&e(y,k),v=s(F,v,T),O===null?S=F:O.sibling=F,O=F,k=C}if(T===b.length)return n(y,k),bt&&Rs(y,T),S;if(k===null){for(;T<b.length;T++)k=d(y,b[T],_),k!==null&&(v=s(k,v,T),O===null?S=k:O.sibling=k,O=k);return bt&&Rs(y,T),S}for(k=r(y,k);T<b.length;T++)C=p(k,y,T,b[T],_),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?T:C.key),v=s(C,v,T),O===null?S=C:O.sibling=C,O=C);return t&&k.forEach(function(j){return e(y,j)}),bt&&Rs(y,T),S}function g(y,v,b,_){var S=Co(b);if(typeof S!="function")throw Error(ue(150));if(b=S.call(b),b==null)throw Error(ue(151));for(var O=S=null,k=v,T=v=0,C=null,F=b.next();k!==null&&!F.done;T++,F=b.next()){k.index>T?(C=k,k=null):C=k.sibling;var j=h(y,k,F.value,_);if(j===null){k===null&&(k=C);break}t&&k&&j.alternate===null&&e(y,k),v=s(j,v,T),O===null?S=j:O.sibling=j,O=j,k=C}if(F.done)return n(y,k),bt&&Rs(y,T),S;if(k===null){for(;!F.done;T++,F=b.next())F=d(y,F.value,_),F!==null&&(v=s(F,v,T),O===null?S=F:O.sibling=F,O=F);return bt&&Rs(y,T),S}for(k=r(y,k);!F.done;T++,F=b.next())F=p(k,y,T,F.value,_),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?T:F.key),v=s(F,v,T),O===null?S=F:O.sibling=F,O=F);return t&&k.forEach(function(U){return e(y,U)}),bt&&Rs(y,T),S}function x(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Ta&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:e:{for(var S=b.key,O=v;O!==null;){if(O.key===S){if(S=b.type,S===Ta){if(O.tag===7){n(y,O.sibling),v=i(O,b.props.children),v.return=y,y=v;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Fi&&Tm(S)===O.type){n(y,O.sibling),v=i(O,b.props),v.ref=Ro(y,O,b),v.return=y,y=v;break e}n(y,O);break}else e(y,O);O=O.sibling}b.type===Ta?(v=Hs(b.props.children,y.mode,_,b.key),v.return=y,y=v):(_=ku(b.type,b.key,b.props,null,y.mode,_),_.ref=Ro(y,v,b),_.return=y,y=_)}return a(y);case Ea:e:{for(O=b.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),v=i(v,b.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else e(y,v);v=v.sibling}v=Gd(b,y.mode,_),v.return=y,y=v}return a(y);case Fi:return O=b._init,x(y,v,O(b._payload),_)}if(Ho(b))return m(y,v,b,_);if(Co(b))return g(y,v,b,_);jc(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,b),v.return=y,y=v):(n(y,v),v=$d(b,y.mode,_),v.return=y,y=v),a(y)):n(y,v)}return x}var ro=sb(!0),ab=sb(!1),Ju=bs(null),Qu=null,Ma=null,_p=null;function wp(){_p=Ma=Qu=null}function Sp(t){var e=Ju.current;mt(Ju),t._currentValue=e}function n0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ha(t,e){Qu=t,_p=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(_p!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(Qu===null)throw Error(ue(308));Ma=t,Qu.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var Bs=null;function kp(t){Bs===null?Bs=[t]:Bs.push(t)}function ob(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Li=!1;function Ep(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,kp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function vu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}function Cm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,f=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(h=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Et({},d,h);break e;case 2:Li=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=p,l=d):f=f.next=p,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Js|=a,t.lanes=a,t.memoizedState=d}}function Nm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var cc={},qr=bs(cc),Ol=bs(cc),jl=bs(cc);function Us(t){if(t===cc)throw Error(ue(174));return t}function Tp(t,e){switch(pt(jl,e),pt(Ol,t),pt(qr,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jh(e,t)}mt(qr),pt(qr,e)}function io(){mt(qr),mt(Ol),mt(jl)}function cb(t){Us(jl.current);var e=Us(qr.current),n=jh(e,t.type);e!==n&&(pt(Ol,t),pt(qr,n))}function Cp(t){Ol.current===t&&(mt(qr),mt(Ol))}var St=bs(0);function ef(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bd=[];function Np(){for(var t=0;t<Bd.length;t++)Bd[t]._workInProgressVersionPrimary=null;Bd.length=0}var yu=Ai.ReactCurrentDispatcher,Ud=Ai.ReactCurrentBatchConfig,qs=0,kt=null,Vt=null,Kt=null,tf=!1,ol=!1,Fl=0,ME=0;function fn(){throw Error(ue(321))}function Ap(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rr(t[n],e[n]))return!1;return!0}function Ip(t,e,n,r,i,s){if(qs=s,kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yu.current=t===null||t.memoizedState===null?LE:BE,t=n(r,i),ol){s=0;do{if(ol=!1,Fl=0,25<=s)throw Error(ue(301));s+=1,Kt=Vt=null,e.updateQueue=null,yu.current=UE,t=n(r,i)}while(ol)}if(yu.current=nf,e=Vt!==null&&Vt.next!==null,qs=0,Kt=Vt=kt=null,tf=!1,e)throw Error(ue(300));return t}function Dp(){var t=Fl!==0;return Fl=0,t}function Gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?kt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function pr(){if(Vt===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Kt===null?kt.memoizedState:Kt.next;if(e!==null)Kt=e,Vt=t;else{if(t===null)throw Error(ue(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Kt===null?kt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Ll(t,e){return typeof e=="function"?e(t):e}function zd(t){var e=pr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var f=c.lane;if((qs&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,kt.lanes|=f,Js|=f}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Rr(r,e.memoizedState)||(jn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kt.lanes|=s,Js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wd(t){var e=pr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Rr(s,e.memoizedState)||(jn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ub(){}function fb(t,e){var n=kt,r=pr(),i=e(),s=!Rr(r.memoizedState,i);if(s&&(r.memoizedState=i,jn=!0),r=r.queue,Rp(pb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Bl(9,hb.bind(null,n,r,i,e),void 0,null),Qt===null)throw Error(ue(349));qs&30||db(n,e,i)}return i}function db(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function hb(t,e,n,r){e.value=n,e.getSnapshot=r,gb(e)&&mb(t)}function pb(t,e,n){return n(function(){gb(e)&&mb(t)})}function gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rr(t,n)}catch{return!0}}function mb(t){var e=Si(t,1);e!==null&&Ar(e,t,1,-1)}function Am(t){var e=Gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:t},e.queue=t,t=t.dispatch=FE.bind(null,kt,t),[e.memoizedState,t]}function Bl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kt.updateQueue,e===null?(e={lastEffect:null,stores:null},kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xb(){return pr().memoizedState}function bu(t,e,n,r){var i=Gr();kt.flags|=t,i.memoizedState=Bl(1|e,n,void 0,r===void 0?null:r)}function Kf(t,e,n,r){var i=pr();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var a=Vt.memoizedState;if(s=a.destroy,r!==null&&Ap(r,a.deps)){i.memoizedState=Bl(e,n,s,r);return}}kt.flags|=t,i.memoizedState=Bl(1|e,n,s,r)}function Im(t,e){return bu(8390656,8,t,e)}function Rp(t,e){return Kf(2048,8,t,e)}function vb(t,e){return Kf(4,2,t,e)}function yb(t,e){return Kf(4,4,t,e)}function bb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _b(t,e,n){return n=n!=null?n.concat([t]):null,Kf(4,4,bb.bind(null,e,t),n)}function Pp(){}function wb(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Sb(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ap(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kb(t,e,n){return qs&21?(Rr(n,e)||(n=Ay(),kt.lanes|=n,Js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jn=!0),t.memoizedState=n)}function OE(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var r=Ud.transition;Ud.transition={};try{t(!1),e()}finally{ot=n,Ud.transition=r}}function Eb(){return pr().memoizedState}function jE(t,e,n){var r=as(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Tb(t))Cb(e,n);else if(n=ob(t,e,n,r),n!==null){var i=Cn();Ar(n,t,r,i),Nb(n,e,r)}}function FE(t,e,n){var r=as(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tb(t))Cb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Rr(o,a)){var l=e.interleaved;l===null?(i.next=i,kp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ob(t,e,i,r),n!==null&&(i=Cn(),Ar(n,t,r,i),Nb(n,e,r))}}function Tb(t){var e=t.alternate;return t===kt||e!==null&&e===kt}function Cb(t,e){ol=tf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Nb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,up(t,n)}}var nf={readContext:hr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},LE={readContext:hr,useCallback:function(t,e){return Gr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:Im,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,bb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=Gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jE.bind(null,kt,t),[r.memoizedState,t]},useRef:function(t){var e=Gr();return t={current:t},e.memoizedState=t},useState:Am,useDebugValue:Pp,useDeferredValue:function(t){return Gr().memoizedState=t},useTransition:function(){var t=Am(!1),e=t[0];return t=OE.bind(null,t[1]),Gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kt,i=Gr();if(bt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Qt===null)throw Error(ue(349));qs&30||db(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Im(pb.bind(null,r,s,t),[t]),r.flags|=2048,Bl(9,hb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gr(),e=Qt.identifierPrefix;if(bt){var n=ci,r=li;n=(r&~(1<<32-Nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ME++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BE={readContext:hr,useCallback:wb,useContext:hr,useEffect:Rp,useImperativeHandle:_b,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:Sb,useReducer:zd,useRef:xb,useState:function(){return zd(Ll)},useDebugValue:Pp,useDeferredValue:function(t){var e=pr();return kb(e,Vt.memoizedState,t)},useTransition:function(){var t=zd(Ll)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ub,useSyncExternalStore:fb,useId:Eb,unstable_isNewReconciler:!1},UE={readContext:hr,useCallback:wb,useContext:hr,useEffect:Rp,useImperativeHandle:_b,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:Sb,useReducer:Wd,useRef:xb,useState:function(){return Wd(Ll)},useDebugValue:Pp,useDeferredValue:function(t){var e=pr();return Vt===null?e.memoizedState=t:kb(e,Vt.memoizedState,t)},useTransition:function(){var t=Wd(Ll)[0],e=pr().memoizedState;return[t,e]},useMutableSource:ub,useSyncExternalStore:fb,useId:Eb,unstable_isNewReconciler:!1};function wr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function r0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yf={isMounted:function(t){return(t=t._reactInternals)?oa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=as(t),s=xi(r,i);s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(Ar(e,t,i,r),vu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cn(),i=as(t),s=xi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=is(t,s,i),e!==null&&(Ar(e,t,i,r),vu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),r=as(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=is(t,i,r),e!==null&&(Ar(e,t,r,n),vu(e,t,r))}};function Dm(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(i,s):!0}function Ab(t,e,n){var r=!1,i=hs,s=e.contextType;return typeof s=="object"&&s!==null?s=hr(s):(i=Ln(e)?Ys:yn.current,r=e.contextTypes,s=(r=r!=null)?to(t,i):hs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function i0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ep(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hr(s):(s=Ln(e)?Ys:yn.current,i.context=to(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(r0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yf.enqueueReplaceState(i,i.state,null),Zu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=pk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function s0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zE=typeof WeakMap=="function"?WeakMap:Map;function Ib(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sf||(sf=!0,g0=r),s0(t,e)},n}function Db(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){s0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){s0(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Pm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zE;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tT.bind(null,t,e,n),e.then(t,t))}function Mm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Om(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,is(n,e,1))),n.lanes|=1),t)}var WE=Ai.ReactCurrentOwner,jn=!1;function kn(t,e,n,r){e.child=t===null?ab(e,null,n,r):ro(e,t.child,n,r)}function jm(t,e,n,r,i){n=n.render;var s=e.ref;return Ha(e,i),r=Ip(t,e,n,r,s,i),n=Dp(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(bt&&n&&vp(e),e.flags|=1,kn(t,e,r,i),e.child)}function Fm(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!zp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Rb(t,e,s,r,i)):(t=ku(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(a,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=os(s,r),t.ref=e.ref,t.return=e,e.child=t}function Rb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(jn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(jn=!0);else return e.lanes=t.lanes,ki(t,e,i)}return a0(t,e,n,r,i)}function Pb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(ja,Xn),Xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(ja,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pt(ja,Xn),Xn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pt(ja,Xn),Xn|=r;return kn(t,e,i,n),e.child}function Mb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a0(t,e,n,r,i){var s=Ln(n)?Ys:yn.current;return s=to(e,s),Ha(e,i),n=Ip(t,e,n,r,s,i),r=Dp(),t!==null&&!jn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(bt&&r&&vp(e),e.flags|=1,kn(t,e,n,i),e.child)}function Lm(t,e,n,r,i){if(Ln(n)){var s=!0;Yu(e)}else s=!1;if(Ha(e,i),e.stateNode===null)_u(t,e),Ab(e,n,r),i0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=hr(c):(c=Ln(n)?Ys:yn.current,c=to(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Rm(e,a,r,c),Li=!1;var h=e.memoizedState;a.state=h,Zu(e,r,a,i),l=e.memoizedState,o!==r||h!==l||Fn.current||Li?(typeof f=="function"&&(r0(e,n,f,r),l=e.memoizedState),(o=Li||Dm(e,n,o,r,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,lb(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:wr(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Ln(n)?Ys:yn.current,l=to(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&Rm(e,a,r,l),Li=!1,h=e.memoizedState,a.state=h,Zu(e,r,a,i);var m=e.memoizedState;o!==d||h!==m||Fn.current||Li?(typeof p=="function"&&(r0(e,n,p,r),m=e.memoizedState),(c=Li||Dm(e,n,c,r,h,m,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return o0(t,e,n,r,s,i)}function o0(t,e,n,r,i,s){Mb(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&Sm(e,n,!1),ki(t,e,s);r=e.stateNode,WE.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ro(e,t.child,null,s),e.child=ro(e,null,o,s)):kn(t,e,o,s),e.memoizedState=r.state,i&&Sm(e,n,!0),e.child}function Ob(t){var e=t.stateNode;e.pendingContext?wm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wm(t,e.context,!1),Tp(t,e.containerInfo)}function Bm(t,e,n,r,i){return no(),bp(i),e.flags|=256,kn(t,e,n,r),e.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function c0(t){return{baseLanes:t,cachePool:null,transitions:null}}function jb(t,e,n){var r=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(St,i&1),t===null)return t0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Jf(a,r,0,null),t=Hs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=c0(n),e.memoizedState=l0,t):Mp(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return HE(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=os(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=os(o,s):(s=Hs(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?c0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=l0,r}return s=t.child,t=s.sibling,r=os(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Mp(t,e){return e=Jf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&bp(r),ro(e,t.child,null,n),t=Mp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HE(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=Hd(Error(ue(422))),Fc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jf({mode:"visible",children:r.children},i,0,null),s=Hs(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ro(e,t.child,null,a),e.child.memoizedState=c0(a),e.memoizedState=l0,s);if(!(e.mode&1))return Fc(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ue(419)),r=Hd(s,r,void 0),Fc(t,e,a,r)}if(o=(a&t.childLanes)!==0,jn||o){if(r=Qt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Si(t,i),Ar(r,t,i,-1))}return Up(),r=Hd(Error(ue(421))),Fc(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nT.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zn=rs(i.nextSibling),er=e,bt=!0,kr=null,t!==null&&(cr[ur++]=li,cr[ur++]=ci,cr[ur++]=Xs,li=t.id,ci=t.overflow,Xs=e),e=Mp(e,r.children),e.flags|=4096,e)}function Um(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),n0(t.return,e,n)}function Vd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Fb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kn(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Um(t,n,e);else if(t.tag===19)Um(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(St,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ef(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ef(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vd(e,!0,n,null,s);break;case"together":Vd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VE(t,e,n){switch(e.tag){case 3:Ob(e),no();break;case 5:cb(e);break;case 1:Ln(e.type)&&Yu(e);break;case 4:Tp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Ju,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(St,St.current&1),e.flags|=128,null):n&e.child.childLanes?jb(t,e,n):(pt(St,St.current&1),t=ki(t,e,n),t!==null?t.sibling:null);pt(St,St.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,Pb(t,e,n)}return ki(t,e,n)}var Lb,u0,Bb,Ub;Lb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};u0=function(){};Bb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Us(qr.current);var s=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),s=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),s=[];break;case"textarea":i=Oh(t,i),r=Oh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gu)}Fh(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(kl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&gt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Ub=function(t,e,n,r){n!==r&&(e.flags|=4)};function Po(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $E(t,e,n){var r=e.pendingProps;switch(yp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Ln(e.type)&&Ku(),dn(e),null;case 3:return r=e.stateNode,io(),mt(Fn),mt(yn),Np(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kr!==null&&(v0(kr),kr=null))),u0(t,e),dn(e),null;case 5:Cp(e);var i=Us(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)Bb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return dn(e),null}if(t=Us(qr.current),Oc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yr]=e,r[Ml]=s,t=(e.mode&1)!==0,n){case"dialog":gt("cancel",r),gt("close",r);break;case"iframe":case"object":case"embed":gt("load",r);break;case"video":case"audio":for(i=0;i<$o.length;i++)gt($o[i],r);break;case"source":gt("error",r);break;case"img":case"image":case"link":gt("error",r),gt("load",r);break;case"details":gt("toggle",r);break;case"input":Xg(r,s),gt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},gt("invalid",r);break;case"textarea":Jg(r,s),gt("invalid",r)}Fh(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,o,t),i=["children",""+o]):kl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&gt("scroll",r)}switch(n){case"input":Tc(r),qg(r,s,!0);break;case"textarea":Tc(r),Qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Gu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=py(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Yr]=e,t[Ml]=r,Lb(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lh(n,r),n){case"dialog":gt("cancel",t),gt("close",t),i=r;break;case"iframe":case"object":case"embed":gt("load",t),i=r;break;case"video":case"audio":for(i=0;i<$o.length;i++)gt($o[i],t);i=r;break;case"source":gt("error",t),i=r;break;case"img":case"image":case"link":gt("error",t),gt("load",t),i=r;break;case"details":gt("toggle",t),i=r;break;case"input":Xg(t,r),i=Rh(t,r),gt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),gt("invalid",t);break;case"textarea":Jg(t,r),i=Oh(t,r),gt("invalid",t);break;default:i=r}Fh(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?xy(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gy(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&El(t,l):typeof l=="number"&&El(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&gt("scroll",t):l!=null&&ip(t,s,l,a))}switch(n){case"input":Tc(t),qg(t,r,!1);break;case"textarea":Tc(t),Qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ds(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ba(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(t&&e.stateNode!=null)Ub(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Us(jl.current),Us(qr.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(s=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:Mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return dn(e),null;case 13:if(mt(St),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&Zn!==null&&e.mode&1&&!(e.flags&128))ib(),no(),e.flags|=98560,s=!1;else if(s=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[Yr]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else kr!==null&&(v0(kr),kr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?$t===0&&($t=3):Up())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return io(),u0(t,e),t===null&&Rl(e.stateNode.containerInfo),dn(e),null;case 10:return Sp(e.type._context),dn(e),null;case 17:return Ln(e.type)&&Ku(),dn(e),null;case 19:if(mt(St),s=e.memoizedState,s===null)return dn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Po(s,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=ef(t),a!==null){for(e.flags|=128,Po(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>ao&&(e.flags|=128,r=!0,Po(s,!1),e.lanes=4194304)}else{if(!r)if(t=ef(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Po(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!bt)return dn(e),null}else 2*Pt()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,Po(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,n=St.current,pt(St,r?n&1|2:n&1),e):(dn(e),null);case 22:case 23:return Bp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xn&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function GE(t,e){switch(yp(e),e.tag){case 1:return Ln(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return io(),mt(Fn),mt(yn),Np(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cp(e),null;case 13:if(mt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));no()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(St),null;case 4:return io(),null;case 10:return Sp(e.type._context),null;case 22:case 23:return Bp(),null;case 24:return null;default:return null}}var Lc=!1,gn=!1,KE=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Oa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(t,e,r)}else n.current=null}function f0(t,e,n){try{n()}catch(r){Nt(t,e,r)}}var zm=!1;function YE(t,e){if(Yh=Hu,t=$y(),xp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++c===i&&(o=a),h===s&&++f===r&&(l=a),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xh={focusedElem:t,selectionRange:n},Hu=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,x=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:wr(e.type,g),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(_){Nt(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return m=zm,zm=!1,m}function ll(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f0(e,n,s)}i=i.next}while(i!==r)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function d0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zb(t){var e=t.alternate;e!==null&&(t.alternate=null,zb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[Ml],delete e[Qh],delete e[IE],delete e[DE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Wb(t){return t.tag===5||t.tag===3||t.tag===4}function Wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function h0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gu));else if(r!==4&&(t=t.child,t!==null))for(h0(t,e,n),t=t.sibling;t!==null;)h0(t,e,n),t=t.sibling}function p0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(p0(t,e,n),t=t.sibling;t!==null;)p0(t,e,n),t=t.sibling}var tn=null,Sr=!1;function Mi(t,e,n){for(n=n.child;n!==null;)Hb(t,e,n),n=n.sibling}function Hb(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(zf,n)}catch{}switch(n.tag){case 5:gn||Oa(n,e);case 6:var r=tn,i=Sr;tn=null,Mi(t,e,n),tn=r,Sr=i,tn!==null&&(Sr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Sr?(t=tn,n=n.stateNode,t.nodeType===8?Fd(t.parentNode,n):t.nodeType===1&&Fd(t,n),Al(t)):Fd(tn,n.stateNode));break;case 4:r=tn,i=Sr,tn=n.stateNode.containerInfo,Sr=!0,Mi(t,e,n),tn=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&f0(n,e,a),i=i.next}while(i!==r)}Mi(t,e,n);break;case 1:if(!gn&&(Oa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nt(n,e,o)}Mi(t,e,n);break;case 21:Mi(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,Mi(t,e,n),gn=r):Mi(t,e,n);break;default:Mi(t,e,n)}}function Hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KE),e.forEach(function(r){var i=rT.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:tn=o.stateNode,Sr=!1;break e;case 3:tn=o.stateNode.containerInfo,Sr=!0;break e;case 4:tn=o.stateNode.containerInfo,Sr=!0;break e}o=o.return}if(tn===null)throw Error(ue(160));Hb(s,a,i),tn=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vb(e,t),e=e.sibling}function Vb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yr(e,t),Wr(t),r&4){try{ll(3,t,t.return),Xf(3,t)}catch(g){Nt(t,t.return,g)}try{ll(5,t,t.return)}catch(g){Nt(t,t.return,g)}}break;case 1:yr(e,t),Wr(t),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(yr(e,t),Wr(t),r&512&&n!==null&&Oa(n,n.return),t.flags&32){var i=t.stateNode;try{El(i,"")}catch(g){Nt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&dy(i,s),Lh(o,a);var c=Lh(o,s);for(a=0;a<l.length;a+=2){var f=l[a],d=l[a+1];f==="style"?xy(i,d):f==="dangerouslySetInnerHTML"?gy(i,d):f==="children"?El(i,d):ip(i,f,d,c)}switch(o){case"input":Ph(i,s);break;case"textarea":hy(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ba(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ba(i,!!s.multiple,s.defaultValue,!0):Ba(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(g){Nt(t,t.return,g)}}break;case 6:if(yr(e,t),Wr(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Nt(t,t.return,g)}}break;case 3:if(yr(e,t),Wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(e.containerInfo)}catch(g){Nt(t,t.return,g)}break;case 4:yr(e,t),Wr(t);break;case 13:yr(e,t),Wr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=Pt())),r&4&&Hm(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(c=gn)||f,yr(e,t),gn=c):yr(e,t),Wr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Se=t,f=t.child;f!==null;){for(d=Se=f;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:ll(4,h,h.return);break;case 1:Oa(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Nt(r,n,g)}}break;case 5:Oa(h,h.return);break;case 22:if(h.memoizedState!==null){$m(d);continue}}p!==null?(p.return=h,Se=p):$m(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=my("display",a))}catch(g){Nt(t,t.return,g)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Nt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yr(e,t),Wr(t),r&4&&Hm(t);break;case 21:break;default:yr(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Wb(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(El(i,""),r.flags&=-33);var s=Wm(t);p0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Wm(t);h0(t,o,a);break;default:throw Error(ue(161))}}catch(l){Nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XE(t,e,n){Se=t,$b(t)}function $b(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gn;o=Lc;var c=gn;if(Lc=a,(gn=l)&&!c)for(Se=i;Se!==null;)a=Se,l=a.child,a.tag===22&&a.memoizedState!==null?Gm(i):l!==null?(l.return=a,Se=l):Gm(i);for(;s!==null;)Se=s,$b(s),s=s.sibling;Se=i,Lc=o,gn=c}Vm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):Vm(t)}}function Vm(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nm(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nm(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Al(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}gn||e.flags&512&&d0(e)}catch(h){Nt(e,e.return,h)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function $m(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function Gm(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xf(4,e)}catch(l){Nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Nt(e,i,l)}}var s=e.return;try{d0(e)}catch(l){Nt(e,s,l)}break;case 5:var a=e.return;try{d0(e)}catch(l){Nt(e,a,l)}}}catch(l){Nt(e,e.return,l)}if(e===t){Se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Se=o;break}Se=e.return}}var qE=Math.ceil,rf=Ai.ReactCurrentDispatcher,Op=Ai.ReactCurrentOwner,dr=Ai.ReactCurrentBatchConfig,qe=0,Qt=null,jt=null,an=0,Xn=0,ja=bs(0),$t=0,Ul=null,Js=0,qf=0,jp=0,cl=null,Mn=null,Fp=0,ao=1/0,si=null,sf=!1,g0=null,ss=null,Bc=!1,Gi=null,af=0,ul=0,m0=null,wu=-1,Su=0;function Cn(){return qe&6?Pt():wu!==-1?wu:wu=Pt()}function as(t){return t.mode&1?qe&2&&an!==0?an&-an:PE.transition!==null?(Su===0&&(Su=Ay()),Su):(t=ot,t!==0||(t=window.event,t=t===void 0?16:jy(t.type)),t):1}function Ar(t,e,n,r){if(50<ul)throw ul=0,m0=null,Error(ue(185));ac(t,n,r),(!(qe&2)||t!==Qt)&&(t===Qt&&(!(qe&2)&&(qf|=n),$t===4&&Ui(t,an)),Bn(t,r),n===1&&qe===0&&!(e.mode&1)&&(ao=Pt()+500,Gf&&_s()))}function Bn(t,e){var n=t.callbackNode;Pk(t,e);var r=Wu(t,t===Qt?an:0);if(r===0)n!==null&&tm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tm(n),e===1)t.tag===0?RE(Km.bind(null,t)):tb(Km.bind(null,t)),NE(function(){!(qe&6)&&_s()}),n=null;else{switch(Iy(r)){case 1:n=cp;break;case 4:n=Cy;break;case 16:n=zu;break;case 536870912:n=Ny;break;default:n=zu}n=Zb(n,Gb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gb(t,e){if(wu=-1,Su=0,qe&6)throw Error(ue(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=Wu(t,t===Qt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=of(t,r);else{e=r;var i=qe;qe|=2;var s=Yb();(Qt!==t||an!==e)&&(si=null,ao=Pt()+500,Ws(t,e));do try{ZE();break}catch(o){Kb(t,o)}while(!0);wp(),rf.current=s,qe=i,jt!==null?e=0:(Qt=null,an=0,e=$t)}if(e!==0){if(e===2&&(i=Hh(t),i!==0&&(r=i,e=x0(t,i))),e===1)throw n=Ul,Ws(t,0),Ui(t,r),Bn(t,Pt()),n;if(e===6)Ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!JE(i)&&(e=of(t,r),e===2&&(s=Hh(t),s!==0&&(r=s,e=x0(t,s))),e===1))throw n=Ul,Ws(t,0),Ui(t,r),Bn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Ps(t,Mn,si);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=Fp+500-Pt(),10<e)){if(Wu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jh(Ps.bind(null,t,Mn,si),e);break}Ps(t,Mn,si);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Nr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qE(r/1960))-r,10<r){t.timeoutHandle=Jh(Ps.bind(null,t,Mn,si),r);break}Ps(t,Mn,si);break;case 5:Ps(t,Mn,si);break;default:throw Error(ue(329))}}}return Bn(t,Pt()),t.callbackNode===n?Gb.bind(null,t):null}function x0(t,e){var n=cl;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=of(t,e),t!==2&&(e=Mn,Mn=n,e!==null&&v0(e)),t}function v0(t){Mn===null?Mn=t:Mn.push.apply(Mn,t)}function JE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~jp,e&=~qf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nr(e),r=1<<n;t[n]=-1,e&=~r}}function Km(t){if(qe&6)throw Error(ue(327));Va();var e=Wu(t,0);if(!(e&1))return Bn(t,Pt()),null;var n=of(t,e);if(t.tag!==0&&n===2){var r=Hh(t);r!==0&&(e=r,n=x0(t,r))}if(n===1)throw n=Ul,Ws(t,0),Ui(t,e),Bn(t,Pt()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,Mn,si),Bn(t,Pt()),null}function Lp(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(ao=Pt()+500,Gf&&_s())}}function Qs(t){Gi!==null&&Gi.tag===0&&!(qe&6)&&Va();var e=qe;qe|=1;var n=dr.transition,r=ot;try{if(dr.transition=null,ot=1,t)return t()}finally{ot=r,dr.transition=n,qe=e,!(qe&6)&&_s()}}function Bp(){Xn=ja.current,mt(ja)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CE(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ku();break;case 3:io(),mt(Fn),mt(yn),Np();break;case 5:Cp(r);break;case 4:io();break;case 13:mt(St);break;case 19:mt(St);break;case 10:Sp(r.type._context);break;case 22:case 23:Bp()}n=n.return}if(Qt=t,jt=t=os(t.current,null),an=Xn=e,$t=0,Ul=null,jp=qf=Js=0,Mn=cl=null,Bs!==null){for(e=0;e<Bs.length;e++)if(n=Bs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Bs=null}return t}function Kb(t,e){do{var n=jt;try{if(wp(),yu.current=nf,tf){for(var r=kt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}tf=!1}if(qs=0,Kt=Vt=kt=null,ol=!1,Fl=0,Op.current=null,n===null||n.return===null){$t=1,Ul=e,jt=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=an,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Mm(a);if(p!==null){p.flags&=-257,Om(p,a,o,s,e),p.mode&1&&Pm(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Pm(s,c,e),Up();break e}l=Error(ue(426))}}else if(bt&&o.mode&1){var x=Mm(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Om(x,a,o,s,e),bp(so(l,o));break e}}s=l=so(l,o),$t!==4&&($t=2),cl===null?cl=[s]:cl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Ib(s,l,e);Cm(s,y);break e;case 1:o=l;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ss===null||!ss.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=Db(s,o,e);Cm(s,_);break e}}s=s.return}while(s!==null)}qb(n)}catch(S){e=S,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(!0)}function Yb(){var t=rf.current;return rf.current=nf,t===null?nf:t}function Up(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!(Js&268435455)&&!(qf&268435455)||Ui(Qt,an)}function of(t,e){var n=qe;qe|=2;var r=Yb();(Qt!==t||an!==e)&&(si=null,Ws(t,e));do try{QE();break}catch(i){Kb(t,i)}while(!0);if(wp(),qe=n,rf.current=r,jt!==null)throw Error(ue(261));return Qt=null,an=0,$t}function QE(){for(;jt!==null;)Xb(jt)}function ZE(){for(;jt!==null&&!kk();)Xb(jt)}function Xb(t){var e=Qb(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?qb(t):jt=e,Op.current=null}function qb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GE(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,jt=null;return}}else if(n=$E(n,e,Xn),n!==null){jt=n;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);$t===0&&($t=5)}function Ps(t,e,n){var r=ot,i=dr.transition;try{dr.transition=null,ot=1,eT(t,e,n,r)}finally{dr.transition=i,ot=r}return null}function eT(t,e,n,r){do Va();while(Gi!==null);if(qe&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mk(t,s),t===Qt&&(jt=Qt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bc||(Bc=!0,Zb(zu,function(){return Va(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dr.transition,dr.transition=null;var a=ot;ot=1;var o=qe;qe|=4,Op.current=null,YE(t,n),Vb(n,t),bE(Xh),Hu=!!Yh,Xh=Yh=null,t.current=n,XE(n),Ek(),qe=o,ot=a,dr.transition=s}else t.current=n;if(Bc&&(Bc=!1,Gi=t,af=i),s=t.pendingLanes,s===0&&(ss=null),Nk(n.stateNode),Bn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sf)throw sf=!1,t=g0,g0=null,t;return af&1&&t.tag!==0&&Va(),s=t.pendingLanes,s&1?t===m0?ul++:(ul=0,m0=t):ul=0,_s(),null}function Va(){if(Gi!==null){var t=Iy(af),e=dr.transition,n=ot;try{if(dr.transition=null,ot=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,af=0,qe&6)throw Error(ue(331));var i=qe;for(qe|=4,Se=t.current;Se!==null;){var s=Se,a=s.child;if(Se.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Se=c;Se!==null;){var f=Se;switch(f.tag){case 0:case 11:case 15:ll(8,f,s)}var d=f.child;if(d!==null)d.return=f,Se=d;else for(;Se!==null;){f=Se;var h=f.sibling,p=f.return;if(zb(f),f===c){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}Se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Se=a;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Se=y;break e}Se=s.return}}var v=t.current;for(Se=v;Se!==null;){a=Se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Se=b;else e:for(a=v;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xf(9,o)}}catch(S){Nt(o,o.return,S)}if(o===a){Se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Se=_;break e}Se=o.return}}if(qe=i,_s(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(zf,t)}catch{}r=!0}return r}finally{ot=n,dr.transition=e}}return!1}function Ym(t,e,n){e=so(n,e),e=Ib(t,e,1),t=is(t,e,1),e=Cn(),t!==null&&(ac(t,1,e),Bn(t,e))}function Nt(t,e,n){if(t.tag===3)Ym(t,t,n);else for(;e!==null;){if(e.tag===3){Ym(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=so(n,t),t=Db(e,t,1),e=is(e,t,1),t=Cn(),e!==null&&(ac(e,1,t),Bn(e,t));break}}e=e.return}}function tT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(an&n)===n&&($t===4||$t===3&&(an&130023424)===an&&500>Pt()-Fp?Ws(t,0):jp|=n),Bn(t,e)}function Jb(t,e){e===0&&(t.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var n=Cn();t=Si(t,e),t!==null&&(ac(t,e,n),Bn(t,n))}function nT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Jb(t,n)}function rT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),Jb(t,n)}var Qb;Qb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)jn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jn=!1,VE(t,e,n);jn=!!(t.flags&131072)}else jn=!1,bt&&e.flags&1048576&&nb(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_u(t,e),t=e.pendingProps;var i=to(e,yn.current);Ha(e,n),i=Ip(null,e,r,t,i,n);var s=Dp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(s=!0,Yu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ep(e),i.updater=Yf,e.stateNode=i,i._reactInternals=e,i0(e,r,t,n),e=o0(null,e,r,!0,s,n)):(e.tag=0,bt&&s&&vp(e),kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_u(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sT(r),t=wr(r,t),i){case 0:e=a0(null,e,r,t,n);break e;case 1:e=Lm(null,e,r,t,n);break e;case 11:e=jm(null,e,r,t,n);break e;case 14:e=Fm(null,e,r,wr(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),a0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),Lm(t,e,r,i,n);case 3:e:{if(Ob(e),t===null)throw Error(ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lb(t,e),Zu(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=so(Error(ue(423)),e),e=Bm(t,e,r,n,i);break e}else if(r!==i){i=so(Error(ue(424)),e),e=Bm(t,e,r,n,i);break e}else for(Zn=rs(e.stateNode.containerInfo.firstChild),er=e,bt=!0,kr=null,n=ab(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===i){e=ki(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return cb(e),t===null&&t0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,qh(r,i)?a=null:s!==null&&qh(r,s)&&(e.flags|=32),Mb(t,e),kn(t,e,a,n),e.child;case 6:return t===null&&t0(e),null;case 13:return jb(t,e,n);case 4:return Tp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ro(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),jm(t,e,r,i,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,pt(Ju,r._currentValue),r._currentValue=a,s!==null)if(Rr(s.value,a)){if(s.children===i.children&&!Fn.current){e=ki(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),n0(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ue(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),n0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ha(e,n),i=hr(i),r=r(i),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,i=wr(r,e.pendingProps),i=wr(r.type,i),Fm(t,e,r,i,n);case 15:return Rb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wr(r,i),_u(t,e),e.tag=1,Ln(r)?(t=!0,Yu(e)):t=!1,Ha(e,n),Ab(e,r,i),i0(e,r,i,n),o0(null,e,r,!0,t,n);case 19:return Fb(t,e,n);case 22:return Pb(t,e,n)}throw Error(ue(156,e.tag))};function Zb(t,e){return Ty(t,e)}function iT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new iT(t,e,n,r)}function zp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sT(t){if(typeof t=="function")return zp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ap)return 11;if(t===op)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ku(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")zp(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ta:return Hs(n.children,i,s,e);case sp:a=8,i|=8;break;case Nh:return t=fr(12,n,e,i|2),t.elementType=Nh,t.lanes=s,t;case Ah:return t=fr(13,n,e,i),t.elementType=Ah,t.lanes=s,t;case Ih:return t=fr(19,n,e,i),t.elementType=Ih,t.lanes=s,t;case cy:return Jf(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oy:a=10;break e;case ly:a=9;break e;case ap:a=11;break e;case op:a=14;break e;case Fi:a=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=fr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hs(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Jf(t,e,n,r){return t=fr(22,t,r,e),t.elementType=cy,t.lanes=n,t.stateNode={isHidden:!1},t}function $d(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function Gd(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function aT(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wp(t,e,n,r,i,s,a,o,l){return t=new aT(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=fr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ep(s),t}function oT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e2(t){if(!t)return hs;t=t._reactInternals;e:{if(oa(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Ln(n))return eb(t,n,e)}return e}function t2(t,e,n,r,i,s,a,o,l){return t=Wp(n,r,!0,t,i,s,a,o,l),t.context=e2(null),n=t.current,r=Cn(),i=as(n),s=xi(r,i),s.callback=e??null,is(n,s,i),t.current.lanes=i,ac(t,i,r),Bn(t,r),t}function Qf(t,e,n,r){var i=e.current,s=Cn(),a=as(i);return n=e2(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=is(i,e,a),t!==null&&(Ar(t,i,a,s),vu(t,i,a)),a}function lf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hp(t,e){Xm(t,e),(t=t.alternate)&&Xm(t,e)}function lT(){return null}var n2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vp(t){this._internalRoot=t}Zf.prototype.render=Vp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));Qf(t,e,null,null)};Zf.prototype.unmount=Vp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qs(function(){Qf(null,t,null,null)}),e[wi]=null}};function Zf(t){this._internalRoot=t}Zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Py();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&Oy(t)}};function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ed(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qm(){}function cT(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=lf(a);s.call(c)}}var a=t2(e,r,t,0,null,!1,!1,"",qm);return t._reactRootContainer=a,t[wi]=a.current,Rl(t.nodeType===8?t.parentNode:t),Qs(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=lf(l);o.call(c)}}var l=Wp(t,0,!1,null,null,!1,!1,"",qm);return t._reactRootContainer=l,t[wi]=l.current,Rl(t.nodeType===8?t.parentNode:t),Qs(function(){Qf(e,l,n,r)}),l}function td(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lf(a);o.call(l)}}Qf(e,a,t,i)}else a=cT(n,e,t,i,r);return lf(a)}Dy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vo(e.pendingLanes);n!==0&&(up(e,n|1),Bn(e,Pt()),!(qe&6)&&(ao=Pt()+500,_s()))}break;case 13:Qs(function(){var r=Si(t,1);if(r!==null){var i=Cn();Ar(r,t,1,i)}}),Hp(t,1)}};fp=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Cn();Ar(e,t,134217728,n)}Hp(t,134217728)}};Ry=function(t){if(t.tag===13){var e=as(t),n=Si(t,e);if(n!==null){var r=Cn();Ar(n,t,e,r)}Hp(t,e)}};Py=function(){return ot};My=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};Uh=function(t,e,n){switch(e){case"input":if(Ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=$f(r);if(!i)throw Error(ue(90));fy(r),Ph(r,i)}}}break;case"textarea":hy(t,n);break;case"select":e=n.value,e!=null&&Ba(t,!!n.multiple,e,!1)}};by=Lp;_y=Qs;var uT={usingClientEntryPoint:!1,Events:[lc,Ia,$f,vy,yy,Lp]},Mo={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fT={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ky(t),t===null?null:t.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||lT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{zf=Uc.inject(fT),Xr=Uc}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uT;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$p(e))throw Error(ue(200));return oT(t,e,null,n)};rr.createRoot=function(t,e){if(!$p(t))throw Error(ue(299));var n=!1,r="",i=n2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Wp(t,1,!1,null,null,n,!1,r,i),t[wi]=e.current,Rl(t.nodeType===8?t.parentNode:t),new Vp(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=ky(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return Qs(t)};rr.hydrate=function(t,e,n){if(!ed(e))throw Error(ue(200));return td(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!$p(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=n2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=t2(e,null,t,1,n??null,i,!1,s,a),t[wi]=e.current,Rl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zf(e)};rr.render=function(t,e,n){if(!ed(e))throw Error(ue(200));return td(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!ed(t))throw Error(ue(40));return t._reactRootContainer?(Qs(function(){td(null,null,t,!1,function(){t._reactRootContainer=null,t[wi]=null})}),!0):!1};rr.unstable_batchedUpdates=Lp;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ed(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return td(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function r2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r2)}catch(t){console.error(t)}}r2(),ry.exports=rr;var i2=ry.exports,Jm=i2;Th.createRoot=Jm.createRoot,Th.hydrateRoot=Jm.hydrateRoot;var Qm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dT=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},a2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=s>>2,d=(s&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(h=64)),r.push(n[f],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new hT;const h=s<<2|o>>4;if(r.push(h),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pT=function(t){const e=s2(t);return a2.encodeByteArray(e,!0)},o2=function(t){return pT(t).replace(/\./g,"")},l2=function(t){try{return a2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=()=>gT().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof Qm>"u")return;const t=Qm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&l2(t[1]);return e&&JSON.parse(e)},Gp=()=>{try{return mT()||xT()||vT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yT=t=>{var e,n;return(n=(e=Gp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},c2=()=>{var t;return(t=Gp())===null||t===void 0?void 0:t.config},u2=t=>{var e;return(e=Gp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _T(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function wT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ST(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ET(){const t=An();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function CT(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NT,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uc.prototype.create)}}class uc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?AT(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ws(i,o,r)}}function AT(t,e){return t.replace(IT,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const IT=/\{\$([^}]+)}/g;function DT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Zm(s)&&Zm(a)){if(!cf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RT(t,e){const n=new PT(t,e);return n.subscribe.bind(n)}class PT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MT(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Kd),i.error===void 0&&(i.error=Kd),i.complete===void 0&&(i.complete=Kd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new bT;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FT(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jT(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jT(t){return t===Ms?void 0:t}function FT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const BT={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},UT=ut.INFO,zT={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},WT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f2{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=WT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const HT=(t,e)=>e.some(n=>t instanceof n);let ex,tx;function VT(){return ex||(ex=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $T(){return tx||(tx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,y0=new WeakMap,h2=new WeakMap,Yd=new WeakMap,Kp=new WeakMap;function GT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ls(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&d2.set(n,t)}).catch(()=>{}),Kp.set(e,t),e}function KT(t){if(y0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});y0.set(t,e)}let b0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return y0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YT(t){b0=t(b0)}function XT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xd(this),e,...n);return h2.set(r,e.sort?e.sort():[e]),ls(r)}:$T().includes(t)?function(...e){return t.apply(Xd(this),e),ls(d2.get(this))}:function(...e){return ls(t.apply(Xd(this),e))}}function qT(t){return typeof t=="function"?XT(t):(t instanceof IDBTransaction&&KT(t),HT(t,VT())?new Proxy(t,b0):t)}function ls(t){if(t instanceof IDBRequest)return GT(t);if(Yd.has(t))return Yd.get(t);const e=qT(t);return e!==t&&(Yd.set(t,e),Kp.set(e,t)),e}const Xd=t=>Kp.get(t);function JT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ls(a);return r&&a.addEventListener("upgradeneeded",l=>{r(ls(a.result),l.oldVersion,l.newVersion,ls(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const QT=["get","getKey","getAll","getAllKeys","count"],ZT=["put","add","delete","clear"],qd=new Map;function nx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qd.get(e))return qd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ZT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QT.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return qd.set(e,s),s}YT(t=>({...t,get:(e,n,r)=>nx(e,n)||t.get(e,n,r),has:(e,n)=>!!nx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(t4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function t4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _0="@firebase/app",rx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new f2("@firebase/app"),n4="@firebase/app-compat",r4="@firebase/analytics-compat",i4="@firebase/analytics",s4="@firebase/app-check-compat",a4="@firebase/app-check",o4="@firebase/auth",l4="@firebase/auth-compat",c4="@firebase/database",u4="@firebase/data-connect",f4="@firebase/database-compat",d4="@firebase/functions",h4="@firebase/functions-compat",p4="@firebase/installations",g4="@firebase/installations-compat",m4="@firebase/messaging",x4="@firebase/messaging-compat",v4="@firebase/performance",y4="@firebase/performance-compat",b4="@firebase/remote-config",_4="@firebase/remote-config-compat",w4="@firebase/storage",S4="@firebase/storage-compat",k4="@firebase/firestore",E4="@firebase/vertexai-preview",T4="@firebase/firestore-compat",C4="firebase",N4="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="[DEFAULT]",A4={[_0]:"fire-core",[n4]:"fire-core-compat",[i4]:"fire-analytics",[r4]:"fire-analytics-compat",[a4]:"fire-app-check",[s4]:"fire-app-check-compat",[o4]:"fire-auth",[l4]:"fire-auth-compat",[c4]:"fire-rtdb",[u4]:"fire-data-connect",[f4]:"fire-rtdb-compat",[d4]:"fire-fn",[h4]:"fire-fn-compat",[p4]:"fire-iid",[g4]:"fire-iid-compat",[m4]:"fire-fcm",[x4]:"fire-fcm-compat",[v4]:"fire-perf",[y4]:"fire-perf-compat",[b4]:"fire-rc",[_4]:"fire-rc-compat",[w4]:"fire-gcs",[S4]:"fire-gcs-compat",[k4]:"fire-fst",[T4]:"fire-fst-compat",[E4]:"fire-vertex","fire-js":"fire-js",[C4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Map,I4=new Map,S0=new Map;function ix(t,e){try{t.container.addComponent(e)}catch(n){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zl(t){const e=t.name;if(S0.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;S0.set(e,t);for(const n of uf.values())ix(n,t);for(const n of I4.values())ix(n,t);return!0}function p2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new uc("app","Firebase",D4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=N4;function k0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:w0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=c2()),!n)throw cs.create("no-options");const s=uf.get(i);if(s){if(cf(n,s.options)&&cf(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const a=new LT(i);for(const l of S0.values())a.addComponent(l);const o=new R4(n,r,a);return uf.set(i,o),o}function P4(t=w0){const e=uf.get(t);if(!e&&t===w0&&c2())return k0();if(!e)throw cs.create("no-app",{appName:t});return e}function $a(t,e,n){var r;let i=(r=A4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(o.join(" "));return}zl(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="firebase-heartbeat-database",O4=1,Wl="firebase-heartbeat-store";let Jd=null;function g2(){return Jd||(Jd=JT(M4,O4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Jd}async function j4(t){try{const n=(await g2()).transaction(Wl),r=await n.objectStore(Wl).get(m2(t));return await n.done,r}catch(e){if(e instanceof ws)Ei.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ei.warn(n.message)}}}async function sx(t,e){try{const r=(await g2()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,m2(t)),await r.done}catch(n){if(n instanceof ws)Ei.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ei.warn(r.message)}}}function m2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,L4=30*24*60*60*1e3;class B4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new z4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ax();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=L4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ei.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ax(),{heartbeatsToSend:r,unsentEntries:i}=U4(this._heartbeatsCache.heartbeats),s=o2(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ei.warn(n),""}}}function ax(){return new Date().toISOString().substring(0,10)}function U4(t,e=F4){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),ox(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ox(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class z4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?CT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ox(t){return o2(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t){zl(new oo("platform-logger",e=>new e4(e),"PRIVATE")),zl(new oo("heartbeat",e=>new B4(e),"PRIVATE")),$a(_0,rx,t),$a(_0,rx,"esm2017"),$a("fire-js","")}W4("");var H4="firebase",V4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$a(H4,V4,"app");function Yp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function x2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $4=x2,v2=new uc("auth","Firebase",x2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff=new f2("@firebase/auth");function G4(t,...e){ff.logLevel<=ut.WARN&&ff.warn(`Auth (${dc}): ${t}`,...e)}function Eu(t,...e){ff.logLevel<=ut.ERROR&&ff.error(`Auth (${dc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw Xp(t,...e)}function Jr(t,...e){return Xp(t,...e)}function y2(t,e,n){const r=Object.assign(Object.assign({},$4()),{[e]:n});return new uc("auth","Firebase",r).create(e,{appName:t.name})}function us(t){return y2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v2.create(t,...e)}function Oe(t,e,...n){if(!t)throw Xp(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eu(e),new Error(e)}function Ti(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function K4(){return lx()==="http:"||lx()==="https:"}function lx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K4()||ST()||"connection"in navigator)?navigator.onLine:!0}function X4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=_T()||kT()}get(){return Y4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new hc(3e4,6e4);function la(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return _2(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=fc(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return wT()||(c.referrerPolicy="no-referrer"),b2.fetch()(w2(t,t.config.apiHost,n,o),c)})}async function _2(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},q4),e);try{const i=new Z4(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw zc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw zc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw zc(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw y2(t,f,c);Pr(t,f)}}catch(i){if(i instanceof ws)throw i;Pr(t,"network-request-failed",{message:String(i)})}}async function nd(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&Pr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function w2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?qp(t.config,i):`${t.config.apiScheme}://${i}`}function Q4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jr(this.auth,"network-request-failed")),J4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jr(t,e,r);return i.customData._tokenResponse=n,i}function cx(t){return t!==void 0&&t.enterprise!==void 0}class eC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Q4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function tC(t,e){return Di(t,"GET","/v2/recaptchaConfig",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function S2(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(t,e=!1){const n=Ii(t),r=await n.getIdToken(e),i=Jp(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fl(Qd(i.auth_time)),issuedAtTime:fl(Qd(i.iat)),expirationTime:fl(Qd(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qd(t){return Number(t)*1e3}function Jp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const i=l2(n);return i?JSON.parse(i):(Eu("Failed to decode base64 JWT payload"),null)}catch(i){return Eu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ux(t){const e=Jp(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&iC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function iC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(t){var e;const n=t.auth,r=await t.getIdToken(),i=await lo(t,S2(n,{idToken:r}));Oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?k2(s.providerUserInfo):[],o=oC(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),f=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new T0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,d)}async function aC(t){const e=Ii(t);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k2(t){return t.map(e=>{var{providerId:n}=e,r=Yp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(t,e){const n=await _2(t,{},async()=>{const r=fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=w2(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",b2.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cC(t,e){return Di(t,"POST","/v2/accounts:revokeToken",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ux(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=ux(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ga;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new T0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await lo(this,nC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,c,f;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(a=n.photoURL)!==null&&a!==void 0?a:void 0,g=(o=n.tenantId)!==null&&o!==void 0?o:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:_,isAnonymous:S,providerData:O,stsTokenManager:k}=n;Oe(b&&k,e,"internal-error");const T=Ga.fromJSON(this.name,k);Oe(typeof b=="string",e,"internal-error"),Oi(d,e.name),Oi(h,e.name),Oe(typeof _=="boolean",e,"internal-error"),Oe(typeof S=="boolean",e,"internal-error"),Oi(p,e.name),Oi(m,e.name),Oi(g,e.name),Oi(x,e.name),Oi(y,e.name),Oi(v,e.name);const C=new di({uid:b,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:T,createdAt:y,lastLoginAt:v});return O&&Array.isArray(O)&&(C.providerData=O.map(F=>Object.assign({},F))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ga;i.updateFromServerResponse(n);const s=new di({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?k2(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Ga;o.updateFromIdToken(r);const l=new di({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new T0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new Map;function hi(t){Ti(t instanceof Function,"Expected a class definition");let e=fx.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E2.type="NONE";const dx=E2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ka{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Tu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Tu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ka(hi(dx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||hi(dx);const a=Tu(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const f=await c._get(a);if(f){const d=di._fromJSON(e,f);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ka(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ka(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D2(e))return"Blackberry";if(R2(e))return"Webos";if(C2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(I2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function T2(t=An()){return/firefox\//i.test(t)}function C2(t=An()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(t=An()){return/crios\//i.test(t)}function A2(t=An()){return/iemobile/i.test(t)}function I2(t=An()){return/android/i.test(t)}function D2(t=An()){return/blackberry/i.test(t)}function R2(t=An()){return/webos/i.test(t)}function Qp(t=An()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uC(t=An()){var e;return Qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fC(){return ET()&&document.documentMode===10}function P2(t=An()){return Qp(t)||I2(t)||R2(t)||D2(t)||/windows phone/i.test(t)||A2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e=[]){let n;switch(t){case"Browser":n=hx(An());break;case"Worker":n=`${hx(An())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(t,e={}){return Di(t,"GET","/v2/passwordPolicy",la(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class gC{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:pC,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new px(this),this.idTokenSubscription=new px(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ka.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await S2(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ui(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(us(this));const n=e?Ii(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hC(this),n=new gC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new uc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(t){return Ii(t)}class px{constructor(e){this.auth=e,this.observer=null,this.addObserver=RT(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xC(t){rd=t}function O2(t){return rd.loadJS(t)}function vC(){return rd.recaptchaEnterpriseScript}function yC(){return rd.gapiScript}function bC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _C="recaptcha-enterprise",wC="NO_RECAPTCHA";class SC{constructor(e){this.type=_C,this.auth=yo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{tC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new eC(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;cx(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(wC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&cx(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=vC();l.length!==0&&(l+=o),O2(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function gx(t,e,n,r=!1){const i=new SC(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await gx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await gx(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){const n=p2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cf(s,e??{}))return i;Pr(i,"already-initialized")}return n.initialize({options:e})}function EC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TC(t,e,n){const r=yo(t);Oe(r._canInitEmulator,r,"emulator-config-failed"),Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=j2(e),{host:a,port:o}=CC(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),NC()}function j2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function CC(t){const e=j2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xx(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:xx(a)}}}function xx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function AC(t,e){return Di(t,"POST","/v1/accounts:update",e)}async function IC(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(t,e){return nd(t,"POST","/v1/accounts:signInWithPassword",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}async function PC(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Zp{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mx(e,n,"signInWithPassword",DC);case"emailLink":return RC(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mx(e,r,"signUpPassword",IC);case"emailLink":return PC(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t,e){return nd(t,"POST","/v1/accounts:signInWithIdp",la(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="http://localhost";class Zs extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Yp(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Zs(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ya(e,n)}buildRequest(){const e={requestUri:MC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jC(t){const e=Go(Ko(t)).link,n=e?Go(Ko(e)).deep_link_id:null,r=Go(Ko(t)).deep_link_id;return(r?Go(Ko(r)).link:null)||r||n||e||t}class eg{constructor(e){var n,r,i,s,a,o;const l=Go(Ko(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,d=OC((i=l.mode)!==null&&i!==void 0?i:null);Oe(c&&f&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=jC(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,n){return Hl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return Oe(r,"argument-error"),Hl._fromEmailAndCode(e,r.code,r.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends F2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends pc{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends pc{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends pc{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.TWITTER_SIGN_IN_METHOD="twitter.com";Vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await di._fromIdTokenResponse(e,r,i),a=vx(r);return new co({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vx(r);return new co({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends ws{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hf(e,n,r,i)}}function L2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(t,s,e,r):s})}async function FC(t,e,n=!1){const r=await lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(us(r));const i="reauthenticate";try{const s=await lo(t,L2(r,i,e,t),n);Oe(s.idToken,r,"internal-error");const a=Jp(s.idToken);Oe(a,r,"internal-error");const{sub:o}=a;return Oe(t.uid===o,r,"user-mismatch"),co._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e,n=!1){if(ui(t.app))return Promise.reject(us(t));const r="signIn",i=await L2(t,r,e),s=await co._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function LC(t,e){return U2(yo(t),e)}async function BC(t,e){return B2(Ii(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t){const e=yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function zC(t,e,n){return ui(t.app)?Promise.reject(us(t)):LC(Ii(t),ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UC(t),r})}function WC(t,e){return HC(Ii(t),null,e)}async function HC(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await lo(t,AC(r,s));await t._updateTokensIfNecessary(a,!0)}function VC(t,e,n,r){return Ii(t).onIdTokenChanged(e,n,r)}function $C(t,e,n){return Ii(t).beforeAuthStateChanged(e,n)}const pf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pf,"1"),this.storage.removeItem(pf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e3,KC=10;class W2 extends z2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);fC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,KC):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W2.type="LOCAL";const YC=W2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends z2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}H2.type="SESSION";const V2=H2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new id(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await XC(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}id.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=tg("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function JC(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function QC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eN(){return $2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="firebaseLocalStorageDb",tN=1,gf="firebaseLocalStorage",K2="fbase_key";class gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([gf],e?"readwrite":"readonly").objectStore(gf)}function nN(){const t=indexedDB.deleteDatabase(G2);return new gc(t).toPromise()}function C0(){const t=indexedDB.open(G2,tN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gf,{keyPath:K2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gf)?e(r):(r.close(),await nN(),e(await C0()))})})}async function yx(t,e,n){const r=sd(t,!0).put({[K2]:e,value:n});return new gc(r).toPromise()}async function rN(t,e){const n=sd(t,!1).get(e),r=await new gc(n).toPromise();return r===void 0?null:r.value}function bx(t,e){const n=sd(t,!0).delete(e);return new gc(n).toPromise()}const iN=800,sN=3;class Y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=id._getInstance(eN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await QC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C0();return await yx(e,pf,"1"),await bx(e,pf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sd(i,!1).getAll();return new gc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Y2.type="LOCAL";const aN=Y2;new hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e){return e?hi(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lN(t){return U2(t.auth,new ng(t),t.bypassAuthState)}function cN(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),B2(n,new ng(t),t.bypassAuthState)}async function uN(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),FC(n,new ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return uN;case"reauthViaPopup":case"reauthViaRedirect":return cN;default:Pr(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new hc(2e3,1e4);class Fa extends X2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fN.get())};e()}}Fa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="pendingRedirect",Cu=new Map;class hN extends X2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cu.get(this.auth._key());if(!e){try{const r=await pN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cu.set(this.auth._key(),e)}return this.bypassAuthState||Cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pN(t,e){const n=xN(e),r=mN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function gN(t,e){Cu.set(t._key(),e)}function mN(t){return hi(t._redirectPersistence)}function xN(t){return Tu(dN,t.config.apiKey,t.name)}async function vN(t,e,n=!1){if(ui(t.app))return Promise.reject(us(t));const r=yo(t),i=oN(r,e),a=await new hN(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class bN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_N(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!q2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(e))}saveEventToCache(e){this.cachedEventUids.add(_x(e)),this.lastProcessedEventTime=Date.now()}}function _x(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _N(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kN=/^https?/;async function EN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wN(t);for(const n of e)try{if(TN(n))return}catch{}Pr(t,"unauthorized-domain")}function TN(t){const e=E0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!kN.test(n))return!1;if(SN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=new hc(3e4,6e4);function wx(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NN(t){return new Promise((e,n)=>{var r,i,s;function a(){wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wx(),n(Jr(t,"network-request-failed"))},timeout:CN.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qr().gapi)===null||s===void 0)&&s.load)a();else{const o=bC("iframefcb");return Qr()[o]=()=>{gapi.load?a():n(Jr(t,"network-request-failed"))},O2(`${yC()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Nu=null,e})}let Nu=null;function AN(t){return Nu=Nu||NN(t),Nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new hc(5e3,15e3),DN="__/auth/iframe",RN="emulator/auth/iframe",PN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ON(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qp(e,RN):`https://${t.config.authDomain}/${DN}`,r={apiKey:e.apiKey,appName:t.name,v:dc},i=MN.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fc(r).slice(1)}`}async function jN(t){const e=await AN(t),n=Qr().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:ON(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PN,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Jr(t,"network-request-failed"),o=Qr().setTimeout(()=>{s(a)},IN.get());function l(){Qr().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,BN=600,UN="_blank",zN="http://localhost";class Sx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WN(t,e,n,r=LN,i=BN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},FN),{width:r.toString(),height:i.toString(),top:s,left:a}),c=An().toLowerCase();n&&(o=N2(c)?UN:n),T2(c)&&(e=e||zN,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(uC(c)&&o!=="_self")return HN(e||"",o),new Sx(null);const d=window.open(e||"",o,f);Oe(d,t,"popup-blocked");try{d.focus()}catch{}return new Sx(d)}function HN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN="__/auth/handler",$N="emulator/auth/handler",GN=encodeURIComponent("fac");async function kx(t,e,n,r,i,s){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:dc,eventId:i};if(e instanceof F2){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",DT(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(e instanceof pc){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),c=l?`#${GN}=${encodeURIComponent(l)}`:"";return`${KN(t)}?${fc(o).slice(1)}${c}`}function KN({config:t}){return t.emulator?qp(t,$N):`https://${t.authDomain}/${VN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class YN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V2,this._completeRedirectFn=vN,this._overrideRedirectResult=gN}async _openPopup(e,n,r,i){var s;Ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await kx(e,n,r,E0(),i);return WN(e,a,tg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kx(e,n,r,E0(),i);return JC(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jN(e),r=new bN(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Zd];a!==void 0&&n(!!a),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=EN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P2()||C2()||Qp()}}const XN=YN;var Ex="@firebase/auth",Tx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QN(t){zl(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Oe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M2(t)},c=new mC(r,i,s,l);return EC(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zl(new oo("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(r=>new qN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$a(Ex,Tx,JN(t)),$a(Ex,Tx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=5*60,e3=u2("authIdTokenMaxAge")||ZN;let Cx=null;const t3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>e3)return;const i=n==null?void 0:n.token;Cx!==i&&(Cx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nx(t=P4()){const e=p2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=kC(t,{popupRedirectResolver:XN,persistence:[aN,YC,V2]}),r=u2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=t3(s.toString());$C(n,a,()=>a(n.currentUser)),VC(n,o=>a(o))}}const i=yT("auth");return i&&TC(n,`http://${i}`),n}function n3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}xC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",n3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QN("Browser");const r3="https://priceye.onrender.com",Ax={apiKey:"AIzaSyCqdbT96st3gc9bQ9A4Yk7uxU-Dfuzyiuc",authDomain:"priceye-6f81a.firebaseapp.com",databaseURL:"https://priceye-6f81a-default-rtdb.europe-west1.firebasedatabase.app",projectId:"priceye-6f81a",storageBucket:"priceye-6f81a.appspot.com",messagingSenderId:"244431363759",appId:"1:244431363759:web:c2f600581f341fbca63e5a",measurementId:"G-QC6JW8HXBE"};let Vs;try{const t=k0(Ax);Vs=Nx(t)}catch(t){if(console.error("Erreur d'initialisation Firebase (client) dans api.js:",t),t.code==="duplicate-app"){const e=k0(Ax,"default");Vs=Nx(e)}else console.error("Firebase n'a pas pu s'initialiser. L'authentification client chouera.")}async function Me(t,e={}){var o;const n=e.token,r={"Content-Type":((o=e.headers)==null?void 0:o["Content-Type"])??"application/json",...e.headers};n&&(r.Authorization=`Bearer ${n}`);const i={...e,headers:r};delete i.token;const s=await fetch(`${r3}${t}`,i),a=s.headers.get("content-type");if(!s.ok){if((s.status===401||s.status===403)&&(localStorage.removeItem("authToken"),typeof window<"u"))try{window.dispatchEvent(new CustomEvent("tokenExpired"))}catch(c){console.error("Erreur lors de l'envoi de l'vnement tokenExpired:",c)}let l={error:`Erreur ${s.status} sur l'endpoint ${t}`};if(a&&a.includes("application/json"))try{l=await s.json()}catch{}else{const c=await s.text();c&&(l.error=c)}throw console.error(`Erreur API (${s.status}):`,l.error),new Error(l.error)}if(s.status===204||s.status===200&&(!(a!=null&&a.includes("application/json"))||s.headers.get("content-length")==="0"))return{message:"Opration russie."};if(a&&(a.includes("text/html")||a.includes("text/plain")))return{message:await s.text()};try{return await s.json()}catch(l){throw console.error("Erreur de parsing JSON pour une rponse OK:",l,"Rponse:",await s.text()),new Error("Rponse du serveur reue mais invalide (pas un JSON).")}}async function i3(t,e){if(!Vs)throw new Error("Service d'authentification Firebase non initialis.");try{return{idToken:await(await zC(Vs,t,e)).user.getIdToken(),message:"Connexion russie"}}catch(n){throw console.error("Erreur de connexion (SDK client):",n.code),n.code==="auth/user-not-found"||n.code==="auth/wrong-password"||n.code==="auth/invalid-credential"?new Error("Email ou mot de passe invalide."):new Error(n.message)}}function s3(t){return Me("/api/auth/register",{method:"POST",body:JSON.stringify(t)})}async function a3(t,e){if(!Vs||!Vs.currentUser)throw console.error("changeUserPassword: auth.currentUser est nul."),new Error("Utilisateur non connect ou session invalide. Veuillez vous reconnecter.");const n=Vs.currentUser,r=ca.credential(n.email,t);try{await BC(n,r),await WC(n,e)}catch(i){throw console.error("Erreur lors du changement de mot de passe:",i.code),i.code==="auth/wrong-password"||i.code==="auth/invalid-credential"?new Error("L'ancien mot de passe est incorrect."):i.code==="auth/weak-password"?new Error("Le nouveau mot de passe est trop faible (6 caractres min)."):new Error(i.message)}}function N0(t){return Me("/api/users/profile",{token:t})}function o3(t,e){return Me("/api/users/profile",{method:"PUT",token:e,body:JSON.stringify(t)})}function l3(t){return Me("/api/integrations",{token:t})}function c3(t,e,n){return Me("/api/integrations/test-connection",{method:"POST",token:n,body:JSON.stringify({type:t,credentials:e})})}function u3(t,e,n){return Me("/api/integrations/connect",{method:"POST",token:n,body:JSON.stringify({type:t,credentials:e})})}function f3(t){return Me("/api/integrations/sync-properties",{method:"POST",token:t})}function d3(t,e){return Me(`/api/integrations/${t}`,{method:"DELETE",token:e})}function h3(t,e,n){return Me("/api/integrations/import-properties",{method:"POST",token:n,body:JSON.stringify({propertiesToImport:t,pmsType:e})})}function ea(t){return Me("/api/properties",{token:t})}function p3(t,e){return Me("/api/properties",{method:"POST",token:e,body:JSON.stringify(t)})}function g3(t,e,n){return Me(`/api/properties/${t}`,{method:"PUT",token:n,body:JSON.stringify(e)})}function m3(t,e){return Me(`/api/properties/${t}`,{method:"DELETE",token:e})}function x3(t,e){return Me(`/api/properties/${t}/sync`,{method:"POST",token:e})}function v3(t,e,n){return Me(`/api/properties/${t}/strategy`,{method:"PUT",token:n,body:JSON.stringify(e)})}function y3(t,e,n){return Me(`/api/properties/${t}/rules`,{method:"PUT",token:n,body:JSON.stringify(e)})}function b3(t,e,n){return Me(`/api/properties/${t}/status`,{method:"PUT",token:n,body:JSON.stringify({status:e})})}function dl(t){return Me("/api/groups",{token:t})}function rg(t,e){return Me("/api/groups",{method:"POST",token:e,body:JSON.stringify(t)})}function eh(t,e,n){return Me(`/api/groups/${t}`,{method:"PUT",token:n,body:JSON.stringify(e)})}function _3(t,e){return Me(`/api/groups/${t}`,{method:"DELETE",token:e})}function ig(t,e,n){return Me(`/api/groups/${t}/properties`,{method:"PUT",token:n,body:JSON.stringify({propertyIds:e})})}function w3(t,e,n){return Me(`/api/groups/${t}/properties`,{method:"DELETE",token:n,body:JSON.stringify({propertyIds:e})})}function S3(t,e,n){return Me(`/api/groups/${t}/strategy`,{method:"PUT",token:n,body:JSON.stringify(e)})}function k3(t,e,n){return Me(`/api/groups/${t}/rules`,{method:"PUT",token:n,body:JSON.stringify(e)})}function E3(t,e){return Me(`/api/properties/${t}/pricing-strategy`,{method:"POST",token:e})}function T3(t,e,n){return Me(`/api/properties/${t}/bookings`,{method:"POST",token:n,body:JSON.stringify(e)})}function C3(t,e,n,r){const i=n+1;return Me(`/api/properties/${t}/bookings?year=${e}&month=${i}`,{token:r})}function N3(t,e,n){const r=new URLSearchParams({startDate:e,endDate:n});return Me(`/api/bookings?${r.toString()}`,{token:t})}function A3(t,e){return Me("/api/teams/invites",{method:"POST",token:e,body:JSON.stringify(t)})}function th(t){return Me("/api/teams/members",{token:t})}function I3(t,e,n){return Me(`/api/teams/members/${t}/role`,{method:"PUT",token:n,body:JSON.stringify({role:e})})}function D3(t,e){return Me(`/api/teams/members/${t}`,{method:"DELETE",token:e})}function A0(t,e,n){const r=new URLSearchParams({startDate:e,endDate:n});return Me(`/api/reports/kpis?${r.toString()}`,{token:t})}function R3(t,e,n){const r=new URLSearchParams({startDate:e,endDate:n});return Me(`/api/reports/revenue-over-time?${r.toString()}`,{token:t})}function P3(t,e,n){const r=new URLSearchParams({startDate:e,endDate:n});return Me(`/api/reports/performance-over-time?${r.toString()}`,{token:t})}function M3(t,e){const n=new URLSearchParams({timezone:e});return Me(`/api/reports/market-demand-snapshot?${n.toString()}`,{token:t})}function O3(t,e,n){const r=new URLSearchParams({startDate:e,endDate:n});return Me(`/api/reports/positioning?${r.toString()}`,{token:t})}function j3(t,e,n){return Me("/api/reports/analyze-date",{method:"POST",token:n,body:JSON.stringify({propertyId:t,date:e})})}function J2(t){return Me("/api/recommendations/group-candidates",{token:t})}function F3(t){return Me("/api/news",{token:t})}function Q2(t,e){return Me(`/api/properties/${t}/news`,{token:e})}function L3(t,e){return Me(`/api/users/auto-pricing/${t}`,{token:e})}function B3(t,e,n,r){return Me(`/api/users/auto-pricing/${t}`,{method:"PUT",token:r,body:JSON.stringify({enabled:e,timezone:n})})}function Ix(t,e,n,r){const i=new URLSearchParams;return n&&i.append("startDate",n),r&&i.append("endDate",r),Me(`/api/properties/${t}/price-overrides?${i.toString()}`,{token:e})}function Dx(t,e,n){return Me(`/api/properties/${t}/price-overrides`,{method:"PUT",token:n,body:JSON.stringify({overrides:e})})}async function U3(t){return Me("/api/checkout/create-session",{method:"POST",token:t})}async function z3(t){return Me("/api/subscriptions/end-trial-and-bill",{method:"POST",token:t})}async function Z2(t){return Me("/api/billing/portal-session",{method:"POST",token:t})}function W3({onLoginSuccess:t,onNavigate:e}){const[n,r]=A.useState(""),[i,s]=A.useState(""),[a,o]=A.useState(""),[l,c]=A.useState(!1),f=async d=>{d.preventDefault(),o(""),c(!0);try{const h=await i3(n,i);h.idToken&&t(h.idToken)}catch(h){o(h.message)}finally{c(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"Connexion"}),u.jsxs("form",{className:"space-y-6",onSubmit:f,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-300",children:"Adresse e-mail"}),u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:d=>r(d.target.value),className:"w-full px-3 py-2 mt-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-300",children:"Mot de passe"}),u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:i,onChange:d=>s(d.target.value),className:"w-full px-3 py-2 mt-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a&&u.jsx("p",{className:"text-sm text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:a}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:l,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 disabled:bg-gray-500",children:l?"Connexion...":"Se connecter"})})]}),u.jsxs("p",{className:"text-sm text-center text-gray-400",children:["Pas encore de compte ?"," ",u.jsx("button",{onClick:()=>e("register"),className:"font-semibold text-blue-400 hover:underline",children:"S'inscrire"})]})]})})}function H3({onNavigate:t}){const[e,n]=A.useState(""),[r,i]=A.useState(""),[s,a]=A.useState(""),[o,l]=A.useState(""),[c,f]=A.useState(""),[d,h]=A.useState(!1),p=async m=>{m.preventDefault(),l(""),f(""),h(!0);try{const g=await s3({name:e,email:r,password:s});f("Compte cr avec succs ! Vous pouvez maintenant vous connecter.")}catch(g){l(g.message)}finally{h(!1)}};return u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-gray-800 rounded-lg shadow-lg",children:[u.jsx("h2",{className:"text-3xl font-bold text-center text-white",children:"Crer un compte"}),u.jsxs("form",{className:"space-y-6",onSubmit:p,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-gray-300",children:"Nom complet"}),u.jsx("input",{id:"name",type:"text",required:!0,value:e,onChange:m=>n(m.target.value),className:"w-full px-3 py-2 mt-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email-register",className:"text-sm font-medium text-gray-300",children:"Adresse e-mail"}),u.jsx("input",{id:"email-register",type:"email",required:!0,value:r,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 mt-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password-register",className:"text-sm font-medium text-gray-300",children:"Mot de passe"}),u.jsx("input",{id:"password-register",type:"password",required:!0,value:s,onChange:m=>a(m.target.value),className:"w-full px-3 py-2 mt-2 text-white bg-gray-700 border border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o&&u.jsx("p",{className:"text-sm text-center text-red-400 bg-red-900/50 p-3 rounded-md",children:o}),c&&u.jsx("p",{className:"text-sm text-center text-green-400 bg-green-900/50 p-3 rounded-md",children:c}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:d,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-blue-500 disabled:bg-gray-500",children:d?"Cration...":"S'inscrire"})})]}),u.jsxs("p",{className:"text-sm text-center text-gray-400",children:["Dj un compte ?"," ",u.jsx("button",{onClick:()=>t("login"),className:"font-semibold text-blue-400 hover:underline",children:"Se connecter"})]})]})})}function bo({children:t,className:e=""}){const n=A.useRef(null),r=A.useRef(null),[i,s]=A.useState(0),[a,o]=A.useState(0),[l,c]=A.useState(0),[f,d]=A.useState(0);A.useEffect(()=>{const p=n.current,m=r.current;if(!p)return;const g=()=>{requestAnimationFrame(()=>{if(!p)return;const y=p.scrollTop,v=p.scrollHeight,b=p.clientHeight,_=(m==null?void 0:m.offsetHeight)||0;s(y),o(v),c(b),_>0&&d(_)})};g(),p.addEventListener("scroll",g,{passive:!0});const x=new ResizeObserver(()=>{g()});return x.observe(p),m&&x.observe(m),()=>{p.removeEventListener("scroll",g),x.disconnect()}},[t]);const h=()=>{if(a<=l||l===0)return{display:"none"};const p=f>0?f:l,m=Math.max(20,l/a*p),g=a-l,x=g>0?i/g:0,y=Math.max(0,x*(p-m));return{height:`${m}px`,top:`${y}px`,display:"block"}};return u.jsxs("div",{className:`flex flex-row gap-2 items-stretch justify-start relative ${e}`,style:{height:"100%",minHeight:0},children:[u.jsx("div",{ref:n,className:"flex-1 overflow-x-hidden hide-scrollbar",style:{overflowY:"auto",height:"100%"},children:t}),u.jsx("div",{ref:r,className:"bg-global-bg-small-box rounded-[10px] shrink-0 w-2 relative overflow-hidden flex-shrink-0 self-stretch",style:{height:"100%",minHeight:"100px"},children:a>l&&l>0&&u.jsx("div",{className:"bg-global-blanc rounded-[10px] w-1.5 absolute left-px overflow-hidden",style:h()})})]})}const e_=A.createContext(),un=()=>{const t=A.useContext(e_);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},V3=({children:t,userLanguage:e="fr"})=>{const[n,r]=A.useState(e),[i,s]=A.useState({});A.useEffect(()=>{r(e)},[e]),A.useEffect(()=>{const o=l=>{r(l.detail.language)};return window.addEventListener("languageChanged",o),()=>{window.removeEventListener("languageChanged",o)}},[]),A.useEffect(()=>{(async()=>{try{const c=await(await fetch(`/locales/${n}/translation.json`)).json();s(c)}catch(l){if(console.error(`Erreur lors du chargement des traductions pour ${n}:`,l),n!=="fr")try{const f=await(await fetch("/locales/fr/translation.json")).json();s(f)}catch(c){console.error("Erreur lors du chargement des traductions de secours:",c)}}})()},[n]);const a=(o,l={})=>{const c=o.split(".");let f=i;for(const d of c)if(f&&typeof f=="object"&&d in f)f=f[d];else return o;return typeof f=="string"&&Object.keys(l).length>0?f.replace(/\{\{(\w+)\}\}/g,(d,h)=>l[h]!==void 0?l[h]:d):typeof f=="string"?f:o};return u.jsx(e_.Provider,{value:{language:n,setLanguage:r,t:a},children:t})},$3=["wifi","piscine","parking gratuit","climatisation","jacuzzi","salle de sport","animaux accepts","lave-linge","cuisine quipe","tlvision","chemine","espace de travail","vue sur mer"];function G3({token:t,onClose:e,onSave:n,property:r}){const{t:i}=un(),[s,a]=A.useState({address:"",location:"",surface:"",capacity:"",daily_revenue:"",occupancy:"",min_stay:"",amenities:[]}),[o,l]=A.useState(""),[c,f]=A.useState(!1),[d,h]=A.useState(!1),[p,m]=A.useState(""),g=!!r;A.useEffect(()=>{a(g?{address:r.address||"",location:r.location||"",surface:r.surface||"",capacity:r.capacity||"",daily_revenue:r.daily_revenue||"",occupancy:(r.occupancy||0)*100,min_stay:r.min_stay||"",amenities:r.amenities||[]}:{address:"",location:"",surface:"",capacity:"",daily_revenue:"100",occupancy:"75",min_stay:"2",amenities:[]}),l(""),m("")},[r,g]);const x=_=>{a({...s,[_.target.name]:_.target.value})},y=_=>{const{value:S,checked:O}=_.target;a(k=>{const T=k.amenities||[];if(O){if(!T.includes(S))return{...k,amenities:[...T,S]}}else return{...k,amenities:T.filter(C=>C!==S)};return k})},v=async _=>{_.preventDefault(),l(""),m(""),f(!0);try{const S={address:s.address,location:s.location,surface:parseInt(s.surface,10)||0,capacity:parseInt(s.capacity,10)||0,daily_revenue:parseInt(s.daily_revenue,10)||100,occupancy:parseFloat(s.occupancy)/100||.7,min_stay:parseInt(s.min_stay,10)||1,amenities:s.amenities};g?await g3(r.id,S,t):await p3(S,t),n(),e()}catch(S){const O=S.message||"";if(O.includes("LIMIT_EXCEEDED"))if(window.showLimitExceededModal)try{const k=JSON.parse(O.split("LIMIT_EXCEEDED")[1]||"{}");window.showLimitExceededModal({currentCount:k.currentCount||10,maxAllowed:k.maxAllowed||10})}catch{window.showLimitExceededModal({currentCount:10,maxAllowed:10})}else l("Vous avez atteint la limite de 10 proprits pendant votre essai gratuit. Veuillez terminer votre essai pour continuer.");else l(O||"Une erreur est survenue lors de l'ajout de la proprit.")}finally{f(!1)}},b=async()=>{if(r){h(!0),m(""),l("");try{const _=await x3(r.id,t);m(_.message||i("propertyModal.syncSuccess")),n()}catch(_){l(_.message)}finally{h(!1),setTimeout(()=>m(""),3e3)}}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-xl w-full max-w-lg p-6 max-h-[90vh] flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-text-primary shrink-0",children:i(g?"propertyModal.editTitle":"propertyModal.title")}),g&&u.jsxs("div",{className:"border-b border-border-primary pb-4 mb-4 shrink-0",children:[u.jsx("button",{type:"button",onClick:b,disabled:d,className:"w-full flex justify-center items-center gap-2 px-4 py-2 font-semibold text-white bg-teal-600 rounded-md hover:bg-teal-700 disabled:bg-gray-500",children:d?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"loader-small"}),i("common.loading")]}):i("propertyModal.sync")}),p&&u.jsx("p",{className:"text-sm text-green-400 mt-2 text-center",children:p})]}),u.jsx(bo,{className:"flex-1 min-h-0",children:u.jsxs("form",{onSubmit:v,className:"space-y-4 pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.address")}),u.jsx("input",{name:"address",id:"address",type:"text",placeholder:i("propertyModal.address"),value:s.address,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.location")}),u.jsx("input",{name:"location",id:"location",type:"text",placeholder:i("propertyModal.location"),value:s.location,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"surface",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.surface")}),u.jsx("input",{name:"surface",id:"surface",type:"number",placeholder:i("propertyModal.surface"),value:s.surface,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"capacity",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.capacity")}),u.jsx("input",{name:"capacity",id:"capacity",type:"number",placeholder:i("propertyModal.capacity"),value:s.capacity,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"daily_revenue",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.dailyRevenue")}),u.jsx("input",{name:"daily_revenue",id:"daily_revenue",type:"number",placeholder:i("propertyModal.dailyRevenue"),value:s.daily_revenue,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"occupancy",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.occupancy")}),u.jsx("input",{name:"occupancy",id:"occupancy",type:"number",placeholder:i("propertyModal.occupancy"),value:s.occupancy,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_stay",className:"block text-sm font-medium text-text-secondary",children:i("propertyModal.minStay")}),u.jsx("input",{name:"min_stay",id:"min_stay",type:"number",placeholder:i("propertyModal.minStay"),value:s.min_stay,onChange:x,className:"w-full bg-bg-muted border-border-primary text-text-primary p-2 rounded-md mt-1",required:!0})]})]}),u.jsxs("fieldset",{className:"border border-border-secondary p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-2 text-text-primary",children:i("propertyModal.amenities")}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2 max-h-48 overflow-y-auto",children:$3.map(_=>u.jsxs("label",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[u.jsx("input",{type:"checkbox",name:"amenities",value:_,checked:s.amenities.includes(_),onChange:y}),_.charAt(0).toUpperCase()+_.slice(1)]},_))})]}),o&&u.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md",children:o}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 font-semibold text-text-secondary bg-bg-muted rounded-md hover:bg-border-primary",children:i("propertyModal.cancel")}),u.jsx("button",{type:"submit",disabled:c||d,className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",children:i(c?"common.saving":"propertyModal.save")})]})]})})]})})}const uo=({isOpen:t,onClose:e,onConfirm:n,title:r="Confirmation",message:i,confirmText:s="Confirmer",cancelText:a="Annuler"})=>t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",onClick:e,children:u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-4 items-start justify-start w-full max-w-md relative",onClick:o=>o.stopPropagation(),children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative w-full",children:r}),u.jsx("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative w-full",children:i}),u.jsxs("div",{className:"flex flex-row gap-3 items-start justify-end self-stretch shrink-0 relative w-full",children:[u.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center gap-2 px-4 py-2 relative rounded-[10px] border border-solid border-global-stroke-highlight-2nd bg-transparent cursor-pointer hover:opacity-90 transition-opacity",children:u.jsx("span",{className:"relative w-fit font-h3-font-family font-h3-font-weight text-global-inactive text-h3-font-size leading-h3-line-height",children:a})}),u.jsx("button",{type:"button",onClick:()=>{n(),e()},className:"inline-flex items-center justify-center gap-2 px-4 py-2 relative rounded-[10px] bg-[linear-gradient(90deg,rgba(21,93,252,1)_0%,rgba(18,161,213,1)_100%)] cursor-pointer border-0 transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[rgba(21,93,252,1)]",children:u.jsx("span",{className:"relative w-fit font-h3-font-family font-h3-font-weight text-global-blanc text-h3-font-size leading-h3-line-height",children:s})})]})]})}):null,K3=()=>u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:"w-4 h-4",children:u.jsx("path",{d:"M11.333 2.00001C11.5084 1.82465 11.7163 1.68571 11.9447 1.59203C12.1731 1.49835 12.4173 1.4519 12.6637 1.45564C12.91 1.45938 13.1531 1.51324 13.3782 1.61395C13.6033 1.71466 13.8057 1.85999 13.9733 2.04001C14.1409 2.22003 14.2701 2.43145 14.3533 2.66108C14.4365 2.89071 14.4719 3.13399 14.4573 3.37668C14.4427 3.61937 14.3785 3.85648 14.2687 4.07334C14.1589 4.2902 14.0058 4.48235 13.8187 4.63868L5.81866 12.6387L1.33333 14.0001L2.69466 9.51468L10.6947 1.51468L11.333 2.00001Z",stroke:"white",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})}),Y3=()=>u.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",className:"w-8 h-8",children:[u.jsx("circle",{cx:"16",cy:"8",r:"2",fill:"white"}),u.jsx("circle",{cx:"16",cy:"16",r:"2",fill:"white"}),u.jsx("circle",{cx:"16",cy:"24",r:"2",fill:"white"})]}),X3=()=>u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"w-5 h-5",children:u.jsx("path",{d:"M10 4V16M4 10H16",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});function q3({token:t,properties:e,onGroupChange:n,onEditStrategy:r,onEditRules:i,userProfile:s,refreshKey:a}){const{t:o,language:l}=un(),[c,f]=A.useState([]),[d,h]=A.useState(!0),[p,m]=A.useState(""),[g,x]=A.useState(""),[y,v]=A.useState(null),[b,_]=A.useState(""),[S,O]=A.useState(null),[k,T]=A.useState([]),[C,F]=A.useState(!1),[j,U]=A.useState({isOpen:!1,message:"",onConfirm:null}),Z=A.useCallback(async()=>{try{h(!0);const M=await dl(t);f(M),m("")}catch(M){m(M.message)}finally{h(!1)}},[t]);A.useEffect(()=>{Z()},[Z,a]);const Ee=async M=>{if(M.preventDefault(),!!g.trim())try{await rg({name:g.trim()},t),x(""),F(!1),Z(),n()}catch(W){m(W.message)}},le=async M=>{U({isOpen:!0,message:o("groupsManager.deleteConfirm"),onConfirm:async()=>{try{await _3(M,t),Z(),n()}catch(W){m(W.message)}}})},ke=M=>{v(M.id),_(M.name)},we=()=>{v(null),_("")},ie=async M=>{if(b.trim())try{await eh(M,{name:b.trim()},t),we(),Z()}catch(W){m(W.message)}},te=async M=>{if(k.length!==0)try{await ig(M,k,t),Z(),T([]),n()}catch(W){m(W.message)}},fe=async(M,W)=>{try{await w3(M,[W],t),Z(),n()}catch(ae){m(ae.message)}},ee=async(M,W)=>{try{await eh(M,{mainPropertyId:W},t),Z()}catch(ae){m(ae.message)}},D=async M=>{try{await eh(M.id,{syncPrices:!M.syncPrices},t),Z()}catch(W){m(W.message)}},B=M=>{const W=(s==null?void 0:s.currency)||"EUR",ae=l==="en"?"en-US":"fr-FR";return(M||0).toLocaleString(ae,{style:"currency",currency:W,minimumFractionDigits:0,maximumFractionDigits:0})},L=()=>d?u.jsx("p",{className:"text-sm text-global-inactive",children:o("groupsManager.loading")}):c.length===0?u.jsx("p",{className:"text-sm text-global-inactive",children:o("groupsManager.noGroups")}):u.jsx("div",{className:"space-y-4 self-stretch w-full",children:c.map(M=>{const W=M.properties||[],ae=W.map(Ce=>e.find(Ne=>Ne.id===Ce)).filter(Boolean),xe=e.filter(Ce=>!W.includes(Ce.id)),he=[{label:o("groupsManager.floor"),value:B(M.floor_price||0)},{label:o("groupsManager.base"),value:B(M.base_price||0)},{label:o("groupsManager.ceiling"),value:B(M.ceiling_price||0)}],ce=[{label:o("groupsManager.minimum"),value:`${M.min_stay_duration||0} ${o("groupsManager.nights")}`},{label:o("groupsManager.maximum"),value:`${M.max_stay_duration||0} ${o("groupsManager.nights")}`}],Pe=[{label:o("groupsManager.longStayDiscount"),value:M.long_stay_discount?`-${M.long_stay_discount}%`:"-"},{label:o("groupsManager.markups"),value:M.markup?`+${M.markup}%`:"-"}],Re=M.strategy||o("strategyModal.balanced");return u.jsxs("article",{className:"flex flex-col items-start gap-4 p-6 relative bg-[#1d293d80] rounded-[10px] border border-solid border-[#31415780] self-stretch w-full",children:[u.jsxs("header",{className:"flex items-start justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsxs("div",{className:"flex-col items-start flex-1 grow flex relative",children:[u.jsxs("div",{className:"h-7 items-center gap-3 self-stretch w-full flex relative",children:[y===M.id?u.jsx("input",{type:"text",value:b,onChange:Ce=>_(Ce.target.value),className:"flex-1 bg-transparent border border-global-stroke-box rounded-[10px] px-3 py-2 text-white font-h3-font-family text-h3-font-size focus:outline-none",autoFocus:!0}):u.jsx("h2",{className:"relative w-fit mt-[-0.50px] font-h3-font-family font-h3-font-weight text-white text-h3-font-size leading-h3-line-height",children:M.name}),u.jsx("span",{className:"inline-flex items-start px-2 py-1 relative flex-[0_0_auto] mt-[-1.50px] mb-[-1.50px] rounded border border-solid border-global-stroke-highlight-2nd bg-[linear-gradient(90deg,rgba(21,93,252,0.2)_0%,rgba(0,146,184,0.2)_100%)]",children:u.jsx("span",{className:"relative w-fit font-p1-font-family font-p1-font-weight text-global-content-highlight-2nd text-p1-font-size leading-p1-line-height",children:Re})})]}),u.jsxs("p",{className:"relative w-fit font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:[ae.length," ",ae.length>1?o("common.properties"):o("common.property")]})]}),u.jsx("div",{className:"h-8 items-start justify-end gap-2 flex-1 grow flex relative",children:y===M.id?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>ie(M.id),className:"px-3 py-1 bg-gradient-to-r from-[#155dfc] to-[#12a1d5] text-white rounded-lg text-sm",children:o("groupsManager.ok")}),u.jsx("button",{onClick:we,className:"px-3 py-1 bg-white/10 text-global-inactive rounded-lg text-sm",children:o("groupsManager.cancel")})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"all-[unset] box-border inline-flex h-8 items-center gap-4 px-3 py-1 relative flex-[0_0_auto] bg-global-bg-small-box rounded-lg border border-solid border-global-stroke-box cursor-pointer",type:"button",onClick:()=>r(M),"aria-label":o("groupsManager.edit"),children:[u.jsx("span",{className:"relative w-4 h-4","aria-hidden":"true",children:u.jsx(K3,{})}),u.jsx("span",{className:"relative w-fit font-h4-font-family font-normal text-white text-sm text-center tracking-[0] leading-5 whitespace-nowrap",children:o("groupsManager.edit")})]}),u.jsxs("div",{className:"relative action-menu-container",children:[u.jsx("button",{type:"button",onClick:()=>O(S===M.id?null:M.id),"aria-label":"Options supplmentaires",className:"relative w-8 h-8 bg-transparent border-0 p-0 cursor-pointer",children:u.jsx(Y3,{})}),S===M.id&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 bg-global-bg-box border border-global-stroke-box rounded-lg shadow-xl z-20 py-1 overflow-hidden",children:[u.jsx("button",{onClick:()=>i(M),className:"block w-full text-left px-4 py-2 text-xs text-global-inactive hover:bg-global-bg-small-box hover:text-white transition-colors",children:o("groupsManager.rules")}),u.jsx("button",{onClick:()=>ke(M),className:"block w-full text-left px-4 py-2 text-xs text-global-inactive hover:bg-global-bg-small-box hover:text-white transition-colors",children:o("groupsManager.rename")}),u.jsx("div",{className:"h-px bg-global-stroke-box my-1"}),u.jsx("button",{onClick:()=>le(M.id),className:"block w-full text-left px-4 py-2 text-xs text-red-400 hover:bg-red-500/10 transition-colors",children:o("groupsManager.delete")})]})]})]})})]}),u.jsxs("div",{className:"items-start gap-4 self-stretch w-full flex-[0_0_auto] flex relative",children:[u.jsxs("section",{className:"flex-col items-start gap-2 p-4 flex-1 self-stretch grow bg-[#0f172b80] rounded-[10px] flex relative",children:[u.jsx("h3",{className:"relative w-fit mt-[-1.00px] font-h4-font-family font-h4-font-weight text-global-inactive text-h4-font-size leading-h4-line-height",children:o("groupsManager.pricingStrategy")}),u.jsx("dl",{className:"flex-col items-start gap-1 self-stretch w-full flex-[0_0_auto] flex relative",children:he.map((Ce,Ne)=>u.jsxs("div",{className:"flex items-start justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsx("dt",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:Ce.label}),u.jsx("dd",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-content-highlight-3rd text-p1-font-size leading-p1-line-height",children:Ce.value})]},Ne))})]}),u.jsxs("section",{className:"flex-col items-start gap-2 pt-4 pb-0 px-4 flex-1 self-stretch grow bg-[#0f172b80] rounded-[10px] flex relative",children:[u.jsx("h3",{className:"relative w-fit mt-[-1.00px] font-h4-font-family font-h4-font-weight text-global-inactive text-h4-font-size leading-h4-line-height",children:o("groupsManager.stayDuration")}),u.jsx("dl",{className:"flex flex-col items-start gap-1 relative self-stretch w-full flex-[0_0_auto]",children:ce.map((Ce,Ne)=>u.jsxs("div",{className:"flex items-start justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsx("dt",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:Ce.label}),u.jsx("dd",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-white text-p1-font-size leading-p1-line-height",children:Ce.value})]},Ne))})]}),u.jsxs("section",{className:"flex-col items-start gap-2 pt-4 pb-0 px-4 flex-1 self-stretch grow bg-[#0f172b80] rounded-[10px] flex relative",children:[u.jsx("h3",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:o("groupsManager.pricingRules")}),u.jsx("dl",{className:"flex-col items-start gap-1 self-stretch w-full flex-[0_0_auto] flex relative",children:Pe.map((Ce,Ne)=>u.jsxs("div",{className:"flex items-start justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsx("dt",{className:`relative ${Ne===0?"flex-1":"w-fit"} mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height`,children:Ce.label}),u.jsx("dd",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-content-highlight-3rd text-p1-font-size leading-p1-line-height",children:Ce.value})]},Ne))})]})]}),S===M.id&&u.jsxs("div",{className:"self-stretch mt-4 pt-4 border-t border-global-stroke-box space-y-4",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-global-blanc",children:[u.jsx("input",{type:"checkbox",checked:!!M.syncPrices,onChange:()=>D(M),className:"rounded bg-global-bg-small-box border-global-stroke-box text-blue-500 focus:ring-blue-500"}),o("groupsManager.syncPrices")]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2 text-global-blanc",children:[o("groupsManager.propertiesInGroup")," (",ae.length,")"]}),ae.length>0?u.jsx("ul",{className:"space-y-2",children:ae.map(Ce=>u.jsxs("li",{className:"flex justify-between items-center bg-global-bg-small-box border border-global-stroke-box p-2 rounded text-xs",children:[u.jsx("span",{className:"text-global-inactive",children:Ce.address}),u.jsxs("div",{className:"flex items-center gap-2",children:[M.mainPropertyId===Ce.id?u.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white rounded-full text-[10px] font-bold",children:o("groupsManager.main")}):u.jsx("button",{onClick:()=>ee(M.id,Ce.id),className:"px-2 py-1 bg-white/10 hover:bg-blue-600 rounded text-[10px] text-white",children:o("groupsManager.setMain")}),u.jsx("button",{onClick:()=>fe(M.id,Ce.id),className:"px-2 py-1 bg-red-800 text-white rounded",children:o("groupsManager.removeProperty")})]})]},Ce.id))}):u.jsx("p",{className:"text-xs text-global-inactive",children:o("groupsManager.noProperties")})]}),xe.length>0&&u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-sm mb-2 text-global-blanc",children:o("groupsManager.addProperties")}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("select",{multiple:!0,value:k,onChange:Ce=>T(Array.from(Ce.target.selectedOptions,Ne=>Ne.value)),className:"flex-grow bg-global-bg-small-box border border-global-stroke-box rounded-[10px] text-xs h-24 text-global-blanc focus:outline-none",children:xe.map(Ce=>u.jsx("option",{value:Ce.id,children:Ce.address},Ce.id))}),u.jsx("button",{onClick:()=>te(M.id),className:"px-4 py-2 font-semibold text-white bg-gradient-to-r from-[#155dfc] to-[#12a1d5] rounded-md self-start",children:o("groupsManager.add")})]})]}),xe.length===0&&ae.length>0&&u.jsx("p",{className:"text-xs text-global-inactive mt-2",children:o("groupsManager.allPropertiesInGroup")})]})]},M.id)})});return u.jsxs("div",{className:"flex flex-col items-start gap-6 p-[25px] relative bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box",children:[u.jsxs("header",{className:"flex items-center justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsx("h1",{className:"relative w-fit font-h2-font-family font-h2-font-weight text-global-blanc text-h2-font-size leading-h2-line-height",children:o("groupsManager.title")}),u.jsxs("button",{type:"button",onClick:()=>F(!C),className:"inline-flex items-center justify-center gap-2 px-3 py-2 relative flex-[0_0_auto] rounded-[10px] bg-[linear-gradient(90deg,rgba(21,93,252,1)_0%,rgba(18,161,213,1)_100%)] cursor-pointer border-0 transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[rgba(21,93,252,1)]","aria-label":o("groupsManager.createGroup"),children:[u.jsx(X3,{}),u.jsx("span",{className:"relative w-fit mt-[-1.00px] font-h3-font-family font-h3-font-weight text-global-blanc text-h3-font-size leading-h3-line-height",children:o("groupsManager.createGroup")})]})]}),p&&u.jsx("p",{className:"text-sm text-red-400 mb-4 bg-red-900/40 border border-red-500/40 p-3 rounded-md",children:p}),C&&u.jsxs("form",{onSubmit:Ee,className:"self-stretch flex gap-2 p-4 bg-global-bg-small-box rounded-[10px] border border-global-stroke-box",children:[u.jsx("input",{type:"text",value:g,onChange:M=>x(M.target.value),placeholder:o("groupsManager.groupNamePlaceholder"),className:"flex-grow bg-transparent border border-global-stroke-box text-global-blanc placeholder:text-global-inactive rounded-[10px] px-3 py-2 focus:outline-none",autoFocus:!0}),u.jsx("button",{type:"submit",className:"px-4 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90",children:o("groupsManager.create")}),u.jsx("button",{type:"button",onClick:()=>{F(!1),x("")},className:"px-4 py-2 text-global-inactive hover:text-global-blanc rounded-[10px] border border-global-stroke-box",children:o("groupsManager.cancel")})]}),L(),u.jsx(uo,{isOpen:j.isOpen,onClose:()=>U({isOpen:!1,message:"",onConfirm:null}),onConfirm:j.onConfirm||(()=>{}),title:o("confirmModal.title"),message:j.message,confirmText:o("common.confirm"),cancelText:o("common.cancel")})]})}const J3=({property1:t="off",className:e=""})=>{const n=t==="on";return u.jsx("div",{className:`relative w-5 h-5 shrink-0 ${e}`,children:n?u.jsx("div",{className:"w-5 h-5 bg-global-content-highlight-2nd rounded flex items-center justify-center",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M10 3L4.5 8.5L2 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):u.jsx("div",{className:"w-5 h-5 border border-global-content-highlight-2nd rounded bg-transparent"})})},Q3=({className:t=""})=>u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,children:u.jsx("path",{d:"M10 4V16M4 10H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});function Z3({token:t,onClose:e,onSave:n,item:r,itemType:i,onGroupStrategyUpdated:s}){const{t:a}=un(),[o,l]=A.useState({strategy:a("strategyModal.balanced"),floor_price:"",base_price:"",ceiling_price:""}),[c,f]=A.useState(""),[d,h]=A.useState(!1),[p,m]=A.useState(!1);r!=null&&r.address||r!=null&&r.name||a("strategyModal.for"),A.useEffect(()=>{r&&l({strategy:r.strategy||a("strategyModal.balanced"),floor_price:r.floor_price!=null?String(r.floor_price):"",base_price:r.base_price!=null?String(r.base_price):"",ceiling_price:r.ceiling_price!=null?String(r.ceiling_price):""})},[r]);const g=y=>{l({...o,[y.target.name]:y.target.value})},x=async y=>{if(y.preventDefault(),f(""),h(!0),!o.floor_price||!o.base_price){f(a("strategyModal.required")),h(!1);return}try{const v={strategy:o.strategy,floor_price:parseInt(o.floor_price,10),base_price:parseInt(o.base_price,10),ceiling_price:o.ceiling_price?parseInt(o.ceiling_price,10):null};i==="group"?(await S3(r.id,v,t),s&&await s({...r,...v})):await v3(r.id,v,t),e(),setTimeout(()=>{n()},100)}catch(v){f(v.message)}finally{h(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start w-full max-w-lg relative max-h-[90vh]",children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative shrink-0",children:a("strategyModal.title")}),u.jsx("div",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative self-stretch shrink-0",children:a("strategyModal.description")}),u.jsxs("div",{className:"bg-global-stroke-highlight-2nd rounded-[10px] border border-solid border-global-content-highlight-2nd pt-2 pr-3 pb-2 pl-3 flex flex-row gap-3 items-center justify-center self-stretch shrink-0 h-[46px] relative cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>m(!p),children:[u.jsx(J3,{property1:p?"on":"off",className:"!shrink-0"}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative",children:a("strategyModal.automate")})]}),u.jsx(bo,{className:"self-stretch flex-1 min-h-0",children:u.jsxs("form",{onSubmit:x,className:"flex flex-col gap-4 pr-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"strategy",className:"block text-sm font-medium text-global-inactive mb-1",children:a("strategyModal.strategy")}),u.jsxs("select",{name:"strategy",value:o.strategy,onChange:g,className:"w-full bg-global-bg-small-box border border-global-stroke-box text-global-blanc rounded-[10px] px-3 py-2 focus:outline-none focus:border-global-content-highlight-2nd",children:[u.jsx("option",{value:"Prudent",children:a("strategyModal.prudent")}),u.jsx("option",{value:"quilibr",children:a("strategyModal.balanced")}),u.jsx("option",{value:"Agressif",children:a("strategyModal.aggressive")})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"floor_price",className:"block text-sm font-medium text-global-inactive mb-1",children:a("strategyModal.floorPrice")}),u.jsx("input",{name:"floor_price",type:"number",placeholder:"Ex: 80",value:o.floor_price,onChange:g,className:"w-full bg-global-bg-small-box border border-global-stroke-box text-global-blanc rounded-[10px] px-3 py-2 focus:outline-none focus:border-global-content-highlight-2nd placeholder:text-global-inactive",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"base_price",className:"block text-sm font-medium text-global-inactive mb-1",children:a("strategyModal.basePrice")}),u.jsx("input",{name:"base_price",type:"number",placeholder:"Ex: 120",value:o.base_price,onChange:g,className:"w-full bg-global-bg-small-box border border-global-stroke-box text-global-blanc rounded-[10px] px-3 py-2 focus:outline-none focus:border-global-content-highlight-2nd placeholder:text-global-inactive",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"ceiling_price",className:"block text-sm font-medium text-global-inactive mb-1",children:a("strategyModal.ceilingPrice")}),u.jsx("input",{name:"ceiling_price",type:"number",placeholder:a("strategyModal.optional"),value:o.ceiling_price,onChange:g,className:"w-full bg-global-bg-small-box border border-global-stroke-box text-global-blanc rounded-[10px] px-3 py-2 focus:outline-none focus:border-global-content-highlight-2nd placeholder:text-global-inactive"})]})]}),c&&u.jsx("div",{className:"p-3 bg-red-900/40 border border-red-500/40 rounded-lg",children:u.jsx("p",{className:"text-sm text-red-300",children:c})}),u.jsxs("div",{className:"flex flex-row gap-3 items-start justify-start self-stretch shrink-0 relative",children:[u.jsxs("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center gap-2 px-3 py-2 border border-solid border-global-stroke-highlight-2nd rounded-[10px] bg-transparent text-global-blanc font-h3-font-family text-h3-font-size font-h3-font-weight hover:opacity-90 transition-opacity shrink-0",children:[u.jsx(Q3,{className:"w-5 h-5"}),u.jsx("span",{children:a("strategyModal.cancel")})]}),u.jsx("button",{type:"submit",disabled:d,className:"inline-flex items-center justify-center gap-2 px-3 py-2 flex-1 rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] text-global-blanc font-h3-font-family text-h3-font-size font-h3-font-weight hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a(d?"common.saving":"strategyModal.save")})]})]})})]})})}function eA({token:t,onClose:e,onSave:n,item:r,itemType:i}){const{t:s}=un(),[a,o]=A.useState({min_stay:"",max_stay:"",weekly_discount_percent:"",monthly_discount_percent:"",weekend_markup_percent:""}),[l,c]=A.useState(""),[f,d]=A.useState(!1),h=(r==null?void 0:r.address)||(r==null?void 0:r.name)||s("rulesModal.for");A.useEffect(()=>{r&&o({min_stay:r.min_stay!=null?r.min_stay:"",max_stay:r.max_stay!=null?r.max_stay:"",weekly_discount_percent:r.weekly_discount_percent!=null?r.weekly_discount_percent:"",monthly_discount_percent:r.monthly_discount_percent!=null?r.monthly_discount_percent:"",weekend_markup_percent:r.weekend_markup_percent!=null?r.weekend_markup_percent:""})},[r]);const p=g=>{o({...a,[g.target.name]:g.target.value})},m=async g=>{g.preventDefault(),c(""),d(!0);try{const x={min_stay:a.min_stay!==""?parseInt(a.min_stay,10):null,max_stay:a.max_stay!==""?parseInt(a.max_stay,10):null,weekly_discount_percent:a.weekly_discount_percent!==""?parseInt(a.weekly_discount_percent,10):null,monthly_discount_percent:a.monthly_discount_percent!==""?parseInt(a.monthly_discount_percent,10):null,weekend_markup_percent:a.weekend_markup_percent!==""?parseInt(a.weekend_markup_percent,10):null};i==="group"?await k3(r.id,x,t):await y3(r.id,x,t),n(),e()}catch(x){c(x.message)}finally{d(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-xl w-full max-w-2xl p-6 flex flex-col max-h-[90vh]",children:[u.jsx("h3",{className:"text-xl font-bold mb-2 text-text-primary shrink-0",children:s("rulesModal.title")}),u.jsxs("p",{className:"text-sm text-text-muted mb-6 shrink-0",children:[s("rulesModal.for"),": ",h]}),u.jsx(bo,{className:"flex-1 min-h-0",children:u.jsxs("form",{onSubmit:m,className:"space-y-6 pr-2",children:[u.jsxs("fieldset",{className:"border border-border-secondary p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-2 text-text-primary",children:s("rulesModal.stayDuration")}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"min_stay",className:"block text-sm font-medium text-text-secondary",children:s("rulesModal.minStay")}),u.jsx("input",{name:"min_stay",type:"number",placeholder:"Ex: 2",value:a.min_stay,onChange:p,className:"w-full form-input mt-1",min:"0"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"max_stay",className:"block text-sm font-medium text-text-secondary",children:s("rulesModal.maxStay")}),u.jsx("input",{name:"max_stay",type:"number",placeholder:"Ex: 90",value:a.max_stay,onChange:p,className:"w-full form-input mt-1",min:"0"})]})]})]}),u.jsxs("fieldset",{className:"border border-border-secondary p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-2 text-text-primary",children:s("rulesModal.longTermDiscounts")}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"weekly_discount_percent",className:"block text-sm font-medium text-text-secondary",children:s("rulesModal.weeklyDiscount")}),u.jsx("input",{name:"weekly_discount_percent",type:"number",placeholder:"Ex: 10",value:a.weekly_discount_percent,onChange:p,className:"w-full form-input mt-1",min:"0",max:"100"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"monthly_discount_percent",className:"block text-sm font-medium text-text-secondary",children:s("rulesModal.monthlyDiscount")}),u.jsx("input",{name:"monthly_discount_percent",type:"number",placeholder:"Ex: 20",value:a.monthly_discount_percent,onChange:p,className:"w-full form-input mt-1",min:"0",max:"100"})]})]})]}),u.jsxs("fieldset",{className:"border border-border-secondary p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-2 text-text-primary",children:s("rulesModal.markups")}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"weekend_markup_percent",className:"block text-sm font-medium text-text-secondary",children:s("rulesModal.weekendMarkup")}),u.jsx("input",{name:"weekend_markup_percent",type:"number",placeholder:"Ex: 15",value:a.weekend_markup_percent,onChange:p,className:"w-full form-input mt-1",min:"0"}),u.jsx("p",{className:"text-xs text-text-muted mt-1",children:s("rulesModal.weekendMarkupNote")})]})]}),l&&u.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md",children:l}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 font-semibold text-text-secondary bg-bg-muted rounded-md hover:bg-border-primary",children:s("rulesModal.cancel")}),u.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",children:s(f?"common.saving":"rulesModal.save")})]})]})})]})})}function tA({token:t}){const{t:e,language:n}=un(),[r,i]=A.useState([]),[s,a]=A.useState(!0),[o,l]=A.useState(""),c=A.useCallback(async()=>{if(t){a(!0),l("");try{const m=await F3(t);i(m||[])}catch(m){l(e("newsFeed.loadError",{message:m.message}))}finally{a(!1)}}},[t]);A.useEffect(()=>{c()},[c]);const f=m=>{switch((m||"").toLowerCase()){case"lev":case"high":return"text-global-negative-impact";case"modr":case"medium":return"text-global-mid-impact";case"faible":case"low":return"text-global-positive-impact";default:return"text-global-inactive"}},d=m=>typeof m!="number"?"N/A":m>0?`+${m}%`:`${m}%`,h=m=>{if(!m)return"";try{const g=n==="en"?"en-US":"fr-FR";return new Intl.DateTimeFormat(g,{day:"2-digit",month:"short"}).format(new Date(m))}catch{return""}},p=()=>s?u.jsx("div",{className:"flex justify-center items-center h-48",children:u.jsx("div",{className:"loader"})}):o?u.jsx("p",{className:"text-sm text-red-400",children:o}):!r||r.length===0?u.jsx("p",{className:"text-sm text-global-inactive",children:e("newsFeed.noNews")}):u.jsx("div",{className:"space-y-4",children:r.map((m,g)=>u.jsxs("div",{className:"bg-global-bg-small-box border border-global-stroke-box rounded-[12px] p-4 flex flex-col gap-3",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4",children:[u.jsx("h4",{className:"text-global-blanc font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight",children:m.title}),u.jsx("span",{className:"text-xs text-global-inactive whitespace-nowrap",children:h(m.published_at)})]}),u.jsx("p",{className:"text-sm text-global-inactive",children:m.summary}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("span",{className:`font-semibold ${f(m.impact_category)}`,children:[e("newsFeed.estimatedImpact"),": ",d(m.impact_percentage)," (",m.impact_category||"N/A",")"]}),m.source&&u.jsxs("span",{className:"text-xs text-global-inactive",children:[e("newsFeed.source"),": ",m.source]})]})]},`${m.id||m.title}-${g}`))});return u.jsxs("div",{className:"bg-global-bg-box border border-global-stroke-box rounded-[14px] p-6 shadow-[0_15px_60px_rgba(0,0,0,0.35)] flex flex-col h-full max-h-[800px]",children:[u.jsxs("div",{className:"flex items-center justify-between gap-4 shrink-0 mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.3em] text-global-inactive",children:"Insights"}),u.jsx("h2",{className:"text-2xl font-h2-font-family text-global-blanc",children:e("newsFeed.title")})]}),u.jsx("button",{type:"button",onClick:c,className:"text-sm px-4 py-2 rounded-full border border-global-stroke-box text-global-inactive hover:text-global-blanc hover:border-global-content-highlight-2nd transition shrink-0",children:e("dashboard.refresh")})]}),u.jsx("div",{className:"flex-1 min-h-0 overflow-hidden flex flex-col",children:u.jsx(bo,{className:"flex-1 min-h-0",children:p()})})]})}function nA({token:t,recommendations:e,onGroupCreated:n}){const{t:r}=un(),[i,s]=A.useState(!1),[a,o]=A.useState("");if(!e||e.length===0)return null;const l=async c=>{if(!c||!c.properties||c.properties.length<2){o(r("groupRecommendations.invalidRecommendation"));return}s(!0),o("");try{const f=c.properties[0].address,d=`${r("groupRecommendations.groupNamePrefix")} (${f.split(",")[0]})`,h=await rg({name:d},t),p=c.properties.map(m=>m.id);await ig(h.id,p,t),n()}catch(f){console.error("Erreur lors de la cration du groupe suggr:",f),o(f.message)}finally{s(!1)}};return u.jsxs("div",{className:"space-y-4",children:[a&&u.jsx("p",{className:"text-sm text-red-400 bg-red-900/30 border border-red-500/40 p-3 rounded-[10px]",children:a}),u.jsx("div",{className:"space-y-3",children:e.map(c=>u.jsxs("div",{className:"bg-global-bg-small-box border border-global-stroke-box rounded-[12px] p-4 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{className:"text-sm text-global-inactive",children:[u.jsxs("p",{className:"text-global-blanc font-semibold mb-1",children:[c.properties.length," ",r("groupRecommendations.similarProperties")]}),u.jsx("ul",{className:"list-disc list-inside text-xs space-y-1",children:c.properties.map(f=>u.jsx("li",{children:f.address},f.id))})]}),u.jsx("button",{onClick:()=>l(c),disabled:i,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-[10px] font-semibold text-white bg-gradient-to-r from-[#155dfc] to-[#12a1d5] shadow-lg hover:opacity-90 disabled:opacity-50",children:r(i?"groupRecommendations.creating":"groupRecommendations.createGroup")})]},c.key))})]})}const mf=t=>t.toISOString().split("T")[0],Rx=t=>{const n=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:t||"UTC"}).format(new Date);return new Date(Date.UTC(parseInt(n.substring(0,4)),parseInt(n.substring(5,7))-1,parseInt(n.substring(8,10))))},t_=(t,e="UTC")=>{const n=Rx(e);let r=Rx(e);switch(t){case"7d":r.setUTCDate(n.getUTCDate()-7);break;case"1m":r.setUTCMonth(n.getUTCMonth()-1);break;case"6m":r.setUTCMonth(n.getUTCMonth()-6);break;case"ytd":r=new Date(Date.UTC(n.getUTCFullYear(),0,1));break;case"1y":r.setUTCFullYear(n.getUTCFullYear()-1);break;case"all":r.setUTCFullYear(n.getUTCFullYear()-5);break;default:r.setUTCMonth(n.getUTCMonth()-1)}return{startDate:mf(r),endDate:mf(n)}},rA=(t,e)=>{const n=new Date(t+"T00:00:00Z"),i=new Date(e+"T00:00:00Z").getTime()-n.getTime(),s=new Date(n.getTime()-24*60*60*1e3),a=new Date(s.getTime()-i);return{startDate:mf(a),endDate:mf(s)}},Wc=(t="en")=>{const e={fr:{errorRefreshing:"Erreur lors du rafrachissement",errorFetchingGroup:"Erreur lors de la rcupration du groupe",loadingKPIs:"Chargement des indicateurs de performance IA",loadingRecommendations:"Chargement des recommandations IA",aiGainDescription:"Gains gnrs par l'IA sur la priode",aiScoreDescription:"Score de performance de l'IA (sur 100)",aiRecommendationsTitle:"Recommandations de l'IA",aiStrategyDescription:"Stratgie optimise par l'IA pour maximiser les revenus",errorFetchingData:"Erreur lors de la rcupration des donnes",refreshing:"Rafrachissement en cours..."},en:{errorRefreshing:"Error refreshing",errorFetchingGroup:"Error fetching group",loadingKPIs:"Loading AI performance indicators",loadingRecommendations:"Loading AI recommendations",aiGainDescription:"AI-generated gains over the period",aiScoreDescription:"AI performance score (out of 100)",aiRecommendationsTitle:"AI Recommendations",aiStrategyDescription:"AI-optimized strategy to maximize revenue",errorFetchingData:"Error fetching data",refreshing:"Refreshing..."}};return e[t]||e.en},Px=["https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=900&q=60","https://images.unsplash.com/photo-1493809842364-78817add7ffb?auto=format&fit=crop&w=900&q=60","https://images.unsplash.com/photo-1505691723518-36a5ac3be353?auto=format&fit=crop&w=900&q=60","https://images.unsplash.com/photo-1505852679233-d9fd70aff56d?auto=format&fit=crop&w=900&q=60","https://images.unsplash.com/photo-1484154218962-a197022b5858?auto=format&fit=crop&w=900&q=60"],iA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-4 h-4 ${t}`,children:[u.jsx("path",{d:"M12 21s7-4.35 7-11a7 7 0 0 0-14 0c0 6.65 7 11 7 11z"}),u.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),sA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-4 h-4 ${t}`,children:[u.jsx("path",{d:"M3 10.5 12 3l9 7.5"}),u.jsx("path",{d:"M5 10.5V21h5v-6h4v6h5v-10.5"})]}),aA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-4 h-4 ${t}`,children:[u.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),u.jsx("circle",{cx:"9",cy:"7",r:"4"}),u.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),u.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),oA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-3.5 h-3.5 ${t}`,children:[u.jsx("polyline",{points:"17 11 21 7 23 9"}),u.jsx("path",{d:"M3 17l6-6 4 4 8-8"})]}),lA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-6 h-6 ${t}`,children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M12 6v12"}),u.jsx("path",{d:"M16 8H9.5a2.5 2.5 0 0 0 0 5H14a2.5 2.5 0 0 1 0 5H8"})]}),cA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-6 h-6 ${t}`,children:[u.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),u.jsx("path",{d:"M3 9h18"}),u.jsx("path",{d:"M9 21V9"}),u.jsx("path",{d:"M15 21V9"})]}),uA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-6 h-6 ${t}`,children:[u.jsx("path",{d:"M3 6l3 0"}),u.jsx("path",{d:"M3 10l5 0"}),u.jsx("path",{d:"M3 14l3 0"}),u.jsx("path",{d:"M3 18l5 0"}),u.jsx("path",{d:"M12 4h9v16h-9z"}),u.jsx("path",{d:"M16 8h.01"}),u.jsx("path",{d:"M16 12h.01"}),u.jsx("path",{d:"M16 16h.01"})]}),fA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-6 h-6 ${t}`,children:[u.jsx("path",{d:"M12 3 1 9l11 6 9-4.91V17"}),u.jsx("path",{d:"M5 10.74v4.55c0 .16.08.31.21.4l6.79 4.53a.5.5 0 0 0 .54 0l6.79-4.54a.5.5 0 0 0 .21-.41V10.7"}),u.jsx("path",{d:"M9 21h6"})]}),dA=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:`w-4 h-4 ${t}`,children:[u.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),u.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]});function Mx({token:t,userProfile:e}){const{t:n,language:r}=un(),i=Wc((e==null?void 0:e.language)||r||"en"),[s,a]=A.useState([]),[o,l]=A.useState([]),[c,f]=A.useState(!0),[d,h]=A.useState(!0),[p,m]=A.useState(""),[g,x]=A.useState(null),[y,v]=A.useState(null),[b,_]=A.useState(0),[S,O]=A.useState(!1),[k,T]=A.useState(!1),[C,F]=A.useState(!1),[j,U]=A.useState(null),[Z,Ee]=A.useState({totalRevenue:0,avgOccupancy:0,adr:0,iaGain:0,iaScore:0}),[le,ke]=A.useState([]),[we,ie]=A.useState(!0),[te,fe]=A.useState("active"),[ee,D]=A.useState(""),[B,L]=A.useState({isOpen:!1,message:"",onConfirm:null}),M=A.useCallback(async()=>{if(!t)return;const X=(e==null?void 0:e.language)||r||"en",Te=Wc(X);try{const[ze,nt]=await Promise.all([ea(t),dl(t)]);a(ze),l(nt)}catch(ze){console.error(`${Te.errorRefreshing}:`,ze)}},[t,e==null?void 0:e.language,r]),W=A.useCallback(async()=>{if(!(S||k||C)){f(!0),h(!0),ie(!0);try{const[X,Te]=await Promise.all([ea(t),dl(t)]);a(X),l(Te),m("");const ze=(e==null?void 0:e.language)||r||"en",nt=Wc(ze);if(e){const{startDate:et,endDate:Tt}=t_("1m",e.timezone);try{const Rt=await A0(t,et,Tt);Ee({totalRevenue:Rt.totalRevenue||0,avgOccupancy:Rt.occupancy||0,adr:Rt.adr||0,iaGain:Rt.iaGain||0,iaScore:Rt.iaScore||0})}catch(Rt){console.error(`${nt.errorFetchingData} (KPIs):`,Rt)}}try{const et=await J2(t);ke(et)}catch(et){console.error(`${nt.errorFetchingData} (${nt.aiRecommendationsTitle}):`,et),ke([])}}catch(X){m(X.message),a([]),Ee({totalRevenue:0,avgOccupancy:0,adr:0,iaGain:0,iaScore:0}),ke([])}finally{f(!1),h(!1),ie(!1)}}},[t,S,k,C,e]);A.useEffect(()=>{W()},[W]),A.useEffect(()=>{const X=Te=>{j&&!Te.target.closest(".action-menu-container")&&U(null)};return document.addEventListener("click",X),()=>document.removeEventListener("click",X)},[j]);const ae=A.useMemo(()=>{let X=s;if(te&&(X=X.filter(Te=>(Te.status||"active")===te)),ee){const Te=o.find(nt=>nt.id===ee),ze=(Te==null?void 0:Te.properties)||[];X=X.filter(nt=>ze.includes(nt.id))}return X},[s,te,ee,o]),xe=X=>o.find(Te=>{var ze;return(ze=Te.properties)==null?void 0:ze.includes(X)}),he=()=>{x(null),O(!0)},ce=X=>{x(X),O(!0),U(null)},Pe=async X=>{U(null);const Te=(e==null?void 0:e.language)||r||"en",ze=Wc(Te);if(!X.address&&X.id)try{const et=(await dl(t)).find(Tt=>Tt.id===X.id);v(et||X)}catch(nt){console.error(`${ze.errorFetchingGroup}:`,nt),v(X)}else x(X);T(!0)},Re=X=>{X.address?x(X):v(X),F(!0),U(null)},Ce=async X=>{U(null),L({isOpen:!0,message:n("dashboard.property.deleteConfirm"),onConfirm:async()=>{try{await m3(X,t),W()}catch(Te){m(Te.message)}}})},Ne=async(X,Te)=>{U(null);try{await b3(X,Te,t),W()}catch(ze){m(ze.message)}},ft=async()=>{O(!1),T(!1),F(!1),x(null),v(null),await M(),_(X=>X+1)},Ze=()=>{O(!1),T(!1),F(!1),x(null),v(null)},ye=X=>{const Te=r==="en"?"en-US":"fr-FR";return(X||0).toLocaleString(Te,{style:"currency",currency:(e==null?void 0:e.currency)||"EUR",minimumFractionDigits:0,maximumFractionDigits:0})},Bt=X=>{const Te=r==="en"?"en-US":"fr-FR";return(X||0).toLocaleString(Te,{style:"currency",currency:(e==null?void 0:e.currency)||"EUR",minimumFractionDigits:2})},yt=[{id:"totalRevenue",title:n("dashboard.kpi.revenue"),value:ye(Z.totalRevenue),helper:n("dashboard.kpi.revenueHelper"),icon:lA},{id:"avgOccupancy",title:n("dashboard.kpi.occupancy"),value:`${(Z.avgOccupancy||0).toFixed(1)}%`,helper:n("dashboard.kpi.occupancyHelper"),icon:cA},{id:"adr",title:n("dashboard.kpi.adr"),value:Bt(Z.adr),helper:n("dashboard.kpi.adrHelper"),icon:uA},{id:"iaGain",title:n("dashboard.kpi.iaGain"),value:ye(Z.iaGain),helper:i.aiGainDescription||n("dashboard.kpi.iaGainHelper"),icon:fA}],_n=()=>u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:yt.map(({id:X,title:Te,value:ze,helper:nt,icon:et})=>u.jsx("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-4 flex flex-col gap-2 items-start justify-center flex-1 relative overflow-hidden",children:u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 relative w-full",children:[u.jsxs("div",{className:"flex flex-col gap-0 items-start justify-start flex-1 relative min-w-0",children:[u.jsx("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative",children:Te}),u.jsx("div",{className:"text-global-blanc text-left font-h1-font-family text-h1-font-size font-h1-font-weight font-bold relative",children:ze||""})]}),u.jsx("div",{className:"rounded-[10px] border border-solid border-global-stroke-highlight-2nd flex flex-col gap-2.5 items-center justify-center shrink-0 w-[50px] h-[50px] relative",style:{background:"linear-gradient(90deg, rgba(21, 93, 252, 0.20) 0%, rgba(0, 146, 184, 0.20) 100%)",aspectRatio:"1"},children:u.jsx(et,{className:"w-6 h-6 text-global-content-highlight-2nd"})})]})},X))}),Ut=X=>{const Te={active:{label:n("dashboard.statusLabels.active"),className:"bg-emerald-500/10 border border-emerald-500/20 text-emerald-400"},archived:{label:n("dashboard.statusLabels.archived"),className:"bg-gray-500/10 border border-gray-500/20 text-gray-400"},error:{label:n("dashboard.statusLabels.error"),className:"bg-red-500/10 border border-red-500/20 text-red-400"},default:{label:n("dashboard.statusLabels.unknown"),className:"bg-yellow-500/10 border border-yellow-500/20 text-yellow-400"}},{label:ze,className:nt}=Te[X]||Te.default;return u.jsx("span",{className:`px-2.5 py-0.5 text-[10px] font-semibold rounded-full uppercase tracking-wide ${nt}`,children:ze})},_e=()=>c?u.jsx("p",{className:"text-center text-text-muted col-span-full py-8",children:n("dashboard.loadingProperties")}):p&&s.length===0?u.jsxs("p",{className:"text-center text-red-400 col-span-full py-8",children:[n("common.error"),": ",p]}):s.length===0?u.jsxs("div",{className:"text-center bg-global-bg-box border border-global-stroke-box p-8 rounded-[14px] col-span-full",children:[u.jsx("h3",{className:"text-xl font-semibold text-global-blanc",children:n("dashboard.noProperties")}),u.jsx("p",{className:"text-global-inactive mt-2",children:n("dashboard.noPropertiesMessage")})]}):ae.length===0?u.jsxs("div",{className:"text-center bg-global-bg-box border border-global-stroke-box p-8 rounded-[14px] col-span-full",children:[u.jsx("h3",{className:"text-xl font-semibold text-global-blanc",children:n("dashboard.noFilteredProperties")}),u.jsx("p",{className:"text-global-inactive mt-2",children:n("dashboard.noFilteredPropertiesMessage")})]}):ae.map((X,Te)=>{var $n,sr,xr,vr;const ze=xe(X.id),nt=ze&&ze.syncPrices,et=X.coverImage||X.imageUrl||X.photoUrl||Px[Te%Px.length],Tt=X.property_type||X.type||"Villa",Rt=X.capacity?`${X.capacity} ${n("dashboard.property.capacity")}`:n("dashboard.property.capacityNA"),Hn=Number(X.monthly_revenue??X.monthlyRevenue??(($n=X.metrics)==null?void 0:$n.monthlyRevenue)??(X.daily_revenue?X.daily_revenue*30:0)),mr=Number(X.target_revenue??X.targetRevenue??((sr=X.metrics)==null?void 0:sr.targetRevenue)??(Hn?Hn*1.15:0)),Vn=Number.isFinite(mr)?mr:0,wn=typeof X.revenueGrowth=="number"?X.revenueGrowth:typeof((xr=X.metrics)==null?void 0:xr.revenueGrowth)=="number"?X.metrics.revenueGrowth:null,Zt=wn!==null?`${wn>0?"+":""}${wn.toFixed(1)}%`:null,Or=wn!==null&&wn>=0?"text-global-positive-impact":"text-red-400",ti=Vn?Math.min(100,Math.round(Hn/Vn*100)):0;return u.jsxs("div",{className:"bg-global-bg-box border border-global-stroke-box rounded-[14px] overflow-hidden shadow-lg flex flex-col group hover:border-global-content-highlight-2nd/30 transition-colors duration-300",children:[u.jsxs("div",{className:"relative h-48 shrink-0 overflow-hidden",children:[u.jsx("img",{src:et,alt:X.address||"Proprit",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",loading:"lazy"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),u.jsx("div",{className:"absolute top-3 right-3",children:Ut(X.status||"active")}),nt&&u.jsxs("div",{className:"absolute top-3 left-3 bg-blue-600/90 backdrop-blur-md px-2.5 py-1 rounded-full text-[10px] font-bold text-white flex items-center gap-1.5 border border-blue-400/30 shadow-lg",children:[u.jsx("span",{className:"text-xs",children:""}),n("dashboard.property.sync")," ",ze==null?void 0:ze.name]}),u.jsxs("div",{className:"absolute bottom-3 left-4 right-4",children:[u.jsx("h3",{className:"text-white font-bold text-lg truncate shadow-black drop-shadow-md",children:X.address||n("dashboard.property.propertyNoName")}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-300 text-xs mt-0.5 truncate",children:[u.jsx(iA,{className:"w-3 h-3"}),u.jsx("span",{children:X.location||n("dashboard.property.locationUnknown")})]})]})]}),u.jsxs("div",{className:"p-5 flex flex-col gap-5 flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs text-global-inactive border-b border-global-stroke-box pb-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(sA,{className:"w-3.5 h-3.5"}),Tt]}),u.jsxs("span",{className:"flex items-center gap-1.5",children:[u.jsx(aA,{className:"w-3.5 h-3.5"}),Rt]})]}),u.jsxs("span",{className:"bg-global-bg-small-box px-2 py-1 rounded text-[10px]",children:[((vr=X.amenities)==null?void 0:vr.length)||0," ",n("dashboard.property.equipment")]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-global-inactive",children:n("dashboard.property.monthlyRevenue")}),Zt&&u.jsxs("span",{className:`flex items-center gap-1 text-xs font-medium ${Or}`,children:[u.jsx(oA,{className:"w-3 h-3"}),Zt]})]}),u.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[u.jsx("span",{className:"text-global-blanc font-bold text-xl",children:ye(Hn)}),Vn>0&&u.jsxs("span",{className:"text-global-inactive text-xs",children:["/ ",ye(Vn)]})]}),u.jsx("div",{className:"w-full h-1.5 rounded-full bg-global-bg-muted overflow-hidden",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-[#155dfc] to-[#12a1d5] rounded-full",style:{width:`${ti}%`}})})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-2",children:[u.jsx("button",{onClick:()=>Pe(X),className:"flex-1 bg-global-bg-small-box border border-global-stroke-box hover:border-global-content-highlight-2nd text-global-blanc text-xs font-medium py-2 rounded-[8px] transition-colors",children:n("dashboard.property.strategyAI")}),u.jsx("button",{onClick:()=>Re(X),className:"flex-1 bg-global-bg-small-box border border-global-stroke-box hover:border-purple-500/50 text-global-blanc text-xs font-medium py-2 rounded-[8px] transition-colors",children:n("dashboard.property.rules")}),u.jsxs("div",{className:"relative action-menu-container",children:[u.jsx("button",{type:"button",onClick:()=>U(j===X.id?null:X.id),className:"w-9 h-9 flex items-center justify-center bg-global-bg-small-box border border-global-stroke-box rounded-[8px] text-global-inactive hover:text-white hover:border-global-content-highlight-2nd transition-colors",children:""}),j===X.id&&u.jsxs("div",{className:"absolute right-0 bottom-full mb-2 w-40 bg-global-bg-box border border-global-stroke-box rounded-lg shadow-xl z-20 py-1 overflow-hidden",children:[u.jsx("button",{onClick:()=>ce(X),className:"block w-full text-left px-4 py-2 text-xs text-global-inactive hover:bg-global-bg-small-box hover:text-white transition-colors",children:n("dashboard.property.edit")}),X.status!=="active"&&u.jsx("button",{onClick:()=>Ne(X.id,"active"),className:"block w-full text-left px-4 py-2 text-xs text-green-400 hover:bg-global-bg-small-box transition-colors",children:n("dashboard.property.activate")}),X.status==="active"&&u.jsx("button",{onClick:()=>Ne(X.id,"archived"),className:"block w-full text-left px-4 py-2 text-xs text-global-inactive hover:bg-global-bg-small-box transition-colors",children:n("dashboard.property.archive")}),u.jsx("button",{onClick:()=>Ne(X.id,"error"),className:"block w-full text-left px-4 py-2 text-xs text-yellow-400 hover:bg-global-bg-small-box transition-colors",children:n("dashboard.property.markError")}),u.jsx("div",{className:"h-px bg-global-stroke-box my-1"}),u.jsx("button",{onClick:()=>Ce(X.id),className:"block w-full text-left px-4 py-2 text-xs text-red-400 hover:bg-red-500/10 transition-colors",children:n("dashboard.property.delete")})]})]})]})]})]},X.id)});return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsxs("div",{className:"relative z-10 p-4 md:p-6 lg:p-8 space-y-6 lg:space-y-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-global-inactive mb-1",children:n("dashboard.overview")}),u.jsx("h1",{className:"text-3xl md:text-4xl font-h1-font-family font-bold text-global-blanc",children:n("dashboard.title")})]}),u.jsxs("button",{onClick:he,className:"inline-flex items-center gap-2 px-5 py-2.5 rounded-[12px] text-white font-semibold bg-gradient-to-r from-[#155dfc] to-[#12a1d5] shadow-lg hover:opacity-90 transition-opacity text-sm",children:[u.jsx(dA,{}),n("dashboard.addProperty")]})]}),p&&u.jsx("div",{className:"bg-red-900/20 border border-red-500/30 p-4 rounded-[12px] text-red-200 text-sm",children:p}),d?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[...Array(4)].map((X,Te)=>u.jsx("div",{className:"bg-global-bg-box border border-global-stroke-box rounded-[14px] p-5 animate-pulse h-32"},Te))}):_n(),!we&&le.length>0&&u.jsxs("div",{className:"bg-global-bg-box border border-global-stroke-box rounded-[14px] p-6 shadow-lg",children:[u.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-global-inactive mb-1",children:n("dashboard.aiRecommendations")}),u.jsx("h2",{className:"text-xl font-bold text-global-blanc",children:n("dashboard.groupSuggestions")})]}),u.jsx("button",{onClick:W,className:"text-xs px-4 py-2 rounded-full border border-global-stroke-box text-global-inactive hover:text-global-blanc hover:border-global-content-highlight-2nd transition-colors",children:n("dashboard.refresh")})]}),u.jsx("div",{children:u.jsx(nA,{token:t,recommendations:le,onGroupCreated:W})})]}),u.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8 items-stretch",children:[u.jsxs("div",{className:"xl:col-span-2 flex flex-col gap-8",children:[u.jsx(q3,{token:t,properties:s,onGroupChange:W,onEditStrategy:Pe,onEditRules:Re,userProfile:e,refreshKey:b}),u.jsxs("div",{className:"bg-global-bg-box border border-global-stroke-box rounded-[14px] p-6 shadow-lg",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-global-inactive mb-1",children:n("dashboard.inventory")}),u.jsxs("h2",{className:"text-xl font-bold text-global-blanc",children:[n("dashboard.propertiesTitle")," (",ae.length,")"]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 w-full sm:w-auto",children:[u.jsxs("select",{value:ee,onChange:X=>D(X.target.value),className:"flex-1 sm:flex-none bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-xs text-global-blanc focus:outline-none focus:border-global-content-highlight-2nd transition-colors cursor-pointer",children:[u.jsx("option",{value:"",children:n("dashboard.allGroups")}),o.map(X=>u.jsx("option",{value:X.id,children:X.name},X.id))]}),u.jsxs("select",{value:te,onChange:X=>fe(X.target.value),className:"flex-1 sm:flex-none bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-xs text-global-blanc focus:outline-none focus:border-global-content-highlight-2nd transition-colors cursor-pointer",children:[u.jsx("option",{value:"active",children:n("dashboard.status.active")}),u.jsx("option",{value:"archived",children:n("dashboard.status.archived")}),u.jsx("option",{value:"error",children:n("dashboard.status.error")}),u.jsx("option",{value:"",children:n("dashboard.status.all")})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:_e()})]})]}),u.jsx("div",{className:"xl:col-span-1 flex flex-col h-full",children:u.jsx(tA,{token:t})})]})]}),S&&u.jsx(G3,{token:t,onClose:Ze,onSave:ft,property:g}),k&&u.jsx(Z3,{token:t,onClose:Ze,onSave:ft,item:y||g,itemType:y?"group":"property",onGroupStrategyUpdated:y?async X=>{await M(),_(Te=>Te+1)}:void 0}),C&&u.jsx(eA,{token:t,onClose:Ze,onSave:ft,item:y||g,itemType:y?"group":"property"}),u.jsx(uo,{isOpen:B.isOpen,onClose:()=>L({isOpen:!1,message:"",onConfirm:null}),onConfirm:B.onConfirm||(()=>{}),title:n("confirmModal.title"),message:B.message,confirmText:n("common.confirm"),cancelText:n("common.cancel")})]})}class Yo extends Error{}Yo.prototype.name="InvalidTokenError";function hA(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function pA(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return hA(e)}catch{return atob(e)}}function I0(t,e){if(typeof t!="string")throw new Yo("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,r=t.split(".")[n];if(typeof r!="string")throw new Yo(`Invalid token specified: missing part #${n+1}`);let i;try{i=pA(r)}catch(s){throw new Yo(`Invalid token specified: invalid base64 for part #${n+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new Yo(`Invalid token specified: invalid json for part #${n+1} (${s.message})`)}}const gA=({className:t=""})=>u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:u.jsx("path",{d:"M8 12V4M4 8H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),mA=({className:t=""})=>u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:u.jsx("path",{d:"M8 4V12M4 8H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),xA=({className:t=""})=>u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:u.jsx("path",{d:"M8 4V12M4 8H12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});function vA({token:t,propertyId:e}){const{t:n,language:r}=un(),[i,s]=A.useState([]),[a,o]=A.useState(!0),[l,c]=A.useState(""),f=p=>{if(!p)return n("propertyNewsFeed.unknownDate");try{const m=new Date(p),x=new Date-m,y=Math.floor(x/6e4),v=Math.floor(x/36e5),b=Math.floor(x/864e5),_=Math.floor(b/30),S=Math.floor(_/12);return y<60?y>1?n("propertyNewsFeed.timeAgo.minutesPlural",{count:y}):n("propertyNewsFeed.timeAgo.minutes",{count:y}):v<24?v>1?n("propertyNewsFeed.timeAgo.hoursPlural",{count:v}):n("propertyNewsFeed.timeAgo.hours",{count:v}):b<30?b>1?n("propertyNewsFeed.timeAgo.daysPlural",{count:b}):n("propertyNewsFeed.timeAgo.days",{count:b}):_<12?n("propertyNewsFeed.timeAgo.months",{count:_}):S>1?n("propertyNewsFeed.timeAgo.yearsPlural",{count:S}):n("propertyNewsFeed.timeAgo.years",{count:S})}catch{return n("propertyNewsFeed.unknownDate")}};A.useEffect(()=>{(async()=>{if(!t||!e){s([]),o(!1);return}o(!0),c("");try{const m=await Q2(e,t);s(m)}catch(m){c(n("propertyNewsFeed.error",{message:m.message}))}finally{o(!1)}})()},[t,e,n]);const d=(p,m)=>p>0?{color:"text-global-positive-impact",icon:u.jsx(mA,{className:"w-4 h-4 shrink-0"}),sign:`+${p}%`}:p<0?{color:"text-global-negative-impact",icon:u.jsx(gA,{className:"w-4 h-4 shrink-0"}),sign:`${p}%`}:{color:"text-global-mid-impact",icon:u.jsx(xA,{className:"w-4 h-4 shrink-0"}),sign:"0%"},h=()=>a?u.jsx("div",{className:"flex justify-center items-center h-24 w-full",children:u.jsx("div",{className:"w-8 h-8 border-2 border-global-content-highlight-2nd border-t-transparent rounded-full animate-spin"})}):l?u.jsx("p",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight break-words",children:l}):!i||!Array.isArray(i)||i.length===0?u.jsx("p",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight break-words",children:n("propertyNewsFeed.noNews")}):u.jsx("div",{className:"flex flex-col gap-3 items-start justify-start w-full",children:i.map((p,m)=>{const g=d(p.impact_percentage||0,p.impact_category),x=f(p.publishedAt||p.date);return u.jsx("div",{className:"bg-global-bg-small-box rounded-[14px] pt-3 pr-4 pb-3 pl-4 flex flex-row gap-3 items-start justify-start self-stretch shrink-0 relative w-full min-w-0",children:u.jsxs("div",{className:"flex flex-col gap-1 items-start justify-start flex-1 relative min-w-0 w-full",children:[u.jsx("div",{className:"text-global-blanc text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative self-stretch break-words w-full",children:p.title||n("propertyNewsFeed.noTitle")}),u.jsx("div",{className:"text-global-inactive text-left font-p2-font-family text-p2-font-size font-p2-font-weight relative self-stretch break-words whitespace-normal w-full",children:p.summary||p.description||n("propertyNewsFeed.noDescription")}),u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 relative flex-wrap gap-2 w-full",children:[u.jsxs("div",{className:"flex flex-row gap-1 items-center justify-start shrink-0 relative flex-wrap min-w-0",children:[u.jsx("div",{className:`${g.color} text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative whitespace-nowrap`,children:n("propertyNewsFeed.estimatedImpact")}),g.icon,u.jsx("div",{className:`${g.color} text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative whitespace-nowrap`,children:g.sign})]}),u.jsx("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative whitespace-nowrap shrink-0",children:x})]})]})},m)})});return u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start self-stretch shrink-0 h-[389px] relative w-full min-w-0 overflow-hidden",children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative w-full shrink-0",children:n("propertyNewsFeed.title")}),u.jsx("div",{className:"flex-1 relative w-full min-h-0 overflow-hidden flex flex-col",children:u.jsx(bo,{className:"flex-1 min-h-0",children:h()})})]})}function yA({token:t,propertyId:e,date:n,currentPrice:r,userProfile:i}){const{t:s,language:a}=un(),[o,l]=A.useState(null),[c,f]=A.useState(!1),[d,h]=A.useState("");A.useEffect(()=>{if(!n||!e){l(null),h("");return}(async()=>{f(!0),h(""),l(null);try{const y=await j3(e,n,t);l(y)}catch(y){h(y.message)}finally{f(!1)}})()},[t,e,n]);const p=x=>{if(!x)return null;const y=x.match(/\d+/g);return y?y.length===1?parseFloat(y[0]):y.length>=2?(parseFloat(y[0])+parseFloat(y[1]))/2:null:null},m=x=>{if(x==null)return s("dateAnalysis.na");const y=(i==null?void 0:i.currency)||"EUR",v=a==="en"?"en-US":"fr-FR";return x.toLocaleString(v,{style:"currency",currency:y,minimumFractionDigits:0,maximumFractionDigits:0})},g=()=>{if(!n)return u.jsx("div",{className:"border-solid border-global-stroke-box border-t pt-4 flex flex-row gap-6 items-start justify-center self-stretch shrink-0 relative",children:u.jsx("div",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative self-stretch",children:s("dateAnalysis.selectDate")})});if(c)return u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("div",{className:"w-8 h-8 border-2 border-global-content-highlight-2nd border-t-transparent rounded-full animate-spin"})});if(d)return u.jsx("div",{className:"border-solid border-global-stroke-box border-t pt-4",children:u.jsx("p",{className:"text-sm text-red-400 text-center",children:d})});if(!o)return u.jsx("div",{className:"border-solid border-global-stroke-box border-t pt-4",children:u.jsx("p",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight",children:s("dateAnalysis.noAnalysis")})});const x=p(o.priceSuggestion);let y=null;if(x!=null&&r!=null){const v=(r-x)/x*100,b=v>5?"text-global-positive-impact":v<-5?"text-global-negative-impact":"text-global-inactive",_=v>0?"+":"";y=u.jsxs("span",{className:`text-sm font-semibold ${b}`,children:["(",_,v.toFixed(0),"% ",s("dateAnalysis.vsMarket"),")"]})}return u.jsxs("div",{className:"border-solid border-global-stroke-box border-t pt-4 flex flex-col gap-3 self-stretch",children:[u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold text-global-inactive uppercase tracking-wider mb-1",children:s("dateAnalysis.marketDemand")}),u.jsx("p",{className:"text-lg font-semibold text-global-blanc",children:o.marketDemand||s("dateAnalysis.na")})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold text-global-inactive uppercase tracking-wider mb-1",children:s("dateAnalysis.currentPrice")}),u.jsxs("div",{className:"flex items-baseline gap-2",children:[u.jsx("p",{className:"text-lg font-semibold text-global-blanc",children:m(r)}),y]})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold text-global-inactive uppercase tracking-wider mb-1",children:s("dateAnalysis.priceSuggestion")}),u.jsx("p",{className:"text-lg font-semibold text-global-blanc",children:o.priceSuggestion||s("dateAnalysis.na")})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold text-global-inactive uppercase tracking-wider mb-1",children:s("dateAnalysis.localEvents")}),o.events&&o.events.length>0?u.jsx("ul",{className:"list-disc list-inside text-sm text-global-inactive space-y-1 mt-1",children:o.events.map((v,b)=>u.jsx("li",{children:v},b))}):u.jsx("p",{className:"text-sm text-global-inactive mt-1",children:s("dateAnalysis.noEvents")})]}),u.jsxs("div",{children:[u.jsx("h5",{className:"text-xs font-bold text-global-inactive uppercase tracking-wider mb-1",children:s("dateAnalysis.aiSummary")}),u.jsxs("p",{className:"text-sm text-global-inactive italic mt-1",children:['"',o.analysisSummary||s("dateAnalysis.analysisNotAvailable"),'"']})]})]})};return u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start shrink-0 w-full relative",children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative",children:s("dateAnalysis.title")}),g()]})}function bA({className:t="",state:e="add",visibleComponent:n=!0,...r}){return n?u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,...r,children:u.jsx("path",{d:"M10 4V16M4 10H16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}):null}function _A({state:t="principal",className:e="",children:n,text:r,onClick:i,...s}){return u.jsxs("button",{type:"button",onClick:i,className:`rounded-[10px] border border-solid border-global-stroke-highlight-2nd pt-2 pr-3 pb-2 pl-3 flex flex-row gap-2 items-center justify-center shrink-0 relative cursor-pointer hover:opacity-90 transition-opacity ${e}`,style:{background:"linear-gradient(90deg, rgba(21, 93, 252, 0.20) 0%, rgba(0, 146, 184, 0.20) 100%)"},...s,children:[u.jsx(bA,{state:"add",visibleComponent:!0,className:"!w-5 !h-5"}),u.jsx("div",{className:"text-global-blanc text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative",children:r||n||"Ajouter Rservation"})]})}const n_=({isOpen:t,onClose:e,title:n="Information",message:r,buttonText:i="OK"})=>t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",onClick:e,children:u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-4 items-start justify-start w-full max-w-md relative",onClick:s=>s.stopPropagation(),children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative w-full",children:n}),u.jsx("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative w-full",children:r}),u.jsx("div",{className:"flex flex-row gap-3 items-start justify-end self-stretch shrink-0 relative w-full",children:u.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center gap-2 px-4 py-2 relative rounded-[10px] bg-[linear-gradient(90deg,rgba(21,93,252,1)_0%,rgba(18,161,213,1)_100%)] cursor-pointer border-0 transition-opacity hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[rgba(21,93,252,1)]",children:u.jsx("span",{className:"relative w-fit font-h3-font-family font-h3-font-weight text-global-blanc text-h3-font-size leading-h3-line-height",children:i})})})]})}):null;function wA({token:t,userProfile:e}){const{t:n,language:r}=un(),[i,s]=A.useState([]),[a,o]=A.useState([]),[l,c]=A.useState("property"),[f,d]=A.useState(""),[h,p]=A.useState(new Date),[m,g]=A.useState({}),[x,y]=A.useState({}),[v,b]=A.useState(!0),[_,S]=A.useState(""),[O,k]=A.useState(!1),[T,C]=A.useState(!1),[F,j]=A.useState("Europe/Paris"),[U,Z]=A.useState(null),[Ee,le]=A.useState(!0),[ke,we]=A.useState(""),[ie,te]=A.useState(""),[fe,ee]=A.useState(null),[D,B]=A.useState(null),[L,M]=A.useState(!1),[W,ae]=A.useState("booking"),[xe,he]=A.useState(""),[ce,Pe]=A.useState("Direct"),[Re,Ce]=A.useState(""),[Ne,ft]=A.useState(!0),[Ze,ye]=A.useState([]),[Bt,yt]=A.useState(!1),[_n,Ut]=A.useState(""),[_e,X]=A.useState(null),[Te,ze]=A.useState({isOpen:!1,message:"",title:"Information"}),nt=A.useCallback(async()=>{if(t){b(!0),S("");try{const[ne,be]=await Promise.all([ea(t),dl(t)]);s(ne),o(be),ne.length>0?(c("property"),d(ne[0].id)):be.length>0&&(c("group"),d(be[0].id))}catch(ne){S(n("pricing.errors.loadData",{message:ne.message}))}finally{b(!1)}}},[t,e,n]);A.useEffect(()=>{nt()},[nt]),A.useEffect(()=>{(async()=>{if(!t){le(!1);return}try{let be=null;try{const Ae=I0(t);be=(Ae==null?void 0:Ae.user_id)||(Ae==null?void 0:Ae.uid)}catch(Ae){console.error("Erreur de dcodage du token:",Ae),le(!1);return}if(!be){console.warn("Impossible de rcuprer l'userId depuis le token"),le(!1);return}const Ie=await L3(be,t);C(Ie.enabled||!1),j(Ie.timezone||(e==null?void 0:e.timezone)||"Europe/Paris"),Z(Ie.lastRun||null),te("")}catch(be){console.error("Erreur lors du chargement de l'tat de gnration automatique:",be),te(n("pricing.autoPricing.loadError",{message:be.message||"Impossible de charger l'tat actuel."})),C(!1),j((e==null?void 0:e.timezone)||"Europe/Paris")}finally{le(!1)}})()},[t,e,n]),A.useEffect(()=>{e!=null&&e.timezone&&T&&e.timezone},[e==null?void 0:e.timezone,T,F]),A.useMemo(()=>{if(!T||!F)return null;try{const ne=new Date;ne.setDate(ne.getDate()+1),ne.setUTCHours(0,0,0,0);const be=r==="en"?"en-US":"fr-FR";return new Intl.DateTimeFormat(be,{timeZone:F,day:"numeric",month:"long",hour:"2-digit",minute:"2-digit",hour12:!1}).format(ne)}catch(ne){return console.error("Erreur lors du calcul de la prochaine gnration:",ne),n("pricing.autoPricing.nextGeneration")}},[T,F,r,n]),A.useMemo(()=>{if(!U)return null;try{let ne;if(typeof U=="string"?ne=new Date(U):U instanceof Date?ne=U:U.toDate&&typeof U.toDate=="function"?ne=U.toDate():U.seconds?ne=new Date(U.seconds*1e3):U._seconds?ne=new Date(U._seconds*1e3):ne=new Date(U),isNaN(ne.getTime()))return console.warn("Date de dernire gnration invalide:",U),null;const be=r==="en"?"en-US":"fr-FR";return new Intl.DateTimeFormat(be,{timeZone:F||(e==null?void 0:e.timezone)||"Europe/Paris",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(ne)}catch(ne){return console.error("Erreur lors du formatage de la dernire gnration:",ne,U),null}},[U,F,e==null?void 0:e.timezone,r]);const et=async(ne,be=null)=>{if(!ne||!t)throw new Error("Proprit ou token manquant.");k(!0),S("");try{const Ie=await E3(ne,t);if(!Ie.daily_prices||Ie.daily_prices.length===0)throw new Error("La stratgie gnre par l'IA est vide ou mal forme.");let Ae=[ne];be&&be.properties.forEach(Ue=>{Ue!==ne&&!Ae.includes(Ue)&&Ae.push(Ue)});const De=new Map;for(const Ue of Ae)try{const Xe=await Ix(Ue,t);Object.keys(Xe).forEach(Be=>{Xe[Be].isLocked&&De.set(`${Ue}-${Be}`,Xe[Be].price)})}catch(Xe){console.warn(`Erreur lors de la rcupration des prix verrouills pour ${Ue}:`,Xe)}console.log(`Trouv ${De.size} prix verrouills pour ${Ae.length} proprits.`);for(const Ue of Ae){const Xe=[];Ie.daily_prices.forEach(Be=>{if(/^\d{4}-\d{2}-\d{2}$/.test(Be.date)&&!(typeof Be.price!="number"||isNaN(Be.price))){if(De.has(`${Ue}-${Be.date}`)){console.log(`Ignor ${Be.date} pour ${Ue}: prix verrouill.`);return}Xe.push({date:Be.date,price:Be.price,isLocked:!1,reason:Be.reason||"Stratgie IA Automatique"})}}),Xe.length>0&&await Dx(Ue,Xe,t)}return Rt(),{success:!0,propertyCount:Ae.length,summary:Ie.strategy_summary}}catch(Ie){throw console.error("Erreur lors de l'application de la stratgie:",Ie),Ie}finally{k(!1)}},Tt=async ne=>{we(""),te(""),F||e!=null&&e.timezone,C(ne);try{let be=null;try{const De=I0(t);be=(De==null?void 0:De.user_id)||(De==null?void 0:De.uid)}catch(De){console.error("Erreur de dcodage du token:",De),te(n("pricing.autoPricing.authError")),C(!ne);return}if(!be){te(n("pricing.autoPricing.userIdError")),C(!ne);return}const Ie=(e==null?void 0:e.timezone)||F||"Europe/Paris",Ae=await B3(be,ne,Ie,t);if(j(Ie),ne)try{let De,Ue=null;if(l==="property")De=f;else{const Be=a.find(w=>w.id===f);if(Be)if(Be.syncPrices){if(!Be.mainPropertyId){te(n("pricing.autoPricing.noMainProperty")),C(!1);return}De=Be.mainPropertyId,Ue=Be}else{if(!Be.mainPropertyId){te(n("pricing.autoPricing.noMainProperty")),C(!1);return}De=Be.mainPropertyId,Ue=null}else if(i.length>0)De=i[0].id;else{te(n("pricing.autoPricing.noProperties")),C(!1);return}}if(!De){te(n("pricing.autoPricing.invalidSelection")),C(!1);return}we(n("pricing.autoPricing.generating"));const Xe=await et(De,Ue);we(n("pricing.autoPricing.success",{count:Xe.propertyCount,timezone:Ie}))}catch(De){console.error("Erreur lors de la gnration immdiate des prix:",De),te(n("pricing.autoPricing.error",{message:De.message}))}else we(n("pricing.autoPricing.disabled"));setTimeout(()=>{we("")},5e3)}catch(be){console.error("Erreur lors de la mise  jour de la gnration automatique:",be),te(n("pricing.autoPricing.saveError",{message:be.message||"Impossible de sauvegarder la prfrence."})),C(!ne),setTimeout(()=>{te("")},7e3)}},Rt=A.useCallback(async()=>{var Ie;if(!f||v)return;let ne,be;if(l==="property")ne=f,be=i.find(Ae=>Ae.id===f);else{const Ae=a.find(De=>De.id===f);if(!Ae)return;ne=Ae.mainPropertyId||((Ie=Ae.properties)==null?void 0:Ie[0]),be=i.find(De=>De.id===ne)}if(!ne||!be){g({}),y({});return}Hn(ne);try{const Ae=h.getFullYear(),De=h.getMonth(),Ue=`${Ae}-${String(De+1).padStart(2,"0")}-01`,Xe=`${Ae}-${String(De+1).padStart(2,"0")}-31`,Be=await Ix(ne,t,Ue,Xe),w={};Object.keys(Be).forEach(N=>{w[N]=Be[N].price}),g(w);const I=await C3(ne,Ae,De,t),E={};I.forEach(N=>{let R=new Date(N.startDate);const P=new Date(N.endDate);for(;R<P;){const H=R.toISOString().split("T")[0];E[H]=N,R.setDate(R.getDate()+1)}}),y(E)}catch(Ae){console.error("Erreur de chargement des donnes calendrier:",Ae),S(n("pricing.errors.calendar",{message:Ae.message})),g({}),y({})}},[f,l,h,t,i,a,v,n]);A.useEffect(()=>{Rt()},[Rt]);const Hn=A.useCallback(async ne=>{if(!ne||!t){ye([]);return}yt(!0),Ut("");try{const be=await Q2(ne,t);ye(be)}catch(be){Ut(n("pricing.errors.news",{message:be.message}))}finally{yt(!1)}},[t,n]),mr=ne=>{M(!0),ee(ne),B(ne),X(ne),he(""),Ce(""),ft(!0)},Vn=ne=>{if(L){const be=new Date(fe),Ie=new Date(ne);let Ae=new Date(Math.min(be,Ie));const De=new Date(Math.max(be,Ie));if(W==="booking"){let Ue=!1;for(;Ae<=De;){const Xe=Ae.toISOString().split("T")[0];if(x[Xe]){Ue=!0;break}Ae.setDate(Ae.getDate()+1)}Ue&&console.warn("La slection traverse une date rserve.")}Ie<be?(B(fe),ee(ne)):B(ne)}},wn=()=>{M(!1)};A.useEffect(()=>(window.addEventListener("mouseup",wn),()=>window.removeEventListener("mouseup",wn)),[]);const Zt=()=>{ee(null),B(null),he(""),Pe("Direct"),Ce(""),ft(!0),S("")},Or=async ne=>{ne.preventDefault();let be=f;if(l==="group"){const I=a.find(E=>E.id===f);if(!I||!I.mainPropertyId){S(n("pricing.errors.bookingNoMainProperty"));return}be=I.mainPropertyId}if(!fe||!D||!xe||!be)return;const Ie=parseInt(xe,10);if(isNaN(Ie)||Ie<=0){S(n("pricing.errors.bookingInvalidPrice"));return}const Ae=new Date(fe),De=new Date(D);let Ue=new Date(Ae);for(;Ue<=De;){const I=Ue.toISOString().split("T")[0];if(x[I]){S(n("pricing.errors.bookingDateError",{date:I}));return}Ue.setDate(Ue.getDate()+1)}const Xe=new Date(De);Xe.setDate(Xe.getDate()+1);const Be=Math.round((Xe-Ae)/(1e3*60*60*24));if(Be<=0){S(n("pricing.errors.bookingEndDateError"));return}const w={startDate:fe,endDate:Xe.toISOString().split("T")[0],pricePerNight:Ie,totalPrice:Ie*Be,channel:ce,bookedAt:new Date().toISOString()};b(!0),S("");try{await T3(be,w,t),ze({isOpen:!0,message:n("pricing.errors.bookingSuccess"),title:n("pricing.modal.success")}),Zt(),Rt()}catch(I){S(n("pricing.errors.bookingError",{message:I.message}))}finally{b(!1)}},ti=async ne=>{ne.preventDefault();let be=[];if(l==="property")be=[f];else{const Ae=a.find(De=>De.id===f);if(!Ae){S(n("pricing.errors.groupNotFound"));return}Ae.syncPrices?be=Ae.properties||[]:(ze({isOpen:!0,message:n("pricing.errors.syncNotEnabledPrice"),title:n("pricing.modal.information")}),be=[Ae.mainPropertyId].filter(Boolean))}if(!fe||!D||!Re||be.length===0){S(n("pricing.errors.bookingRequired"));return}const Ie=parseInt(Re,10);if(isNaN(Ie)||Ie<0){S(n("pricing.errors.invalidPrice"));return}b(!0),S("");try{let Ae=new Date(fe);const De=new Date(D);for(const Ue of be){const Xe=[];let Be=new Date(fe);for(;Be<=De;){const w=Be.toISOString().split("T")[0];Xe.push({date:w,price:Ie,isLocked:Ne,reason:"Manuel"}),Be.setDate(Be.getDate()+1)}Xe.length>0&&await Dx(Ue,Xe,t)}ze({isOpen:!0,message:n("pricing.errors.priceSuccess",{count:be.length}),title:n("pricing.modal.success")}),Zt(),Rt()}catch(Ae){S(n("pricing.errors.priceError",{message:Ae.message}))}finally{b(!1)}},$n=A.useMemo(()=>{if(l==="property")return i.find(ne=>ne.id===f);{const ne=a.find(be=>be.id===f);return ne?i.find(be=>be.id===ne.mainPropertyId)||i.find(be=>{var Ie;return be.id===((Ie=ne.properties)==null?void 0:Ie[0])}):null}},[f,l,i,a]),sr=A.useMemo(()=>{var ne;if(l==="property")return f;{const be=a.find(Ie=>Ie.id===f);return(be==null?void 0:be.mainPropertyId)||((ne=be==null?void 0:be.properties)==null?void 0:ne[0])}},[f,l,a]),xr=A.useMemo(()=>!_e||!$n?null:m[_e]??$n.daily_revenue,[_e,$n,m]),vr=({className:ne=""})=>u.jsx("div",{className:`relative w-5 h-5 ${ne}`,role:"img","aria-label":"Previous month",children:u.jsx("svg",{className:"absolute w-full h-full",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:u.jsx("path",{d:"M12.5 5L7.5 10L12.5 15",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),jr=({className:ne=""})=>u.jsx("div",{className:`relative w-5 h-5 ${ne}`,role:"img","aria-label":"Next month",children:u.jsx("svg",{className:"absolute w-full h-full",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:u.jsx("path",{d:"M7.5 5L12.5 10L7.5 15",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),Fr=()=>{const ne=$n;if(v||!f||!ne)return u.jsx("div",{className:"grid grid-cols-7 gap-3",children:u.jsx("p",{className:"text-center p-4 text-global-inactive col-span-7",children:n("pricing.loading")})});const be=h.getFullYear(),Ie=h.getMonth(),Ae=[],De=new Date;De.setHours(0,0,0,0);const Ue=`${De.getFullYear()}-${String(De.getMonth()+1).padStart(2,"0")}-${String(De.getDate()).padStart(2,"0")}`,Be=new Date(be,Ie,1).getDay(),w=new Date(be,Ie+1,0).getDate(),I=Be===0?6:Be-1,E=new Date(be,Ie,0),N=E.getDate();for(let R=I-1;R>=0;R--){const P=N-R;`${E.getFullYear()}${String(E.getMonth()+1).padStart(2,"0")}${String(P).padStart(2,"0")}`,Ae.push(u.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-global-bg-small-box rounded-[10px] border border-solid border-global-stroke-box relative",style:{opacity:.3},children:u.jsx("div",{className:"text-global-inactive relative w-fit font-h3-font-family font-h3-font-weight text-h3-font-size text-center leading-h3-line-height",children:P})},`prev-${P}`))}for(let R=1;R<=w;R++){const P=`${be}-${String(Ie+1).padStart(2,"0")}-${String(R).padStart(2,"0")}`,H=!!x[P],J=H?x[P].pricePerNight:m[P]??ne.daily_revenue,V=(e==null?void 0:e.currency)||"EUR",G=J!=null?`${Math.round(J)}${V==="EUR"?"":V==="USD"?"$US":V}`:"",K=P<Ue;let se="bg-global-bg-small-box",de="border-global-stroke-box",z="text-global-blanc",Q=!1,oe=!1,Y=1;if(fe&&D&&!K){const pe=new Date(P).getTime(),je=new Date(fe).getTime(),We=new Date(D).getTime();!isNaN(je)&&!isNaN(We)&&pe>=je&&pe<=We&&(Q=!0,W==="booking"?(se="bg-calendrierbg-bleu",de="border-calendrierstroke-bleu"):(se="bg-calendrierbg-vert",de="border-calendrierstroke-vert"))}H?(se="bg-calendrierbg-orange",de="border-calendrierstroke-orange",oe=!0):K?(oe=!0,Y=.4,z="text-global-inactive"):!Q&&!H&&(se="bg-global-bg-small-box",de="border-global-stroke-box"),Ae.push(u.jsxs("div",{"data-date":P,className:`w-full h-full flex flex-col items-center justify-center ${G?"gap-1":""} ${se} rounded-[10px] border border-solid ${de} ${z} ${oe?"cursor-not-allowed":"cursor-pointer"} transition-colors relative`,style:{opacity:Y},onMouseDown:oe?void 0:()=>mr(P),onMouseEnter:oe?void 0:()=>Vn(P),children:[u.jsx("div",{className:`${z} relative w-fit font-h3-font-family font-h3-font-weight text-h3-font-size text-center leading-h3-line-height`,children:R}),G&&u.jsx("div",{className:`relative w-fit font-h4-font-family font-h4-font-weight ${K?"text-global-inactive":"text-global-blanc"} text-h4-font-size text-center leading-h4-line-height whitespace-nowrap`,children:G})]},P))}return Ae},Rn=(e==null?void 0:e.currency)||"EUR",Lr=()=>u.jsxs("form",{onSubmit:Or,className:"flex flex-col gap-3 text-left",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-global-inactive mb-1 block",children:n("pricing.selectedPeriod")}),u.jsxs("p",{className:"text-sm font-medium text-global-blanc bg-global-bg-small-box border border-global-stroke-box rounded-[10px] p-2 mt-1",children:[fe," ",r==="en"?"to":"au"," ",D]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-medium text-global-inactive mb-1 block",children:[n("pricing.pricePerNight")," (",Rn,")"]}),u.jsx("input",{type:"number",value:xe,onChange:ne=>he(ne.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd mt-1",placeholder:"Ex: 150",required:!0,min:"1"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-global-inactive mb-1 block",children:n("pricing.channel")}),u.jsxs("select",{value:ce,onChange:ne=>Pe(ne.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd mt-1",children:[u.jsx("option",{value:"Direct",children:n("pricing.channels.direct")}),u.jsx("option",{value:"Airbnb",children:n("pricing.channels.airbnb")}),u.jsx("option",{value:"Booking",children:n("pricing.channels.booking")}),u.jsx("option",{value:"VRBO",children:n("pricing.channels.vrbo")}),u.jsx("option",{value:"Autre",children:n("pricing.channels.other")})]})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{type:"submit",disabled:v,className:"flex-grow bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 text-white font-h3-font-family font-h3-font-weight text-h3-font-size py-2 px-4 rounded-[10px] transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:n(v?"pricing.save":"pricing.saveBooking")}),u.jsx("button",{type:"button",onClick:Zt,className:"px-3 py-2 bg-transparent border border-global-stroke-highlight-2nd text-global-inactive hover:text-global-blanc rounded-[10px] text-xs transition-colors",children:n("pricing.cancel")})]})]}),Br=()=>u.jsxs("form",{onSubmit:ti,className:"flex flex-col gap-3 text-left",children:[l==="group"&&u.jsx("p",{className:"text-xs text-global-inactive font-p1-font-family",children:n("pricing.groupPriceNote")}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-global-inactive mb-1 block",children:n("pricing.selectedPeriod")}),u.jsxs("p",{className:"text-sm font-medium text-global-blanc bg-global-bg-small-box border border-global-stroke-box rounded-[10px] p-2 mt-1",children:[fe," ",r==="en"?"to":"au"," ",D]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs font-medium text-global-inactive mb-1 block",children:[n("pricing.newPricePerNight")," (",Rn,")"]}),u.jsx("input",{type:"number",value:Re,onChange:ne=>Ce(ne.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd mt-1",placeholder:"Ex: 175",required:!0,min:"0"})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[u.jsx("input",{type:"checkbox",id:"lockPrice",checked:Ne,onChange:ne=>ft(ne.target.checked),className:"w-5 h-5 rounded border border-global-content-highlight-2nd bg-transparent text-global-content-highlight-2nd focus:ring-2 focus:ring-global-content-highlight-2nd cursor-pointer"}),u.jsx("label",{htmlFor:"lockPrice",className:"text-xs text-global-inactive font-p1-font-family cursor-pointer",children:n("pricing.lockPrice")})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{type:"submit",disabled:v,className:"flex-grow bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 text-white font-h3-font-family font-h3-font-weight text-h3-font-size py-2 px-4 rounded-[10px] transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:n(v?"pricing.save":"pricing.applyPrice")}),u.jsx("button",{type:"button",onClick:Zt,className:"px-3 py-2 bg-transparent border border-global-stroke-highlight-2nd text-global-inactive hover:text-global-blanc rounded-[10px] text-xs transition-colors",children:n("pricing.cancel")})]})]}),Ur=ne=>{const[be,Ie]=ne.target.value.split("-");if(!be||!Ie){c("property"),d("");return}c(be),d(Ie),Zt(),X(null)},zr=()=>f?`${l}-${f}`:"";return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsxs("div",{className:"relative z-10 space-y-6 p-4 md:p-6 lg:p-8",children:[_&&u.jsx("p",{className:"bg-red-900/50 text-red-300 p-3 rounded-md text-sm",children:_}),u.jsxs("div",{className:"md:flex gap-6",children:[u.jsxs("div",{className:"flex-grow self-stretch p-8 bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box flex flex-col items-start gap-6",children:[u.jsxs("header",{className:"flex items-center justify-between relative self-stretch w-full flex-[0_0_auto]",children:[u.jsxs("select",{id:"view-selector",value:zr(),onChange:Ur,className:"w-80 h-9 bg-global-bg-small-box rounded-lg border border-solid border-global-stroke-box px-3 py-0 text-center font-h3-font-family font-h3-font-weight text-global-blanc text-h3-font-size leading-h3-line-height appearance-none cursor-pointer focus:outline-none hover:opacity-90 transition-opacity",disabled:v||O,children:[u.jsx("option",{value:"",children:n("pricing.select")}),u.jsx("optgroup",{label:n("pricing.groups"),children:a.map(ne=>u.jsx("option",{value:`group-${ne.id}`,children:ne.name},ne.id))}),u.jsx("optgroup",{label:n("pricing.individualProperties"),children:i.map(ne=>u.jsx("option",{value:`property-${ne.id}`,children:ne.address},ne.id))})]}),u.jsxs("nav",{className:"inline-flex h-8 items-center gap-3 relative flex-[0_0_auto]","aria-label":"Month navigation",children:[u.jsx("button",{id:"prev-month-btn",onClick:()=>{p(ne=>new Date(ne.getFullYear(),ne.getMonth()-1,1)),Zt(),X(null)},className:"cursor-pointer hover:opacity-70 transition-opacity","aria-label":"Previous month",children:u.jsx(vr,{})}),u.jsx("time",{className:"relative w-[150px] font-h4-font-family font-h4-font-weight text-global-blanc text-h4-font-size text-center leading-h4-line-height",children:h.toLocaleDateString(r==="en"?"en-US":"fr-FR",{month:"long",year:"numeric"})}),u.jsx("button",{id:"next-month-btn",onClick:()=>{p(ne=>new Date(ne.getFullYear(),ne.getMonth()+1,1)),Zt(),X(null)},className:"cursor-pointer hover:opacity-70 transition-opacity","aria-label":"Next month",children:u.jsx(jr,{})})]})]}),u.jsxs("section",{className:"flex flex-col items-start gap-3 relative self-stretch w-full flex-[0_0_auto]",children:[u.jsx("header",{className:"flex items-center justify-between px-9 py-0 relative self-stretch w-full flex-[0_0_auto]",children:(r==="en"?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"]).map((ne,be)=>u.jsx("div",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size text-center leading-p1-line-height",children:ne},be))}),u.jsxs("div",{id:"calendar-grid",className:"self-stretch h-[458px] grid grid-cols-7 gap-2 select-none relative",children:[Fr(),O&&u.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm rounded-[10px] flex items-center justify-center z-10",children:u.jsxs("div",{className:"bg-global-bg-box border border-global-content-highlight-2nd rounded-[10px] p-4 flex flex-col items-center gap-3",children:[u.jsxs("svg",{className:"animate-spin w-8 h-8 text-global-content-highlight-2nd",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{className:"text-global-blanc text-sm font-h3-font-family font-h3-font-weight",children:n("pricing.strategy.generating")})]})})]})]}),u.jsxs("section",{className:"flex items-start justify-center gap-6 pt-4 pb-0 px-0 self-stretch w-full border-t border-solid border-global-stroke-box relative flex-[0_0_auto]",role:"region","aria-label":"Calendar legends",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 relative flex-[0_0_auto]",children:[u.jsx("div",{className:"w-3 h-3 bg-calendrierbg-vert rounded border border-solid border-calendrierstroke-vert relative",role:"img","aria-label":"Slection prix indicator"}),u.jsx("span",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:n("pricing.legend.priceSelection")})]}),u.jsxs("div",{className:"inline-flex items-center gap-2 relative flex-[0_0_auto]",children:[u.jsx("div",{className:"w-3 h-3 bg-calendrierbg-orange rounded border border-solid border-calendrierstroke-orange relative",role:"img","aria-label":"Rserv indicator"}),u.jsx("span",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:n("pricing.legend.booked")})]}),u.jsxs("div",{className:"inline-flex items-center gap-2 relative flex-[0_0_auto]",children:[u.jsx("div",{className:"w-3 h-3 bg-calendrierbg-bleu rounded border border-solid border-calendrierstroke-bleu relative",role:"img","aria-label":"Slection rsa indicator"}),u.jsx("span",{className:"relative w-fit mt-[-1.00px] font-p1-font-family font-p1-font-weight text-global-inactive text-p1-font-size leading-p1-line-height",children:n("pricing.legend.bookingSelection")})]})]})]}),u.jsxs("div",{id:"edit-panel",className:"flex flex-col gap-1 items-start justify-start self-stretch shrink-0 relative w-full md:w-[394px]",children:[u.jsx(yA,{token:t,date:_e,propertyId:sr,currentPrice:xr,userProfile:e}),u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start shrink-0 w-full relative",children:[u.jsx("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative",children:n("pricing.strategy.title")}),u.jsx("div",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative self-stretch",children:n("pricing.strategy.description")}),O&&u.jsxs("div",{className:"w-full bg-global-bg-small-box border border-global-content-highlight-2nd rounded-[10px] p-4 flex items-center gap-3 animate-pulse",children:[u.jsx("div",{className:"relative w-5 h-5 shrink-0",children:u.jsxs("svg",{className:"animate-spin w-5 h-5 text-global-content-highlight-2nd",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[u.jsx("span",{className:"text-global-blanc text-sm font-h3-font-family font-h3-font-weight",children:n("pricing.strategy.generating")}),u.jsx("span",{className:"text-global-inactive text-xs font-p1-font-family",children:n("pricing.strategy.generatingDescription")})]})]}),ke&&!O&&u.jsxs("div",{className:"w-full bg-green-900/20 border border-green-500/50 rounded-[10px] p-3 flex items-start gap-2",children:[u.jsx("svg",{className:"w-5 h-5 text-green-400 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-green-300 text-sm font-p1-font-family",children:ke})]}),ie&&!O&&u.jsxs("div",{className:"w-full bg-red-900/20 border border-red-500/50 rounded-[10px] p-3 flex items-start gap-2",children:[u.jsx("svg",{className:"w-5 h-5 text-red-400 shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{className:"text-red-300 text-sm font-p1-font-family",children:ie})]}),u.jsxs("div",{className:`bg-global-stroke-highlight-2nd rounded-[10px] border border-solid border-global-content-highlight-2nd pt-2 pr-3 pb-2 pl-3 flex flex-row gap-3 items-center justify-center self-stretch shrink-0 h-[46px] relative transition-opacity ${O?"opacity-50 cursor-not-allowed":T?"opacity-100 cursor-pointer hover:opacity-90":"opacity-70 cursor-pointer hover:opacity-90"}`,onClick:O?void 0:()=>Tt(!T),children:[u.jsx("div",{className:"relative w-5 h-5 shrink-0",children:T?u.jsx("div",{className:"w-5 h-5 bg-global-content-highlight-2nd rounded flex items-center justify-center",children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:u.jsx("path",{d:"M10 3L4.5 8.5L2 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):u.jsx("div",{className:"w-5 h-5 border border-global-content-highlight-2nd rounded bg-transparent"})}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative",children:n("pricing.strategy.automate")})]}),u.jsxs("div",{className:"flex flex-row gap-3 items-start justify-start self-stretch shrink-0 relative",children:[u.jsx(_A,{state:"principal",text:n("pricing.strategy.addBooking"),onClick:O?void 0:()=>{ae("booking"),he(""),Pe("Direct"),Ce(""),ft(!0)},className:O?"opacity-50 cursor-not-allowed":W==="booking"?"opacity-100":"opacity-70",disabled:O}),u.jsxs("button",{onClick:O?void 0:()=>{ae("price"),he(""),Pe("Direct"),Ce(""),ft(!0)},disabled:O,className:`inline-flex items-center justify-center gap-2 px-3 py-2 relative flex-1 rounded-[10px] border border-solid border-global-stroke-highlight-2nd transition-opacity ${O?"opacity-50 cursor-not-allowed bg-transparent text-global-inactive":W==="price"?"bg-global-stroke-highlight-2nd text-global-blanc cursor-pointer hover:opacity-90":"bg-transparent text-global-inactive cursor-pointer hover:opacity-90"}`,children:[u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:"w-5 h-5",children:[u.jsx("path",{d:"M10 2L2 7L10 12L18 7L10 2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M2 13L10 18L18 13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M2 10L10 15L18 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),u.jsx("span",{className:"relative w-fit font-h3-font-family font-h3-font-weight text-h3-font-size leading-h3-line-height",children:n("pricing.strategy.setPrice")})]})]}),u.jsx("div",{className:"border-t border-solid border-global-stroke-box pt-4 flex flex-row gap-6 items-start justify-center self-stretch shrink-0 relative",children:fe?u.jsx("div",{className:"self-stretch w-full",children:W==="booking"?Lr():Br()}):u.jsx("div",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative self-stretch",children:n("pricing.selectPeriod")})})]}),u.jsx(vA,{token:t,propertyId:sr})]})]})]}),u.jsx(n_,{isOpen:Te.isOpen,onClose:()=>ze({isOpen:!1,message:"",title:n("pricing.modal.information")}),title:Te.title,message:Te.message,buttonText:n("pricing.modal.ok")})]})}function SA({token:t,pmsType:e,onClose:n}){const[r,i]=A.useState(!0),[s,a]=A.useState(!1),[o,l]=A.useState(null),[c,f]=A.useState([]),[d,h]=A.useState([]),[p,m]=A.useState({isOpen:!1,message:"",title:"Information"});A.useEffect(()=>{(async()=>{i(!0),l(null);try{const[b,_]=await Promise.all([f3(t),ea(t)]);f(b||[]),h(_||[])}catch(b){l(b.message)}finally{i(!1)}})()},[t]);const g=A.useMemo(()=>{if(r)return null;const v=new Set(d.map(S=>S.pmsId).filter(Boolean)),b=[],_=[];for(const S of c)v.has(S.pmsId)?_.push(S):b.push(S);return{newProperties:b,syncedProperties:_}},[r,c,d]),x=async()=>{if(!g||g.newProperties.length===0||!e){l("Aucune nouvelle proprit  importer ou type de PMS manquant.");return}a(!0),l(null);try{const v=await h3(g.newProperties,e,t);let b=v.message||"Importation russie !";(v.reservationsImported>0||v.reservationsUpdated>0)&&(b+=`

${v.reservationsImported} nouvelle(s) rservation(s) importe(s).`,v.reservationsUpdated>0&&(b+=`
${v.reservationsUpdated} rservation(s) mise(s)  jour.`)),m({isOpen:!0,message:b,title:"Succs"}),setTimeout(()=>{n(!0)},2e3)}catch(v){const b=v.message||"";if(b.includes("LIMIT_EXCEEDED"))if(window.showLimitExceededModal)try{const _=JSON.parse(b.split("LIMIT_EXCEEDED")[1]||"{}");window.showLimitExceededModal({currentCount:_.currentCount||10,maxAllowed:_.maxAllowed||10})}catch{window.showLimitExceededModal({currentCount:10,maxAllowed:10})}else l("Vous avez atteint la limite de 10 proprits pendant votre essai gratuit. Veuillez terminer votre essai pour continuer.");else l(b||"Une erreur est survenue lors de l'import des proprits.")}finally{a(!1)}},y=()=>r?u.jsxs("div",{className:"flex flex-col items-center justify-center h-48",children:[u.jsx("div",{className:"loader"}),u.jsx("p",{className:"text-text-muted mt-4",children:"Analyse de votre connexion PMS..."})]}):o?u.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-md",children:o}):g?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-text-primary",children:["Nouvelles proprits trouves (",g.newProperties.length,")"]}),g.newProperties.length>0?u.jsx("ul",{className:"list-disc list-inside text-sm text-text-secondary max-h-32 overflow-y-auto bg-bg-muted p-2 rounded-md mt-1",children:g.newProperties.map(v=>u.jsxs("li",{children:[v.name," (ID: ",v.pmsId,")"]},v.pmsId))}):u.jsx("p",{className:"text-sm text-text-muted mt-1",children:"Aucune nouvelle proprit  importer."})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-text-primary",children:["Proprits dj synchronises (",g.syncedProperties.length,")"]}),u.jsx("p",{className:"text-sm text-text-muted mt-1",children:g.syncedProperties.length>0?"Ces proprits sont dj lies  votre compte Priceye.":"Aucune proprit n'est encore lie."})]})]}):null;return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:[u.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-xl w-full max-w-lg p-6 max-h-[90vh] flex flex-col",children:[u.jsx("h3",{className:"text-xl font-bold mb-6 text-text-primary shrink-0",children:"Synchroniser les Proprits"}),u.jsx(bo,{className:"flex-1 min-h-0",children:y()}),u.jsxs("div",{className:"flex justify-end gap-4 pt-6 mt-6 border-t border-border-primary shrink-0",children:[u.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 font-semibold text-text-secondary bg-bg-muted rounded-md hover:bg-border-primary",children:"Fermer"}),u.jsx("button",{type:"button",onClick:x,disabled:r||s||!g||g.newProperties.length===0,className:"px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",children:s?"Importation en cours...":`Importer ${(g==null?void 0:g.newProperties.length)||0} nouvelle(s) proprit(s)`})]})]}),u.jsx(n_,{isOpen:p.isOpen,onClose:()=>m({isOpen:!1,message:"",title:"Information"}),title:p.title,message:p.message,buttonText:"OK"})]})}const Ox={smoobu:{name:"Smoobu",type:"apikey",fields:[{name:"token",label:"Cl API Smoobu (Token)",type:"password"}]},beds24:{name:"Beds24",type:"apikey",fields:[{name:"apiKey",label:"Cl API (apiKey)",type:"password"},{name:"propKey",label:"Cl Proprit (propKey)",type:"password"}]},cloudbeds:{name:"Cloudbeds",type:"oauth",fields:[]}};function kA({token:t,currentIntegration:e,onConnectionUpdate:n}){const[r,i]=A.useState("smoobu"),[s,a]=A.useState({}),[o,l]=A.useState(!1),[c,f]=A.useState(!1),[d,h]=A.useState({type:"",text:""}),[p,m]=A.useState({type:"",text:""}),[g,x]=A.useState({isOpen:!1,message:"",onConfirm:null});A.useEffect(()=>{e&&(i(e.type),a(e.credentials||{}))},[e]);const y=(T,C)=>{a(F=>({...F,[T]:C})),h({type:"",text:""}),m({type:"",text:""})},v=T=>{i(T.target.value),a({}),h({type:"",text:""}),m({type:"",text:""})},b=async()=>{l(!0),h({type:"loading",text:"Test en cours..."}),m({type:"",text:""});try{const T=await c3(r,s,t);h({type:"success",text:T.message||"Connexion russie "})}catch(T){h({type:"error",text:`chec du test: ${T.message}`})}finally{l(!1)}},_=async T=>{T.preventDefault(),l(!0),m({type:"loading",text:"Sauvegarde en cours..."}),h({type:"",text:""});try{const C=await u3(r,s,t);m({type:"success",text:C.message}),n()}catch(C){m({type:"error",text:`chec de la connexion: ${C.message}`})}finally{l(!1)}},S=async()=>{x({isOpen:!0,message:`tes-vous sr de vouloir dconnecter ${e.type} ?`,onConfirm:async()=>{l(!0),m({type:"loading",text:"Dconnexion..."});try{await d3(e.type,t),m({type:"success",text:"Dconnexion russie."}),a({}),n()}catch(T){m({type:"error",text:`chec: ${T.message}`})}finally{l(!1)}}})},O=()=>{var T;return e?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"text-sm text-green-400",children:["Statut :  Connect  ",u.jsx("span",{className:"font-bold",children:((T=Ox[e.type])==null?void 0:T.name)||e.type})]}),u.jsx("button",{type:"button",onClick:()=>f(!0),disabled:o,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-500",children:"Synchroniser les proprits"}),u.jsx("button",{type:"button",onClick:S,disabled:o,className:"w-full text-sm text-red-400 hover:text-red-300 disabled:text-gray-500",children:"Se dconnecter"})]}):u.jsx("p",{className:"text-sm text-text-muted",children:"Statut :  Non connect"})},k=()=>{const T=Ox[r];return u.jsxs("form",{onSubmit:_,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pms-select",className:"block text-sm font-medium text-text-secondary",children:"Choisir un PMS"}),u.jsxs("select",{id:"pms-select",value:r,onChange:v,className:"w-full form-input mt-1",children:[u.jsx("option",{value:"smoobu",children:"Smoobu"}),u.jsx("option",{value:"beds24",children:"Beds24"}),u.jsx("option",{value:"cloudbeds",children:"Cloudbeds"})]})]}),T.type==="apikey"&&T.fields.map(C=>u.jsxs("div",{children:[u.jsx("label",{htmlFor:C.name,className:"block text-sm font-medium text-text-secondary",children:C.label}),u.jsx("input",{type:C.type||"text",id:C.name,value:s[C.name]||"",onChange:F=>y(C.name,F.target.value),className:"w-full form-input mt-1",required:!0})]},C.name)),T.type==="oauth"&&u.jsxs("button",{type:"button",className:"w-full px-4 py-2 font-semibold text-white bg-gray-600 rounded-md hover:bg-gray-700",onClick:()=>m({type:"error",text:"OAuth n'est pas encore implment."}),children:["Se connecter avec ",T.name]}),T.type==="apikey"&&u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{type:"button",onClick:b,disabled:o,className:"flex-1 px-4 py-2 font-semibold text-text-primary bg-bg-muted rounded-md hover:bg-border-primary disabled:opacity-50",children:o&&d.text?"...":"Tester"}),u.jsx("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 font-semibold text-white bg-green-600 rounded-md hover:bg-green-700 disabled:bg-gray-500",children:o&&p.text?"...":"Connecter"})]}),d.text&&u.jsx("p",{className:`text-sm ${d.type==="error"?"text-red-400":"text-green-400"}`,children:d.text}),p.text&&u.jsx("p",{className:`text-sm ${p.type==="error"?"text-red-400":"text-green-400"}`,children:p.text})]})};return u.jsxs(u.Fragment,{children:[u.jsxs("fieldset",{className:"border border-border-secondary p-4 rounded-md",children:[u.jsx("legend",{className:"text-lg font-semibold px-2 text-text-primary",children:"Intgration PMS"}),u.jsx("div",{className:"mt-2",children:e?O():k()})]}),c&&u.jsx(SA,{token:t,pmsType:e==null?void 0:e.type,onClose:T=>{f(!1),T&&n()}}),u.jsx(uo,{isOpen:g.isOpen,onClose:()=>x({isOpen:!1,message:"",onConfirm:null}),onConfirm:g.onConfirm||(()=>{}),title:"Confirmation",message:g.message,confirmText:"Confirmer",cancelText:"Annuler"})]})}function EA({token:t,userProfile:e,onProfileUpdate:n}){const{t:r}=un(),[i,s]=A.useState(!1),[a,o]=A.useState(""),[l,c]=A.useState(""),[f,d]=A.useState(!1),[h,p]=A.useState(null),[m,g]=A.useState(!1),x=async()=>{s(!0),o(""),c("");try{const{url:C}=await U3(t);window.location.href=C}catch(C){console.error("Erreur lors de la cration de la session Checkout:",C),o(C.message||"Une erreur est survenue lors de la cration de la session de paiement."),s(!1)}},y=async()=>{s(!0),o(""),c("");try{const C=await z3(t);c("Essai termin et facturation effectue avec succs !"),g(!1),n&&await n()}catch(C){console.error("Erreur lors de la fin de l'essai:",C),o(C.message||"Une erreur est survenue lors de la fin de l'essai.")}finally{s(!1)}},v=async()=>{s(!0),o("");try{const{url:C}=await Z2(t);window.location.href=C}catch(C){console.error("Erreur lors de la cration de la session Portal:",C),o(C.message||"Une erreur est survenue lors de l'ouverture du portail de gestion."),s(!1)}};A.useEffect(()=>{const C=F=>{try{p(F),d(!0)}catch(j){console.error("Erreur lors de l'affichage de la modale de limite:",j)}};return typeof window<"u"&&(window.showLimitExceededModal=C),()=>{if(typeof window<"u"&&window.showLimitExceededModal===C)try{delete window.showLimitExceededModal}catch{}}},[]);const b=(e==null?void 0:e.subscriptionStatus)||"none",_=b==="active"||b==="trialing",S=b==="trialing",O=!!(e!=null&&e.stripeCustomerId),T=(()=>{if(!S||!(e!=null&&e.subscriptionCreatedAt))return null;const C=new Date(e.subscriptionCreatedAt),j=Math.floor((new Date-C)/(1e3*60*60*24));return Math.max(0,30-j)})();return u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-4",children:[u.jsx("h2",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative border-b border-global-stroke-box pb-2 mb-4",children:r("billing.title")||"Gestion de l'abonnement"}),a&&u.jsx("div",{className:"bg-red-900/50 text-red-300 p-3 rounded-[10px] text-sm",children:a}),l&&u.jsx("div",{className:"bg-green-900/50 text-green-300 p-3 rounded-[10px] text-sm",children:l}),u.jsxs("div",{className:"space-y-4",children:[!_&&u.jsxs("div",{className:"bg-global-bg-small-box border border-global-stroke-box p-4 rounded-[10px]",children:[u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:r("billing.noSubscription")||"Vous n'avez pas encore d'abonnement actif."}),u.jsx("button",{onClick:x,disabled:i,className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:i?"Chargement...":r("billing.activateSubscription")||"Activer l'abonnement"})]}),S&&u.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 p-4 rounded-[10px]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-global-blanc font-semibold",children:r("billing.trialActive")||"Essai gratuit actif"}),T!==null&&u.jsxs("span",{className:"text-blue-400 text-sm font-medium",children:[T," ",T===1?"jour restant":"jours restants"]})]}),u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:r("billing.trialDescription")||"Vous bnficiez d'un essai gratuit de 30 jours. Vous pouvez ajouter jusqu' 10 proprits pendant cette priode."}),u.jsx("button",{onClick:()=>g(!0),disabled:i,className:"px-4 py-2 text-sm font-semibold text-white rounded-[10px] bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r("billing.endTrialNow")||"Terminer l'essai et payer maintenant"})]}),b==="active"&&u.jsxs("div",{className:"bg-green-900/20 border border-green-700/50 p-4 rounded-[10px]",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-global-blanc font-semibold",children:r("billing.subscriptionActive")||"Abonnement actif"}),u.jsx("span",{className:"text-green-400 text-sm font-medium",children:" Actif"})]}),u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:r("billing.subscriptionDescription")||"Votre abonnement est actif. Vous pouvez grer votre abonnement, tlcharger vos factures et mettre  jour votre carte bancaire."}),O&&u.jsx("button",{onClick:v,disabled:i,className:"px-4 py-2 text-sm font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:i?"Chargement...":r("billing.manageSubscription")||"Grer mon abonnement"})]}),(b==="past_due"||b==="unpaid")&&u.jsxs("div",{className:"bg-red-900/50 border border-red-700 p-4 rounded-[10px]",children:[u.jsx("h3",{className:"text-red-400 font-semibold mb-2",children:r("billing.paymentFailed")||"chec de paiement"}),u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:r("billing.paymentFailedDescription")||"Votre dernier paiement a chou. Veuillez mettre  jour votre mthode de paiement pour continuer  utiliser Priceye."}),O&&u.jsx("button",{onClick:v,disabled:i,className:"px-4 py-2 text-sm font-semibold text-white rounded-[10px] bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Chargement...":r("billing.updatePaymentMethod")||"Mettre  jour la mthode de paiement"})]}),b==="canceled"&&u.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 p-4 rounded-[10px]",children:[u.jsx("h3",{className:"text-global-inactive font-semibold mb-2",children:r("billing.subscriptionCanceled")||"Abonnement annul"}),u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:r("billing.subscriptionCanceledDescription")||"Votre abonnement a t annul. Ractivez votre abonnement pour continuer  utiliser Priceye."}),u.jsx("button",{onClick:x,disabled:i,className:"px-4 py-2 text-sm font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:i?"Chargement...":r("billing.reactivateSubscription")||"Ractiver l'abonnement"})]})]}),u.jsx(uo,{isOpen:f,onClose:()=>d(!1),onConfirm:()=>{d(!1),g(!0)},title:r("billing.limitExceeded")||"Limite de proprits dpasse",message:h?`${r("billing.limitExceededMessage")||"Vous avez atteint la limite de 10 proprits pendant votre essai gratuit."} ${r("billing.limitExceededAction")||"Pour continuer, vous devez terminer votre essai et activer la facturation maintenant."}`:"",confirmText:r("billing.endTrialAndPay")||"Terminer l'essai et payer",cancelText:r("common.cancel")||"Annuler"}),u.jsx(uo,{isOpen:m,onClose:()=>g(!1),onConfirm:y,title:r("billing.endTrialConfirm")||"Terminer l'essai gratuit",message:r("billing.endTrialConfirmMessage")||"tes-vous sr de vouloir terminer votre essai gratuit maintenant ? Vous serez factur immdiatement pour le mois en cours.",confirmText:r("billing.confirmEndTrial")||"Oui, terminer l'essai",cancelText:r("common.cancel")||"Annuler"})]})}function TA({token:t,userProfile:e,onThemeChange:n,onLogout:r}){var _n,Ut;const{t:i,language:s}=un(),[a,o]=A.useState({name:"",email:"",currency:"EUR",language:s||"fr",timezone:"Europe/Paris",theme:"auto",notificationPreferences:{notifyOnBooking:!0,notifyOnApiError:!0},reportFrequency:"hebdomadaire",role:"member"}),[l,c]=A.useState(null),[f,d]=A.useState(!0),[h,p]=A.useState([]),[m,g]=A.useState(""),[x,y]=A.useState("member"),[v,b]=A.useState(""),[_,S]=A.useState(""),[O,k]=A.useState(""),[T,C]=A.useState(""),[F,j]=A.useState(""),[U,Z]=A.useState(!0),[Ee,le]=A.useState(!1),[ke,we]=A.useState(""),[ie,te]=A.useState(""),[fe,ee]=A.useState(""),[D,B]=A.useState(""),[L,M]=A.useState(""),[W,ae]=A.useState({}),[xe,he]=A.useState({isOpen:!1,message:"",onConfirm:null});let ce=null;try{if(t){const _e=I0(t);ce=_e==null?void 0:_e.user_id}}catch(_e){console.error("Erreur de dcodage du token:",_e),we(i("settings.sessionError"))}const Pe=A.useCallback(async()=>{try{const _e=await N0(t);o({..._e,language:_e.language||s||"fr",notificationPreferences:_e.notificationPreferences||{notifyOnBooking:!0,notifyOnApiError:!0},reportFrequency:_e.reportFrequency||"hebdomadaire",theme:_e.theme||"auto",role:_e.role||"member"})}catch(_e){console.error("Erreur lors du rafrachissement du profil:",_e)}},[t,s]),Re=A.useCallback(async()=>{if(!ce){Z(!1);return}try{Z(!0),d(!0),we(""),B(""),e&&o({...e,language:e.language||s||"fr",notificationPreferences:e.notificationPreferences||{notifyOnBooking:!0,notifyOnApiError:!0},reportFrequency:e.reportFrequency||"hebdomadaire",theme:e.theme||"auto",role:e.role||"member"});try{const _e=await l3(t);c(_e)}catch(_e){console.error("Erreur de chargement de l'intgration:",_e),we(i("settings.errors.integrationLoadError"))}finally{d(!1)}if((e==null?void 0:e.role)==="admin"){const _e=await th(t);p(_e)}}catch(_e){we(i("settings.errors.loadError",{message:_e.message}))}finally{Z(!1)}},[t,ce,e]);A.useEffect(()=>{Re()},[Re]),A.useEffect(()=>{s&&o(_e=>_e.language!==s?{..._e,language:s}:_e)},[s]);const Ce=()=>{const _e={};return(!a.name||a.name.trim()==="")&&(_e.name=i("settings.validation.nameRequired")),a.currency||(_e.currency=i("settings.validation.currencyRequired")),a.timezone||(_e.timezone=i("settings.validation.timezoneRequired")),ae(_e),Object.keys(_e).length===0},Ne=_e=>{const{name:X,value:Te,type:ze,checked:nt}=_e.target;if(W[X]&&ae(et=>({...et,[X]:null})),X==="theme")n&&n(Te),o(et=>({...et,theme:Te}));else if(X.startsWith("notificationPreferences.")){const et=X.split(".")[1];o(Tt=>({...Tt,notificationPreferences:{...Tt.notificationPreferences,[et]:nt}}))}else o(et=>({...et,[X]:ze==="checkbox"?nt:Te}));if(X==="language"&&(localStorage.setItem("userLanguage",Te),typeof window<"u"))try{window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:Te}}))}catch(et){console.error("Erreur lors de l'envoi de l'vnement languageChanged:",et)}ee(""),te("")},ft=async _e=>{if(_e.preventDefault(),te(""),ee(""),!Ce()){te(i("settings.validation.formErrors"));return}le(!0);try{const X={name:a.name,currency:a.currency,language:a.language,timezone:a.timezone,theme:a.theme,notificationPreferences:a.notificationPreferences,reportFrequency:a.reportFrequency};await o3(X,t),ee(i("settings.messages.profileUpdated")),ae({})}catch(X){te(i("settings.errors.saveError",{message:X.message}))}finally{le(!1)}},Ze=async _e=>{if(_e.preventDefault(),C(""),j(""),_.length<6){C(i("settings.validation.passwordMinLength"));return}if(_!==O){C(i("settings.validation.passwordMismatch"));return}le(!0);try{await a3(v,_),j(i("settings.messages.passwordChanged")),b(""),S(""),k("")}catch(X){C(i("settings.errors.saveError",{message:X.message}))}finally{le(!1)}},ye=async _e=>{_e.preventDefault(),B(""),M("");try{await A3({email:m,role:x},t),M(i("settings.messages.inviteSent",{email:m})),g(""),Re()}catch(X){B(i("settings.errors.inviteError",{message:X.message}))}},Bt=async(_e,X)=>{B("");try{await I3(_e,X,t);const Te=await th(t);p(Te)}catch(Te){B(i("settings.errors.roleChangeError",{message:Te.message}))}},yt=async _e=>{he({isOpen:!0,message:i("settings.messages.removeMemberConfirm"),onConfirm:async()=>{B("");try{await D3(_e,t);const X=await th(t);p(X)}catch(X){B(i("settings.errors.removeError",{message:X.message}))}}})};return U&&!a.email?u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsx("p",{className:"text-center text-global-inactive",children:i("settings.loading")})})]}):!ce&&!U?u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsx("p",{className:"text-center text-red-400 p-8",children:i("settings.sessionError")})})]}):u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsxs("div",{className:"relative z-10 space-y-6 p-4 md:p-6 lg:p-8 max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-global-blanc text-left font-h1-font-family text-h1-font-size font-h1-font-weight relative",children:i("settings.title")}),ke&&u.jsx("p",{className:"bg-red-900/50 text-red-300 p-3 rounded-[10px] text-sm",children:ke}),fe&&u.jsx("p",{className:"bg-green-900/50 text-green-300 p-3 rounded-[10px] text-sm",children:fe}),ie&&u.jsx("p",{className:"bg-red-900/50 text-red-300 p-3 rounded-[10px] text-sm",children:ie}),u.jsx("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start relative",children:f?u.jsx("p",{className:"text-sm text-global-inactive",children:i("settings.integration.loading")}):u.jsx(kA,{token:t,currentIntegration:l,onConnectionUpdate:Re})}),u.jsx(EA,{token:t,userProfile:a,onProfileUpdate:Pe}),u.jsxs("form",{onSubmit:ft,className:"space-y-6 bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start relative",children:[u.jsx("h2",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative border-b border-global-stroke-box pb-2 mb-4 w-full",children:i("settings.myProfile")}),u.jsxs("fieldset",{className:"border border-global-stroke-box p-4 rounded-[10px] w-full",children:[u.jsx("legend",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight px-2",children:i("settings.personalInfo")}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.name")}),u.jsx("input",{type:"text",name:"name",id:"name",value:a.name,onChange:Ne,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd"}),W.name&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:W.name})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.email")}),u.jsx("input",{type:"email",name:"email",id:"email",value:a.email,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-inactive cursor-not-allowed",disabled:!0})]})]})]}),u.jsxs("fieldset",{className:"border border-global-stroke-box p-4 rounded-[10px] w-full",children:[u.jsx("legend",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight px-2",children:i("settings.regionalPreferences")}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"language",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.language")}),u.jsxs("select",{name:"language",id:"language",value:a.language,onChange:Ne,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"fr",children:i("settings.languages.fr")}),u.jsx("option",{value:"en",children:i("settings.languages.en")})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.currency")}),u.jsxs("select",{name:"currency",id:"currency",value:a.currency,onChange:Ne,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"",children:i("settings.selectCurrency")}),u.jsx("option",{value:"EUR",children:"EUR ()"}),u.jsx("option",{value:"USD",children:"USD ($)"}),u.jsx("option",{value:"GBP",children:"GBP ()"})]}),W.currency&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:W.currency})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"timezone",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.timezone")}),u.jsxs("select",{name:"timezone",id:"timezone",value:a.timezone,onChange:Ne,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"",children:i("settings.selectTimezone")}),u.jsxs("optgroup",{label:"Europe",children:[u.jsx("option",{value:"Europe/Paris",children:"Europe/Paris (UTC+1/+2)"}),u.jsx("option",{value:"Europe/London",children:"Europe/London (UTC+0/+1)"}),u.jsx("option",{value:"Europe/Berlin",children:"Europe/Berlin (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Madrid",children:"Europe/Madrid (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Rome",children:"Europe/Rome (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Amsterdam",children:"Europe/Amsterdam (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Brussels",children:"Europe/Brussels (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Zurich",children:"Europe/Zurich (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Vienna",children:"Europe/Vienna (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Prague",children:"Europe/Prague (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Warsaw",children:"Europe/Warsaw (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Stockholm",children:"Europe/Stockholm (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Oslo",children:"Europe/Oslo (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Copenhagen",children:"Europe/Copenhagen (UTC+1/+2)"}),u.jsx("option",{value:"Europe/Helsinki",children:"Europe/Helsinki (UTC+2/+3)"}),u.jsx("option",{value:"Europe/Athens",children:"Europe/Athens (UTC+2/+3)"}),u.jsx("option",{value:"Europe/Lisbon",children:"Europe/Lisbon (UTC+0/+1)"}),u.jsx("option",{value:"Europe/Dublin",children:"Europe/Dublin (UTC+0/+1)"}),u.jsx("option",{value:"Europe/Moscow",children:"Europe/Moscow (UTC+3)"})]}),u.jsxs("optgroup",{label:"Amrique du Nord",children:[u.jsx("option",{value:"America/New_York",children:"America/New_York (UTC-5/-4)"}),u.jsx("option",{value:"America/Chicago",children:"America/Chicago (UTC-6/-5)"}),u.jsx("option",{value:"America/Denver",children:"America/Denver (UTC-7/-6)"}),u.jsx("option",{value:"America/Los_Angeles",children:"America/Los_Angeles (UTC-8/-7)"}),u.jsx("option",{value:"America/Toronto",children:"America/Toronto (UTC-5/-4)"}),u.jsx("option",{value:"America/Vancouver",children:"America/Vancouver (UTC-8/-7)"}),u.jsx("option",{value:"America/Mexico_City",children:"America/Mexico_City (UTC-6/-5)"}),u.jsx("option",{value:"America/Montreal",children:"America/Montreal (UTC-5/-4)"})]}),u.jsxs("optgroup",{label:"Amrique du Sud",children:[u.jsx("option",{value:"America/Sao_Paulo",children:"America/Sao_Paulo (UTC-3)"}),u.jsx("option",{value:"America/Buenos_Aires",children:"America/Buenos_Aires (UTC-3)"}),u.jsx("option",{value:"America/Lima",children:"America/Lima (UTC-5)"}),u.jsx("option",{value:"America/Santiago",children:"America/Santiago (UTC-3/-4)"})]}),u.jsxs("optgroup",{label:"Asie",children:[u.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (UTC+9)"}),u.jsx("option",{value:"Asia/Shanghai",children:"Asia/Shanghai (UTC+8)"}),u.jsx("option",{value:"Asia/Hong_Kong",children:"Asia/Hong_Kong (UTC+8)"}),u.jsx("option",{value:"Asia/Singapore",children:"Asia/Singapore (UTC+8)"}),u.jsx("option",{value:"Asia/Seoul",children:"Asia/Seoul (UTC+9)"}),u.jsx("option",{value:"Asia/Dubai",children:"Asia/Dubai (UTC+4)"}),u.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (UTC+5:30)"}),u.jsx("option",{value:"Asia/Bangkok",children:"Asia/Bangkok (UTC+7)"})]}),u.jsxs("optgroup",{label:"Ocanie",children:[u.jsx("option",{value:"Australia/Sydney",children:"Australia/Sydney (UTC+10/+11)"}),u.jsx("option",{value:"Australia/Melbourne",children:"Australia/Melbourne (UTC+10/+11)"}),u.jsx("option",{value:"Australia/Brisbane",children:"Australia/Brisbane (UTC+10)"}),u.jsx("option",{value:"Pacific/Auckland",children:"Pacific/Auckland (UTC+12/+13)"})]}),u.jsxs("optgroup",{label:"Afrique",children:[u.jsx("option",{value:"Africa/Cairo",children:"Africa/Cairo (UTC+2)"}),u.jsx("option",{value:"Africa/Johannesburg",children:"Africa/Johannesburg (UTC+2)"}),u.jsx("option",{value:"Africa/Casablanca",children:"Africa/Casablanca (UTC+0/+1)"})]})]}),u.jsx("p",{className:"text-xs text-global-inactive mt-1",children:i("settings.timezoneNote")}),W.timezone&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:W.timezone})]}),u.jsxs("div",{className:"md:col-span-3",children:[u.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.appearance")}),u.jsxs("select",{name:"theme",id:"theme",value:a.theme||"auto",onChange:Ne,className:"w-full md:w-1/3 bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"auto",children:i("settings.auto")}),u.jsx("option",{value:"light",children:i("settings.light")}),u.jsx("option",{value:"dark",children:i("settings.dark")})]})]})]})]}),u.jsxs("fieldset",{className:"border border-global-stroke-box p-4 rounded-[10px] w-full",children:[u.jsx("legend",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight px-2",children:i("settings.notifications")}),u.jsxs("div",{className:"space-y-2 mt-2",children:[u.jsxs("label",{className:"flex items-center gap-2 text-sm text-global-inactive",children:[u.jsx("input",{type:"checkbox",name:"notificationPreferences.notifyOnBooking",checked:((_n=a.notificationPreferences)==null?void 0:_n.notifyOnBooking)??!0,onChange:Ne,className:"w-4 h-4 rounded border-global-stroke-box bg-global-bg-small-box text-global-content-highlight-2nd focus:ring-global-content-highlight-2nd"}),i("settings.notifyOnBooking")]}),u.jsxs("label",{className:"flex items-center gap-2 text-sm text-global-inactive",children:[u.jsx("input",{type:"checkbox",name:"notificationPreferences.notifyOnApiError",checked:((Ut=a.notificationPreferences)==null?void 0:Ut.notifyOnApiError)??!0,onChange:Ne,className:"w-4 h-4 rounded border-global-stroke-box bg-global-bg-small-box text-global-content-highlight-2nd focus:ring-global-content-highlight-2nd"}),i("settings.notifyOnApiError")]})]})]}),u.jsxs("fieldset",{className:"border border-global-stroke-box p-4 rounded-[10px] w-full",children:[u.jsx("legend",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight px-2",children:i("settings.automaticReports")}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"reportFrequency",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.reportFrequency")}),u.jsxs("select",{name:"reportFrequency",id:"reportFrequency",value:a.reportFrequency,onChange:Ne,className:"w-full md:w-1/2 bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"jamais",children:i("settings.never")}),u.jsx("option",{value:"quotidien",children:i("settings.daily")}),u.jsx("option",{value:"hebdomadaire",children:i("settings.weekly")}),u.jsx("option",{value:"mensuel",children:i("settings.monthly")})]})]})]}),u.jsx("div",{className:"flex justify-end pt-4 w-full",children:u.jsx("button",{type:"submit",disabled:Ee,className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:i(Ee?"common.saving":"settings.saveProfile")})})]}),u.jsxs("form",{onSubmit:Ze,className:"space-y-6 bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start relative",children:[u.jsx("h2",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative border-b border-global-stroke-box pb-2 mb-4 w-full",children:i("settings.security")}),u.jsxs("fieldset",{className:"border border-global-stroke-box p-4 rounded-[10px] w-full",children:[u.jsx("legend",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight px-2",children:i("settings.changePassword")}),T&&u.jsx("p",{className:"text-sm text-red-400 bg-red-900/50 p-3 rounded-[10px]",children:T}),F&&u.jsx("p",{className:"text-sm text-green-400 bg-green-900/50 p-3 rounded-[10px]",children:F}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"oldPassword",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.oldPassword")}),u.jsx("input",{type:"password",name:"oldPassword",id:"oldPassword",value:v,onChange:_e=>b(_e.target.value),required:!0,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.newPassword")}),u.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:_,onChange:_e=>S(_e.target.value),required:!0,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.confirmPassword")}),u.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:O,onChange:_e=>k(_e.target.value),required:!0,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd"})]})]})]}),u.jsx("div",{className:"flex justify-end pt-4 w-full",children:u.jsx("button",{type:"submit",disabled:Ee,className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:i(Ee?"common.saving":"settings.changePasswordButton")})})]}),a.role==="admin"&&u.jsxs("div",{className:"space-y-6 bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start relative",children:[u.jsx("h2",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative border-b border-global-stroke-box pb-2 mb-4 w-full",children:i("settings.teamManagement")}),D&&u.jsx("p",{className:"bg-red-900/50 text-red-300 p-3 rounded-[10px] text-sm w-full",children:D}),L&&u.jsx("p",{className:"bg-green-900/50 text-green-300 p-3 rounded-[10px] text-sm w-full",children:L}),u.jsxs("form",{onSubmit:ye,className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end w-full",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"inviteEmail",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.newMemberEmail")}),u.jsx("input",{type:"email",id:"inviteEmail",value:m,onChange:_e=>g(_e.target.value),required:!0,className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",placeholder:"membre@example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"inviteRole",className:"block text-sm font-medium text-global-inactive mb-1",children:i("settings.role")}),u.jsxs("select",{id:"inviteRole",value:x,onChange:_e=>y(_e.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"member",children:i("settings.member")}),u.jsx("option",{value:"manager",children:i("settings.manager")})]})]}),u.jsx("button",{type:"submit",className:"px-4 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90 transition-opacity h-10",children:i("settings.invite")})]}),u.jsxs("div",{className:"mt-6 w-full",children:[u.jsx("h3",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight mb-2",children:i("settings.currentMembers")}),U?u.jsx("p",{className:"text-global-inactive",children:i("common.loading")}):h.length>0?u.jsx("ul",{className:"space-y-2",children:h.map(_e=>u.jsxs("li",{className:"bg-global-bg-small-box border border-global-stroke-box p-3 rounded-[10px] flex flex-wrap justify-between items-center gap-2",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-global-blanc",children:_e.name}),u.jsxs("span",{className:"text-sm text-global-inactive ml-2",children:["(",_e.email,")"]})]}),u.jsx("div",{className:"flex items-center gap-2",children:_e.id===ce?u.jsxs("span",{className:"text-sm font-semibold px-2 py-1 bg-global-bg-box rounded-[10px] text-global-blanc border border-global-stroke-box",children:[i("settings.you")," (",_e.role,")"]}):u.jsxs(u.Fragment,{children:[u.jsxs("select",{value:_e.role,onChange:X=>Bt(_e.id,X.target.value),className:"bg-global-bg-box border border-global-stroke-box p-1 rounded-[10px] text-xs text-global-blanc",children:[u.jsx("option",{value:"member",children:i("settings.member")}),u.jsx("option",{value:"manager",children:i("settings.manager")}),u.jsx("option",{value:"admin",children:"Admin"})]}),u.jsx("button",{onClick:()=>yt(_e.id),className:"text-xs px-2 py-1 bg-red-800 hover:bg-red-700 rounded-[10px] text-white transition-colors",children:i("settings.remove")})]})})]},_e.id))}):u.jsx("p",{className:"text-global-inactive text-sm",children:i("settings.onlyMember")})]})]}),u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-3 items-start justify-start relative",children:[u.jsx("h2",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative border-b border-global-stroke-box pb-2 mb-4 w-full",children:i("settings.logout")}),u.jsx("p",{className:"text-global-inactive text-sm mb-4",children:i("settings.logoutDescription")}),u.jsx("div",{className:"flex justify-end pt-4 w-full",children:u.jsx("button",{type:"button",onClick:r,className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-red-600 hover:bg-red-700 transition-colors",children:i("settings.disconnect")})})]}),u.jsx(uo,{isOpen:xe.isOpen,onClose:()=>he({isOpen:!1,message:"",onConfirm:null}),onConfirm:xe.onConfirm||(()=>{}),title:i("common.confirm"),message:xe.message,confirmText:i("common.confirm"),cancelText:i("common.cancel")})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var xf={};xf.version="0.18.5";var r_=1252,CA=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],i_=function(t){CA.indexOf(t)!=-1&&(r_=t)};function NA(){i_(1252)}var Vl=function(t){i_(t)};function AA(){Vl(1200),NA()}var Hc=function(e){return String.fromCharCode(e)},jx=function(e){return String.fromCharCode(e)},vf,Ki="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $l(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)n=t.charCodeAt(c++),s=n>>2,r=t.charCodeAt(c++),a=(n&3)<<4|r>>4,i=t.charCodeAt(c++),o=(r&15)<<2|i>>6,l=i&63,isNaN(r)?o=l=64:isNaN(i)&&(l=64),e+=Ki.charAt(s)+Ki.charAt(a)+Ki.charAt(o)+Ki.charAt(l);return e}function Ci(t){var e="",n=0,r=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=Ki.indexOf(t.charAt(c++)),a=Ki.indexOf(t.charAt(c++)),n=s<<2|a>>4,e+=String.fromCharCode(n),o=Ki.indexOf(t.charAt(c++)),r=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(r)),l=Ki.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var tt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ri=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function ta(t){return tt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Fx(t){return tt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Er=function(e){return tt?Ri(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function ad(t){if(typeof ArrayBuffer>"u")return Er(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function mc(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function IA(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var rn=tt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ri(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function DA(t){for(var e=[],n=0,r=t.length+250,i=ta(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|o>>6&15|(a&3)<<4,i[n++]=128|o&63}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|a&63;n>r&&(e.push(i.slice(0,n)),n=0,i=ta(65535),r=65530)}return e.push(i.slice(0,n)),rn(e)}var hl=/\u0000/g,Vc=/[\u0001-\u0006]/g;function Xa(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Tr(t,e){var n=""+t;return n.length>=e?n:At("0",e-n.length)+n}function sg(t,e){var n=""+t;return n.length>=e?n:At(" ",e-n.length)+n}function yf(t,e){var n=""+t;return n.length>=e?n:n+At(" ",e-n.length)}function RA(t,e){var n=""+Math.round(t);return n.length>=e?n:At("0",e-n.length)+n}function PA(t,e){var n=""+t;return n.length>=e?n:At("0",e-n.length)+n}var Lx=Math.pow(2,32);function ya(t,e){if(t>Lx||t<-Lx)return RA(t,e);var n=Math.round(t);return PA(n,e)}function bf(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Bx=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],nh=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function MA(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Dt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Ux={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},OA={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function _f(t,e,n){for(var r=t<0?-1:1,i=t*r,s=0,a=1,o=0,l=1,c=0,f=0,d=Math.floor(i);c<e&&(d=Math.floor(i),o=d*a+s,f=d*c+l,!(i-d<5e-8));)i=1/(i-d),s=a,a=o,l=c,c=f;if(f>e&&(c>e?(f=l,o=s):(f=c,o=a)),!n)return[0,r*o,f];var h=Math.floor(r*o/f);return[h,r*o-h*f,f]}function $c(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),s=0,a=[],o={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)a=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),r<60&&(s=(s+6)%7),n&&(s=WA(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var s_=new Date(1899,11,31,0,0,0),jA=s_.getTime(),FA=new Date(1900,2,1,0,0,0);function a_(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=FA&&(n+=24*60*60*1e3),(n-(jA+(t.getTimezoneOffset()-s_.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function ag(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function LA(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function BA(t){var e=t<0?12:11,n=ag(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function UA(t){var e=ag(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function zA(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=BA(t):e===10?n=t.toFixed(10).substr(0,12):n=UA(t),ag(LA(n.toUpperCase()))}function D0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):zA(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return ps(14,a_(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function WA(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function HA(t,e,n,r){var i="",s=0,a=0,o=n.y,l,c=0;switch(t){case 98:o=n.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=n.m,c=e.length;break;case 3:return nh[n.m-1][1];case 5:return nh[n.m-1][0];default:return nh[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=n.d,c=e.length;break;case 3:return Bx[n.q][0];default:return Bx[n.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(n.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=n.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=n.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Tr(n.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(n.S+n.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Tr(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=n.D*24+n.H;break;case"[m]":case"[mm]":l=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":l=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var f=c>0?Tr(l,c):"";return f}function Yi(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var o_=/%/g;function VA(t,e,n){var r=e.replace(o_,""),i=e.length-r.length;return vi(t,r,n*Math.pow(10,2*i))+At("%",i)}function $A(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vi(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function l_(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+l_(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),n.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var c_=/# (\?+)( ?)\/( ?)(\d+)/;function GA(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,o=r;return n+(s===0?"":""+s)+" "+(a===0?At(" ",t[1].length+1+t[4].length):sg(a,t[1].length)+t[2]+"/"+t[3]+Tr(o,t[4].length))}function KA(t,e,n){return n+(e===0?"":""+e)+At(" ",t[1].length+2+t[4].length)}var u_=/^#*0*\.([0#]+)/,f_=/\).*[0#]/,d_=/\(###\) ###\\?-####/;function En(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function zx(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function Wx(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function YA(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function XA(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function or(t,e,n){if(t.charCodeAt(0)===40&&!e.match(f_)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?or("n",r,n):"("+or("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return $A(t,e,n);if(e.indexOf("%")!==-1)return VA(t,e,n);if(e.indexOf("E")!==-1)return l_(e,n);if(e.charCodeAt(0)===36)return"$"+or(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+ya(l,e.length);if(e.match(/^[#?]+$/))return i=ya(n,0),i==="0"&&(i=""),i.length>e.length?i:En(e.substr(0,e.length-i.length))+i;if(s=e.match(c_))return GA(s,l,c);if(e.match(/^#+0+$/))return c+ya(l,e.length-e.indexOf("0"));if(s=e.match(u_))return i=zx(n,s[1].length).replace(/^([^\.]+)$/,"$1."+En(s[1])).replace(/\.$/,"."+En(s[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+At("0",En(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+zx(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Yi(ya(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+or(t,e,-n):Yi(""+(Math.floor(n)+YA(n,s[1].length)))+"."+Tr(Wx(n,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return or(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xa(or(t,e.replace(/[\\-]/g,""),n)),a=0,Xa(Xa(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):m==="0"?"0":""}));if(e.match(d_))return i=or(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=_f(l,Math.pow(10,a)-1,!1),i=""+c,f=vi("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=yf(o[2],a),f.length<s[4].length&&(f=En(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=_f(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?sg(o[1],a)+s[2]+"/"+s[3]+yf(o[2],a):At(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=ya(n,0),e.length<=i.length?i:En(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,h=e.length-i.length-d;return En(e.substr(0,d)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=Wx(n,s[1].length),n<0?"-"+or(t,e,-n):Yi(XA(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Tr(0,3-m.length):"")+m})+"."+Tr(a,s[1].length);switch(e){case"###,##0.00":return or(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var p=Yi(ya(l,0));return p!=="0"?c+p:"";case"###,###.00":return or(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return or(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function qA(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vi(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function JA(t,e,n){var r=e.replace(o_,""),i=e.length-r.length;return vi(t,r,n*Math.pow(10,2*i))+At("%",i)}function h_(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+h_(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),n=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!n.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+s):n+="E+"+(a-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,f){return l+c+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Hr(t,e,n){if(t.charCodeAt(0)===40&&!e.match(f_)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Hr("n",r,n):"("+Hr("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return qA(t,e,n);if(e.indexOf("%")!==-1)return JA(t,e,n);if(e.indexOf("E")!==-1)return h_(e,n);if(e.charCodeAt(0)===36)return"$"+Hr(t,e.substr(e.charAt(1)==" "?2:1),n);var i,s,a,o,l=Math.abs(n),c=n<0?"-":"";if(e.match(/^00+$/))return c+Tr(l,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:En(e.substr(0,e.length-i.length))+i;if(s=e.match(c_))return KA(s,l,c);if(e.match(/^#+0+$/))return c+Tr(l,e.length-e.indexOf("0"));if(s=e.match(u_))return i=(""+n).replace(/^([^\.]+)$/,"$1."+En(s[1])).replace(/\.$/,"."+En(s[1])),i=i.replace(/\.(\d*)$/,function(m,g){return"."+g+At("0",En(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Yi(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Hr(t,e,-n):Yi(""+n)+"."+At("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Hr(t,e.replace(/^#,#*,/,""),n);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Xa(Hr(t,e.replace(/[\\-]/g,""),n)),a=0,Xa(Xa(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):m==="0"?"0":""}));if(e.match(d_))return i=Hr(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=_f(l,Math.pow(10,a)-1,!1),i=""+c,f=vi("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=yf(o[2],a),f.length<s[4].length&&(f=En(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=_f(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?sg(o[1],a)+s[2]+"/"+s[3]+yf(o[2],a):At(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:En(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var d=e.indexOf(".")-a,h=e.length-i.length-d;return En(e.substr(0,d)+i+e.substr(e.length-h))}if(s=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Hr(t,e,-n):Yi(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Tr(0,3-m.length):"")+m})+"."+Tr(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Yi(""+l);return p!=="0"?c+p:"";default:if(e.match(/\.[0#?]*$/))return Hr(t,e.slice(0,e.lastIndexOf(".")),n)+En(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function vi(t,e,n){return(n|0)===n?Hr(t,e,n):or(t,e,n)}function QA(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var p_=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function g_(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":bf(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(p_))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ZA(t,e,n,r){for(var i=[],s="",a=0,o="",l="t",c,f,d,h="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!bf(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(d=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),m=p==="("||p===")"?p:"t";i[i.length]={t:m,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=$c(e,n,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=$c(e,n),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=$c(e,n)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",a+=5,h="h"):t.substr(a,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",a+=5,h="h"):(g.t="t",++a),c==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(p_)){if(c==null&&(c=$c(e,n),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",g_(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var x=0,y=0,v;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=h,l="h",x<1&&(x=1);break;case"s":(v=i[a].v.match(/\.0+$/))&&(y=Math.max(y,v[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&i[a].v.match(/[Hh]/)&&(x=1),x<2&&i[a].v.match(/[Mm]/)&&(x=2),x<3&&i[a].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",_;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=HA(i[a].t.charCodeAt(0),i[a].v,c,y),i[a].t="t";break;case"n":case"?":for(_=a+1;i[_]!=null&&((o=i[_].t)==="?"||o==="D"||(o===" "||o==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[a].v+=i[_].v,i[_]={v:"",t:";"},++_;b+=i[a].v,a=_-1;break;case"G":i[a].t="t",i[a].v=D0(e,n);break}var S="",O,k;if(b.length>0){b.charCodeAt(0)==40?(O=e<0&&b.charCodeAt(0)===45?-e:e,k=vi("n",b,O)):(O=e<0&&r>1?-e:e,k=vi("n",b,O),O<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),_=k.length-1;var T=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){T=a;break}var C=i.length;if(T===i.length&&k.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(_>=i[a].v.length-1?(_-=i[a].v.length,i[a].v=k.substr(_+1,i[a].v.length)):_<0?i[a].v="":(i[a].v=k.substr(0,_+1),_=-1),i[a].t="t",C=a);_>=0&&C<i.length&&(i[C].v=k.substr(0,_+1)+i[C].v)}else if(T!==i.length&&k.indexOf("E")===-1){for(_=k.indexOf(".")-1,a=T;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(f=i[a].v.indexOf(".")>-1&&a===T?i[a].v.indexOf(".")-1:i[a].v.length-1,S=i[a].v.substr(f+1);f>=0;--f)_>=0&&(i[a].v.charAt(f)==="0"||i[a].v.charAt(f)==="#")&&(S=k.charAt(_--)+S);i[a].v=S,i[a].t="t",C=a}for(_>=0&&C<i.length&&(i[C].v=k.substr(0,_+1)+i[C].v),_=k.indexOf(".")+1,a=T;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==T)){for(f=i[a].v.indexOf(".")>-1&&a===T?i[a].v.indexOf(".")+1:0,S=i[a].v.substr(0,f);f<i[a].v.length;++f)_<k.length&&(S+=k.charAt(_++));i[a].v=S,i[a].t="t",C=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(O=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=vi(i[a].t,i[a].v,O),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var Hx=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Vx(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function eI(t,e){var n=QA(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var a=n[0].match(Hx),o=n[1].match(Hx);return Vx(e,a)?[r,n[0]]:Vx(e,o)?[r,n[1]]:[r,n[a!=null&&o!=null?2:1]]}return[r,s]}function ps(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:Dt)[t],r==null&&(r=n.table&&n.table[Ux[t]]||Dt[Ux[t]]),r==null&&(r=OA[t]||"General");break}if(bf(r,0))return D0(e,n);e instanceof Date&&(e=a_(e,n.date1904));var i=eI(r,e);if(bf(i[1]))return D0(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ZA(i[1],e,n,i[0])}function m_(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(Dt[n]==null){e<0&&(e=n);continue}if(Dt[n]==t){e=n;break}}e<0&&(e=391)}return Dt[e]=t,e}function od(t){for(var e=0;e!=392;++e)t[e]!==void 0&&m_(t[e],e)}function ld(){Dt=MA()}var x_=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function tI(t){var e=typeof t=="number"?Dt[t]:t;return e=e.replace(x_,"(\\d+)"),new RegExp("^"+e+"$")}function nI(t,e,n){var r=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(x_)||[]).forEach(function(d,h){var p=parseInt(n[h+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:r==-1&&i==-1&&s==-1?f:c+"T"+f}var rI=function(){var t={};t.version="1.2.0";function e(){for(var k=0,T=new Array(256),C=0;C!=256;++C)k=C,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,T[C]=k;return typeof Int32Array<"u"?new Int32Array(T):T}var n=e();function r(k){var T=0,C=0,F=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)j[F]=k[F];for(F=0;F!=256;++F)for(C=k[F],T=256+F;T<4096;T+=256)C=j[T]=C>>>8^k[C&255];var U=[];for(F=1;F!=16;++F)U[F-1]=typeof Int32Array<"u"?j.subarray(F*256,F*256+256):j.slice(F*256,F*256+256);return U}var i=r(n),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],f=i[5],d=i[6],h=i[7],p=i[8],m=i[9],g=i[10],x=i[11],y=i[12],v=i[13],b=i[14];function _(k,T){for(var C=T^-1,F=0,j=k.length;F<j;)C=C>>>8^n[(C^k.charCodeAt(F++))&255];return~C}function S(k,T){for(var C=T^-1,F=k.length-15,j=0;j<F;)C=b[k[j++]^C&255]^v[k[j++]^C>>8&255]^y[k[j++]^C>>16&255]^x[k[j++]^C>>>24]^g[k[j++]]^m[k[j++]]^p[k[j++]]^h[k[j++]]^d[k[j++]]^f[k[j++]]^c[k[j++]]^l[k[j++]]^o[k[j++]]^a[k[j++]]^s[k[j++]]^n[k[j++]];for(F+=15;j<F;)C=C>>>8^n[(C^k[j++])&255];return~C}function O(k,T){for(var C=T^-1,F=0,j=k.length,U=0,Z=0;F<j;)U=k.charCodeAt(F++),U<128?C=C>>>8^n[(C^U)&255]:U<2048?(C=C>>>8^n[(C^(192|U>>6&31))&255],C=C>>>8^n[(C^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,Z=k.charCodeAt(F++)&1023,C=C>>>8^n[(C^(240|U>>8&7))&255],C=C>>>8^n[(C^(128|U>>2&63))&255],C=C>>>8^n[(C^(128|Z>>6&15|(U&3)<<4))&255],C=C>>>8^n[(C^(128|Z&63))&255]):(C=C>>>8^n[(C^(224|U>>12&15))&255],C=C>>>8^n[(C^(128|U>>6&63))&255],C=C>>>8^n[(C^(128|U&63))&255]);return~C}return t.table=n,t.bstr=_,t.buf=S,t.str=O,t}(),ct=function(){var e={};e.version="1.2.1";function n(w,I){for(var E=w.split("/"),N=I.split("/"),R=0,P=0,H=Math.min(E.length,N.length);R<H;++R){if(P=E[R].length-N[R].length)return P;if(E[R]!=N[R])return E[R]<N[R]?-1:1}return E.length-N.length}function r(w){if(w.charAt(w.length-1)=="/")return w.slice(0,-1).indexOf("/")===-1?w:r(w.slice(0,-1));var I=w.lastIndexOf("/");return I===-1?w:w.slice(0,I+1)}function i(w){if(w.charAt(w.length-1)=="/")return i(w.slice(0,-1));var I=w.lastIndexOf("/");return I===-1?w:w.slice(I+1)}function s(w,I){typeof I=="string"&&(I=new Date(I));var E=I.getHours();E=E<<6|I.getMinutes(),E=E<<5|I.getSeconds()>>>1,w.write_shift(2,E);var N=I.getFullYear()-1980;N=N<<4|I.getMonth()+1,N=N<<5|I.getDate(),w.write_shift(2,N)}function a(w){var I=w.read_shift(2)&65535,E=w.read_shift(2)&65535,N=new Date,R=E&31;E>>>=5;var P=E&15;E>>>=4,N.setMilliseconds(0),N.setFullYear(E+1980),N.setMonth(P-1),N.setDate(R);var H=I&31;I>>>=5;var J=I&63;return I>>>=6,N.setHours(I),N.setMinutes(J),N.setSeconds(H<<1),N}function o(w){qn(w,0);for(var I={},E=0;w.l<=w.length-4;){var N=w.read_shift(2),R=w.read_shift(2),P=w.l+R,H={};switch(N){case 21589:E=w.read_shift(1),E&1&&(H.mtime=w.read_shift(4)),R>5&&(E&2&&(H.atime=w.read_shift(4)),E&4&&(H.ctime=w.read_shift(4))),H.mtime&&(H.mt=new Date(H.mtime*1e3));break}w.l=P,I[N]=H}return I}var l;function c(){return l||(l={})}function f(w,I){if(w[0]==80&&w[1]==75)return vr(w,I);if((w[0]|32)==109&&(w[1]|32)==105)return be(w,I);if(w.length<512)throw new Error("CFB file size "+w.length+" < 512");var E=3,N=512,R=0,P=0,H=0,J=0,V=0,G=[],K=w.slice(0,512);qn(K,0);var se=d(K);switch(E=se[0],E){case 3:N=512;break;case 4:N=4096;break;case 0:if(se[1]==0)return vr(w,I);default:throw new Error("Major Version: Expected 3 or 4 saw "+E)}N!==512&&(K=w.slice(0,N),qn(K,28));var de=w.slice(0,N);h(K,E);var z=K.read_shift(4,"i");if(E===3&&z!==0)throw new Error("# Directory Sectors: Expected 0 saw "+z);K.l+=4,H=K.read_shift(4,"i"),K.l+=4,K.chk("00100000","Mini Stream Cutoff Size: "),J=K.read_shift(4,"i"),R=K.read_shift(4,"i"),V=K.read_shift(4,"i"),P=K.read_shift(4,"i");for(var Q=-1,oe=0;oe<109&&(Q=K.read_shift(4,"i"),!(Q<0));++oe)G[oe]=Q;var Y=p(w,N);x(V,P,Y,N,G);var pe=v(Y,H,G,N);pe[H].name="!Directory",R>0&&J!==Z&&(pe[J].name="!MiniFAT"),pe[G[0]].name="!FAT",pe.fat_addrs=G,pe.ssz=N;var je={},We=[],zt=[],dt=[];b(H,pe,Y,We,R,je,zt,J),m(zt,dt,We),We.shift();var Ye={FileIndex:zt,FullPaths:dt};return I&&I.raw&&(Ye.raw={header:de,sectors:Y}),Ye}function d(w){if(w[w.l]==80&&w[w.l+1]==75)return[0,0];w.chk(Ee,"Header Signature: "),w.l+=16;var I=w.read_shift(2,"u");return[w.read_shift(2,"u"),I]}function h(w,I){var E=9;switch(w.l+=2,E=w.read_shift(2)){case 9:if(I!=3)throw new Error("Sector Shift: Expected 9 saw "+E);break;case 12:if(I!=4)throw new Error("Sector Shift: Expected 12 saw "+E);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+E)}w.chk("0600","Mini Sector Shift: "),w.chk("000000000000","Reserved: ")}function p(w,I){for(var E=Math.ceil(w.length/I)-1,N=[],R=1;R<E;++R)N[R-1]=w.slice(R*I,(R+1)*I);return N[E-1]=w.slice(E*I),N}function m(w,I,E){for(var N=0,R=0,P=0,H=0,J=0,V=E.length,G=[],K=[];N<V;++N)G[N]=K[N]=N,I[N]=E[N];for(;J<K.length;++J)N=K[J],R=w[N].L,P=w[N].R,H=w[N].C,G[N]===N&&(R!==-1&&G[R]!==R&&(G[N]=G[R]),P!==-1&&G[P]!==P&&(G[N]=G[P])),H!==-1&&(G[H]=N),R!==-1&&N!=G[N]&&(G[R]=G[N],K.lastIndexOf(R)<J&&K.push(R)),P!==-1&&N!=G[N]&&(G[P]=G[N],K.lastIndexOf(P)<J&&K.push(P));for(N=1;N<V;++N)G[N]===N&&(P!==-1&&G[P]!==P?G[N]=G[P]:R!==-1&&G[R]!==R&&(G[N]=G[R]));for(N=1;N<V;++N)if(w[N].type!==0){if(J=N,J!=G[J])do J=G[J],I[N]=I[J]+"/"+I[N];while(J!==0&&G[J]!==-1&&J!=G[J]);G[N]=-1}for(I[0]+="/",N=1;N<V;++N)w[N].type!==2&&(I[N]+="/")}function g(w,I,E){for(var N=w.start,R=w.size,P=[],H=N;E&&R>0&&H>=0;)P.push(I.slice(H*U,H*U+U)),R-=U,H=Fs(E,H*4);return P.length===0?q(0):rn(P).slice(0,w.size)}function x(w,I,E,N,R){var P=Z;if(w===Z){if(I!==0)throw new Error("DIFAT chain shorter than expected")}else if(w!==-1){var H=E[w],J=(N>>>2)-1;if(!H)return;for(var V=0;V<J&&(P=Fs(H,V*4))!==Z;++V)R.push(P);x(Fs(H,N-4),I-1,E,N,R)}}function y(w,I,E,N,R){var P=[],H=[];R||(R=[]);var J=N-1,V=0,G=0;for(V=I;V>=0;){R[V]=!0,P[P.length]=V,H.push(w[V]);var K=E[Math.floor(V*4/N)];if(G=V*4&J,N<4+G)throw new Error("FAT boundary crossed: "+V+" 4 "+N);if(!w[K])break;V=Fs(w[K],G)}return{nodes:P,data:Qx([H])}}function v(w,I,E,N){var R=w.length,P=[],H=[],J=[],V=[],G=N-1,K=0,se=0,de=0,z=0;for(K=0;K<R;++K)if(J=[],de=K+I,de>=R&&(de-=R),!H[de]){V=[];var Q=[];for(se=de;se>=0;){Q[se]=!0,H[se]=!0,J[J.length]=se,V.push(w[se]);var oe=E[Math.floor(se*4/N)];if(z=se*4&G,N<4+z)throw new Error("FAT boundary crossed: "+se+" 4 "+N);if(!w[oe]||(se=Fs(w[oe],z),Q[se]))break}P[de]={nodes:J,data:Qx([V])}}return P}function b(w,I,E,N,R,P,H,J){for(var V=0,G=N.length?2:0,K=I[w].data,se=0,de=0,z;se<K.length;se+=128){var Q=K.slice(se,se+128);qn(Q,64),de=Q.read_shift(2),z=fg(Q,0,de-G),N.push(z);var oe={name:z,type:Q.read_shift(1),color:Q.read_shift(1),L:Q.read_shift(4,"i"),R:Q.read_shift(4,"i"),C:Q.read_shift(4,"i"),clsid:Q.read_shift(16),state:Q.read_shift(4,"i"),start:0,size:0},Y=Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2);Y!==0&&(oe.ct=_(Q,Q.l-8));var pe=Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2)+Q.read_shift(2);pe!==0&&(oe.mt=_(Q,Q.l-8)),oe.start=Q.read_shift(4,"i"),oe.size=Q.read_shift(4,"i"),oe.size<0&&oe.start<0&&(oe.size=oe.type=0,oe.start=Z,oe.name=""),oe.type===5?(V=oe.start,R>0&&V!==Z&&(I[V].name="!StreamData")):oe.size>=4096?(oe.storage="fat",I[oe.start]===void 0&&(I[oe.start]=y(E,oe.start,I.fat_addrs,I.ssz)),I[oe.start].name=oe.name,oe.content=I[oe.start].data.slice(0,oe.size)):(oe.storage="minifat",oe.size<0?oe.size=0:V!==Z&&oe.start!==Z&&I[V]&&(oe.content=g(oe,I[V].data,(I[J]||{}).data))),oe.content&&qn(oe.content,0),P[z]=oe,H.push(oe)}}function _(w,I){return new Date((Qn(w,I+4)/1e7*Math.pow(2,32)+Qn(w,I)/1e7-11644473600)*1e3)}function S(w,I){return c(),f(l.readFileSync(w),I)}function O(w,I){var E=I&&I.type;switch(E||tt&&Buffer.isBuffer(w)&&(E="buffer"),E||"base64"){case"file":return S(w,I);case"base64":return f(Er(Ci(w)),I);case"binary":return f(Er(w),I)}return f(w,I)}function k(w,I){var E=I||{},N=E.root||"Root Entry";if(w.FullPaths||(w.FullPaths=[]),w.FileIndex||(w.FileIndex=[]),w.FullPaths.length!==w.FileIndex.length)throw new Error("inconsistent CFB structure");w.FullPaths.length===0&&(w.FullPaths[0]=N+"/",w.FileIndex[0]={name:N,type:5}),E.CLSID&&(w.FileIndex[0].clsid=E.CLSID),T(w)}function T(w){var I="Sh33tJ5";if(!ct.find(w,"/"+I)){var E=q(4);E[0]=55,E[1]=E[3]=50,E[2]=54,w.FileIndex.push({name:I,type:2,content:E,size:4,L:69,R:69,C:69}),w.FullPaths.push(w.FullPaths[0]+I),C(w)}}function C(w,I){k(w);for(var E=!1,N=!1,R=w.FullPaths.length-1;R>=0;--R){var P=w.FileIndex[R];switch(P.type){case 0:N?E=!0:(w.FileIndex.pop(),w.FullPaths.pop());break;case 1:case 2:case 5:N=!0,isNaN(P.R*P.L*P.C)&&(E=!0),P.R>-1&&P.L>-1&&P.R==P.L&&(E=!0);break;default:E=!0;break}}if(!(!E&&!I)){var H=new Date(1987,1,19),J=0,V=Object.create?Object.create(null):{},G=[];for(R=0;R<w.FullPaths.length;++R)V[w.FullPaths[R]]=!0,w.FileIndex[R].type!==0&&G.push([w.FullPaths[R],w.FileIndex[R]]);for(R=0;R<G.length;++R){var K=r(G[R][0]);N=V[K],N||(G.push([K,{name:i(K).replace("/",""),type:1,clsid:ke,ct:H,mt:H,content:null}]),V[K]=!0)}for(G.sort(function(z,Q){return n(z[0],Q[0])}),w.FullPaths=[],w.FileIndex=[],R=0;R<G.length;++R)w.FullPaths[R]=G[R][0],w.FileIndex[R]=G[R][1];for(R=0;R<G.length;++R){var se=w.FileIndex[R],de=w.FullPaths[R];if(se.name=i(de).replace("/",""),se.L=se.R=se.C=-(se.color=1),se.size=se.content?se.content.length:0,se.start=0,se.clsid=se.clsid||ke,R===0)se.C=G.length>1?1:-1,se.size=0,se.type=5;else if(de.slice(-1)=="/"){for(J=R+1;J<G.length&&r(w.FullPaths[J])!=de;++J);for(se.C=J>=G.length?-1:J,J=R+1;J<G.length&&r(w.FullPaths[J])!=r(de);++J);se.R=J>=G.length?-1:J,se.type=1}else r(w.FullPaths[R+1]||"")==r(de)&&(se.R=R+1),se.type=2}}}function F(w,I){var E=I||{};if(E.fileType=="mad")return Ie(w,E);switch(C(w),E.fileType){case"zip":return Fr(w,E)}var N=function(z){for(var Q=0,oe=0,Y=0;Y<z.FileIndex.length;++Y){var pe=z.FileIndex[Y];if(pe.content){var je=pe.content.length;je>0&&(je<4096?Q+=je+63>>6:oe+=je+511>>9)}}for(var We=z.FullPaths.length+3>>2,zt=Q+7>>3,dt=Q+127>>7,Ye=zt+oe+We+dt,He=Ye+127>>7,Wt=He<=109?0:Math.ceil((He-109)/127);Ye+He+Wt+127>>7>He;)Wt=++He<=109?0:Math.ceil((He-109)/127);var Ve=[1,Wt,He,dt,We,oe,Q,0];return z.FileIndex[0].size=Q<<6,Ve[7]=(z.FileIndex[0].start=Ve[0]+Ve[1]+Ve[2]+Ve[3]+Ve[4]+Ve[5])+(Ve[6]+7>>3),Ve}(w),R=q(N[7]<<9),P=0,H=0;{for(P=0;P<8;++P)R.write_shift(1,le[P]);for(P=0;P<8;++P)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),P=0;P<3;++P)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,N[2]),R.write_shift(4,N[0]+N[1]+N[2]+N[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,N[3]?N[0]+N[1]+N[2]-1:Z),R.write_shift(4,N[3]),R.write_shift(-4,N[1]?N[0]-1:Z),R.write_shift(4,N[1]),P=0;P<109;++P)R.write_shift(-4,P<N[2]?N[1]+P:-1)}if(N[1])for(H=0;H<N[1];++H){for(;P<236+H*127;++P)R.write_shift(-4,P<N[2]?N[1]+P:-1);R.write_shift(-4,H===N[1]-1?Z:H+1)}var J=function(z){for(H+=z;P<H-1;++P)R.write_shift(-4,P+1);z&&(++P,R.write_shift(-4,Z))};for(H=P=0,H+=N[1];P<H;++P)R.write_shift(-4,we.DIFSECT);for(H+=N[2];P<H;++P)R.write_shift(-4,we.FATSECT);J(N[3]),J(N[4]);for(var V=0,G=0,K=w.FileIndex[0];V<w.FileIndex.length;++V)K=w.FileIndex[V],K.content&&(G=K.content.length,!(G<4096)&&(K.start=H,J(G+511>>9)));for(J(N[6]+7>>3);R.l&511;)R.write_shift(-4,we.ENDOFCHAIN);for(H=P=0,V=0;V<w.FileIndex.length;++V)K=w.FileIndex[V],K.content&&(G=K.content.length,!(!G||G>=4096)&&(K.start=H,J(G+63>>6)));for(;R.l&511;)R.write_shift(-4,we.ENDOFCHAIN);for(P=0;P<N[4]<<2;++P){var se=w.FullPaths[P];if(!se||se.length===0){for(V=0;V<17;++V)R.write_shift(4,0);for(V=0;V<3;++V)R.write_shift(4,-1);for(V=0;V<12;++V)R.write_shift(4,0);continue}K=w.FileIndex[P],P===0&&(K.start=K.size?K.start-1:Z);var de=P===0&&E.root||K.name;if(G=2*(de.length+1),R.write_shift(64,de,"utf16le"),R.write_shift(2,G),R.write_shift(1,K.type),R.write_shift(1,K.color),R.write_shift(-4,K.L),R.write_shift(-4,K.R),R.write_shift(-4,K.C),K.clsid)R.write_shift(16,K.clsid,"hex");else for(V=0;V<4;++V)R.write_shift(4,0);R.write_shift(4,K.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,K.start),R.write_shift(4,K.size),R.write_shift(4,0)}for(P=1;P<w.FileIndex.length;++P)if(K=w.FileIndex[P],K.size>=4096)if(R.l=K.start+1<<9,tt&&Buffer.isBuffer(K.content))K.content.copy(R,R.l,0,K.size),R.l+=K.size+511&-512;else{for(V=0;V<K.size;++V)R.write_shift(1,K.content[V]);for(;V&511;++V)R.write_shift(1,0)}for(P=1;P<w.FileIndex.length;++P)if(K=w.FileIndex[P],K.size>0&&K.size<4096)if(tt&&Buffer.isBuffer(K.content))K.content.copy(R,R.l,0,K.size),R.l+=K.size+63&-64;else{for(V=0;V<K.size;++V)R.write_shift(1,K.content[V]);for(;V&63;++V)R.write_shift(1,0)}if(tt)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function j(w,I){var E=w.FullPaths.map(function(V){return V.toUpperCase()}),N=E.map(function(V){var G=V.split("/");return G[G.length-(V.slice(-1)=="/"?2:1)]}),R=!1;I.charCodeAt(0)===47?(R=!0,I=E[0].slice(0,-1)+I):R=I.indexOf("/")!==-1;var P=I.toUpperCase(),H=R===!0?E.indexOf(P):N.indexOf(P);if(H!==-1)return w.FileIndex[H];var J=!P.match(Vc);for(P=P.replace(hl,""),J&&(P=P.replace(Vc,"!")),H=0;H<E.length;++H)if((J?E[H].replace(Vc,"!"):E[H]).replace(hl,"")==P||(J?N[H].replace(Vc,"!"):N[H]).replace(hl,"")==P)return w.FileIndex[H];return null}var U=64,Z=-2,Ee="d0cf11e0a1b11ae1",le=[208,207,17,224,161,177,26,225],ke="00000000000000000000000000000000",we={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Z,FREESECT:-1,HEADER_SIGNATURE:Ee,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ke,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ie(w,I,E){c();var N=F(w,E);l.writeFileSync(I,N)}function te(w){for(var I=new Array(w.length),E=0;E<w.length;++E)I[E]=String.fromCharCode(w[E]);return I.join("")}function fe(w,I){var E=F(w,I);switch(I&&I.type||"buffer"){case"file":return c(),l.writeFileSync(I.filename,E),E;case"binary":return typeof E=="string"?E:te(E);case"base64":return $l(typeof E=="string"?E:te(E));case"buffer":if(tt)return Buffer.isBuffer(E)?E:Ri(E);case"array":return typeof E=="string"?Er(E):E}return E}var ee;function D(w){try{var I=w.InflateRaw,E=new I;if(E._processChunk(new Uint8Array([3,0]),E._finishFlushFlag),E.bytesRead)ee=w;else throw new Error("zlib does not expose bytesRead")}catch(N){console.error("cannot use native zlib: "+(N.message||N))}}function B(w,I){if(!ee)return sr(w,I);var E=ee.InflateRaw,N=new E,R=N._processChunk(w.slice(w.l),N._finishFlushFlag);return w.l+=N.bytesRead,R}function L(w){return ee?ee.deflateRawSync(w):Hn(w)}var M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(w){var I=(w<<1|w<<11)&139536|(w<<5|w<<15)&558144;return(I>>16|I>>8|I)&255}for(var he=typeof Uint8Array<"u",ce=he?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)ce[Pe]=xe(Pe);function Re(w,I){var E=ce[w&255];return I<=8?E>>>8-I:(E=E<<8|ce[w>>8&255],I<=16?E>>>16-I:(E=E<<8|ce[w>>16&255],E>>>24-I))}function Ce(w,I){var E=I&7,N=I>>>3;return(w[N]|(E<=6?0:w[N+1]<<8))>>>E&3}function Ne(w,I){var E=I&7,N=I>>>3;return(w[N]|(E<=5?0:w[N+1]<<8))>>>E&7}function ft(w,I){var E=I&7,N=I>>>3;return(w[N]|(E<=4?0:w[N+1]<<8))>>>E&15}function Ze(w,I){var E=I&7,N=I>>>3;return(w[N]|(E<=3?0:w[N+1]<<8))>>>E&31}function ye(w,I){var E=I&7,N=I>>>3;return(w[N]|(E<=1?0:w[N+1]<<8))>>>E&127}function Bt(w,I,E){var N=I&7,R=I>>>3,P=(1<<E)-1,H=w[R]>>>N;return E<8-N||(H|=w[R+1]<<8-N,E<16-N)||(H|=w[R+2]<<16-N,E<24-N)||(H|=w[R+3]<<24-N),H&P}function yt(w,I,E){var N=I&7,R=I>>>3;return N<=5?w[R]|=(E&7)<<N:(w[R]|=E<<N&255,w[R+1]=(E&7)>>8-N),I+3}function _n(w,I,E){var N=I&7,R=I>>>3;return E=(E&1)<<N,w[R]|=E,I+1}function Ut(w,I,E){var N=I&7,R=I>>>3;return E<<=N,w[R]|=E&255,E>>>=8,w[R+1]=E,I+8}function _e(w,I,E){var N=I&7,R=I>>>3;return E<<=N,w[R]|=E&255,E>>>=8,w[R+1]=E&255,w[R+2]=E>>>8,I+16}function X(w,I){var E=w.length,N=2*E>I?2*E:I+5,R=0;if(E>=I)return w;if(tt){var P=Fx(N);if(w.copy)w.copy(P);else for(;R<w.length;++R)P[R]=w[R];return P}else if(he){var H=new Uint8Array(N);if(H.set)H.set(w);else for(;R<E;++R)H[R]=w[R];return H}return w.length=N,w}function Te(w){for(var I=new Array(w),E=0;E<w;++E)I[E]=0;return I}function ze(w,I,E){var N=1,R=0,P=0,H=0,J=0,V=w.length,G=he?new Uint16Array(32):Te(32);for(P=0;P<32;++P)G[P]=0;for(P=V;P<E;++P)w[P]=0;V=w.length;var K=he?new Uint16Array(V):Te(V);for(P=0;P<V;++P)G[R=w[P]]++,N<R&&(N=R),K[P]=0;for(G[0]=0,P=1;P<=N;++P)G[P+16]=J=J+G[P-1]<<1;for(P=0;P<V;++P)J=w[P],J!=0&&(K[P]=G[J+16]++);var se=0;for(P=0;P<V;++P)if(se=w[P],se!=0)for(J=Re(K[P],N)>>N-se,H=(1<<N+4-se)-1;H>=0;--H)I[J|H<<se]=se&15|P<<4;return N}var nt=he?new Uint16Array(512):Te(512),et=he?new Uint16Array(32):Te(32);if(!he){for(var Tt=0;Tt<512;++Tt)nt[Tt]=0;for(Tt=0;Tt<32;++Tt)et[Tt]=0}(function(){for(var w=[],I=0;I<32;I++)w.push(5);ze(w,et,32);var E=[];for(I=0;I<=143;I++)E.push(8);for(;I<=255;I++)E.push(9);for(;I<=279;I++)E.push(7);for(;I<=287;I++)E.push(8);ze(E,nt,288)})();var Rt=function(){for(var I=he?new Uint8Array(32768):[],E=0,N=0;E<ae.length-1;++E)for(;N<ae[E+1];++N)I[N]=E;for(;N<32768;++N)I[N]=29;var R=he?new Uint8Array(259):[];for(E=0,N=0;E<W.length-1;++E)for(;N<W[E+1];++N)R[N]=E;function P(J,V){for(var G=0;G<J.length;){var K=Math.min(65535,J.length-G),se=G+K==J.length;for(V.write_shift(1,+se),V.write_shift(2,K),V.write_shift(2,~K&65535);K-- >0;)V[V.l++]=J[G++]}return V.l}function H(J,V){for(var G=0,K=0,se=he?new Uint16Array(32768):[];K<J.length;){var de=Math.min(65535,J.length-K);if(de<10){for(G=yt(V,G,+(K+de==J.length)),G&7&&(G+=8-(G&7)),V.l=G/8|0,V.write_shift(2,de),V.write_shift(2,~de&65535);de-- >0;)V[V.l++]=J[K++];G=V.l*8;continue}G=yt(V,G,+(K+de==J.length)+2);for(var z=0;de-- >0;){var Q=J[K];z=(z<<5^Q)&32767;var oe=-1,Y=0;if((oe=se[z])&&(oe|=K&-32768,oe>K&&(oe-=32768),oe<K))for(;J[oe+Y]==J[K+Y]&&Y<250;)++Y;if(Y>2){Q=R[Y],Q<=22?G=Ut(V,G,ce[Q+1]>>1)-1:(Ut(V,G,3),G+=5,Ut(V,G,ce[Q-23]>>5),G+=3);var pe=Q<8?0:Q-4>>2;pe>0&&(_e(V,G,Y-W[Q]),G+=pe),Q=I[K-oe],G=Ut(V,G,ce[Q]>>3),G-=3;var je=Q<4?0:Q-2>>1;je>0&&(_e(V,G,K-oe-ae[Q]),G+=je);for(var We=0;We<Y;++We)se[z]=K&32767,z=(z<<5^J[K])&32767,++K;de-=Y-1}else Q<=143?Q=Q+48:G=_n(V,G,1),G=Ut(V,G,ce[Q]),se[z]=K&32767,++K}G=Ut(V,G,0)-1}return V.l=(G+7)/8|0,V.l}return function(V,G){return V.length<8?P(V,G):H(V,G)}}();function Hn(w){var I=q(50+Math.floor(w.length*1.1)),E=Rt(w,I);return I.slice(0,E)}var mr=he?new Uint16Array(32768):Te(32768),Vn=he?new Uint16Array(32768):Te(32768),wn=he?new Uint16Array(128):Te(128),Zt=1,Or=1;function ti(w,I){var E=Ze(w,I)+257;I+=5;var N=Ze(w,I)+1;I+=5;var R=ft(w,I)+4;I+=4;for(var P=0,H=he?new Uint8Array(19):Te(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V=1,G=he?new Uint8Array(8):Te(8),K=he?new Uint8Array(8):Te(8),se=H.length,de=0;de<R;++de)H[M[de]]=P=Ne(w,I),V<P&&(V=P),G[P]++,I+=3;var z=0;for(G[0]=0,de=1;de<=V;++de)K[de]=z=z+G[de-1]<<1;for(de=0;de<se;++de)(z=H[de])!=0&&(J[de]=K[z]++);var Q=0;for(de=0;de<se;++de)if(Q=H[de],Q!=0){z=ce[J[de]]>>8-Q;for(var oe=(1<<7-Q)-1;oe>=0;--oe)wn[z|oe<<Q]=Q&7|de<<3}var Y=[];for(V=1;Y.length<E+N;)switch(z=wn[ye(w,I)],I+=z&7,z>>>=3){case 16:for(P=3+Ce(w,I),I+=2,z=Y[Y.length-1];P-- >0;)Y.push(z);break;case 17:for(P=3+Ne(w,I),I+=3;P-- >0;)Y.push(0);break;case 18:for(P=11+ye(w,I),I+=7;P-- >0;)Y.push(0);break;default:Y.push(z),V<z&&(V=z);break}var pe=Y.slice(0,E),je=Y.slice(E);for(de=E;de<286;++de)pe[de]=0;for(de=N;de<30;++de)je[de]=0;return Zt=ze(pe,mr,286),Or=ze(je,Vn,30),I}function $n(w,I){if(w[0]==3&&!(w[1]&3))return[ta(I),2];for(var E=0,N=0,R=Fx(I||1<<18),P=0,H=R.length>>>0,J=0,V=0;!(N&1);){if(N=Ne(w,E),E+=3,N>>>1)N>>1==1?(J=9,V=5):(E=ti(w,E),J=Zt,V=Or);else{E&7&&(E+=8-(E&7));var G=w[E>>>3]|w[(E>>>3)+1]<<8;if(E+=32,G>0)for(!I&&H<P+G&&(R=X(R,P+G),H=R.length);G-- >0;)R[P++]=w[E>>>3],E+=8;continue}for(;;){!I&&H<P+32767&&(R=X(R,P+32767),H=R.length);var K=Bt(w,E,J),se=N>>>1==1?nt[K]:mr[K];if(E+=se&15,se>>>=4,!(se>>>8&255))R[P++]=se;else{if(se==256)break;se-=257;var de=se<8?0:se-4>>2;de>5&&(de=0);var z=P+W[se];de>0&&(z+=Bt(w,E,de),E+=de),K=Bt(w,E,V),se=N>>>1==1?et[K]:Vn[K],E+=se&15,se>>>=4;var Q=se<4?0:se-2>>1,oe=ae[se];for(Q>0&&(oe+=Bt(w,E,Q),E+=Q),!I&&H<z&&(R=X(R,z+100),H=R.length);P<z;)R[P]=R[P-oe],++P}}}return I?[R,E+7>>>3]:[R.slice(0,P),E+7>>>3]}function sr(w,I){var E=w.slice(w.l||0),N=$n(E,I);return w.l+=N[1],N[0]}function xr(w,I){if(w)typeof console<"u"&&console.error(I);else throw new Error(I)}function vr(w,I){var E=w;qn(E,0);var N=[],R=[],P={FileIndex:N,FullPaths:R};k(P,{root:I.root});for(var H=E.length-4;(E[H]!=80||E[H+1]!=75||E[H+2]!=5||E[H+3]!=6)&&H>=0;)--H;E.l=H+4,E.l+=4;var J=E.read_shift(2);E.l+=6;var V=E.read_shift(4);for(E.l=V,H=0;H<J;++H){E.l+=20;var G=E.read_shift(4),K=E.read_shift(4),se=E.read_shift(2),de=E.read_shift(2),z=E.read_shift(2);E.l+=8;var Q=E.read_shift(4),oe=o(E.slice(E.l+se,E.l+se+de));E.l+=se+de+z;var Y=E.l;E.l=Q+4,jr(E,G,K,P,oe),E.l=Y}return P}function jr(w,I,E,N,R){w.l+=2;var P=w.read_shift(2),H=w.read_shift(2),J=a(w);if(P&8257)throw new Error("Unsupported ZIP encryption");for(var V=w.read_shift(4),G=w.read_shift(4),K=w.read_shift(4),se=w.read_shift(2),de=w.read_shift(2),z="",Q=0;Q<se;++Q)z+=String.fromCharCode(w[w.l++]);if(de){var oe=o(w.slice(w.l,w.l+de));(oe[21589]||{}).mt&&(J=oe[21589].mt),((R||{})[21589]||{}).mt&&(J=R[21589].mt)}w.l+=de;var Y=w.slice(w.l,w.l+G);switch(H){case 8:Y=B(w,K);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+H)}var pe=!1;P&8&&(V=w.read_shift(4),V==134695760&&(V=w.read_shift(4),pe=!0),G=w.read_shift(4),K=w.read_shift(4)),G!=I&&xr(pe,"Bad compressed size: "+I+" != "+G),K!=E&&xr(pe,"Bad uncompressed size: "+E+" != "+K),De(N,z,Y,{unsafe:!0,mt:J})}function Fr(w,I){var E=I||{},N=[],R=[],P=q(1),H=E.compression?8:0,J=0,V=0,G=0,K=0,se=0,de=w.FullPaths[0],z=de,Q=w.FileIndex[0],oe=[],Y=0;for(V=1;V<w.FullPaths.length;++V)if(z=w.FullPaths[V].slice(de.length),Q=w.FileIndex[V],!(!Q.size||!Q.content||z=="Sh33tJ5")){var pe=K,je=q(z.length);for(G=0;G<z.length;++G)je.write_shift(1,z.charCodeAt(G)&127);je=je.slice(0,je.l),oe[se]=rI.buf(Q.content,0);var We=Q.content;H==8&&(We=L(We)),P=q(30),P.write_shift(4,67324752),P.write_shift(2,20),P.write_shift(2,J),P.write_shift(2,H),Q.mt?s(P,Q.mt):P.write_shift(4,0),P.write_shift(-4,oe[se]),P.write_shift(4,We.length),P.write_shift(4,Q.content.length),P.write_shift(2,je.length),P.write_shift(2,0),K+=P.length,N.push(P),K+=je.length,N.push(je),K+=We.length,N.push(We),P=q(46),P.write_shift(4,33639248),P.write_shift(2,0),P.write_shift(2,20),P.write_shift(2,J),P.write_shift(2,H),P.write_shift(4,0),P.write_shift(-4,oe[se]),P.write_shift(4,We.length),P.write_shift(4,Q.content.length),P.write_shift(2,je.length),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(4,0),P.write_shift(4,pe),Y+=P.l,R.push(P),Y+=je.length,R.push(je),++se}return P=q(22),P.write_shift(4,101010256),P.write_shift(2,0),P.write_shift(2,0),P.write_shift(2,se),P.write_shift(2,se),P.write_shift(4,Y),P.write_shift(4,K),P.write_shift(2,0),rn([rn(N),rn(R),P])}var Rn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Lr(w,I){if(w.ctype)return w.ctype;var E=w.name||"",N=E.match(/\.([^\.]+)$/);return N&&Rn[N[1]]||I&&(N=(E=I).match(/[\.\\]([^\.\\])+$/),N&&Rn[N[1]])?Rn[N[1]]:"application/octet-stream"}function Br(w){for(var I=$l(w),E=[],N=0;N<I.length;N+=76)E.push(I.slice(N,N+76));return E.join(`\r
`)+`\r
`}function Ur(w){var I=w.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(G){var K=G.charCodeAt(0).toString(16).toUpperCase();return"="+(K.length==1?"0"+K:K)});I=I.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),I.charAt(0)==`
`&&(I="=0D"+I.slice(1)),I=I.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var E=[],N=I.split(`\r
`),R=0;R<N.length;++R){var P=N[R];if(P.length==0){E.push("");continue}for(var H=0;H<P.length;){var J=76,V=P.slice(H,H+J);V.charAt(J-1)=="="?J--:V.charAt(J-2)=="="?J-=2:V.charAt(J-3)=="="&&(J-=3),V=P.slice(H,H+J),H+=J,H<P.length&&(V+="="),E.push(V)}}return E.join(`\r
`)}function zr(w){for(var I=[],E=0;E<w.length;++E){for(var N=w[E];E<=w.length&&N.charAt(N.length-1)=="=";)N=N.slice(0,N.length-1)+w[++E];I.push(N)}for(var R=0;R<I.length;++R)I[R]=I[R].replace(/[=][0-9A-Fa-f]{2}/g,function(P){return String.fromCharCode(parseInt(P.slice(1),16))});return Er(I.join(`\r
`))}function ne(w,I,E){for(var N="",R="",P="",H,J=0;J<10;++J){var V=I[J];if(!V||V.match(/^\s*$/))break;var G=V.match(/^(.*?):\s*([^\s].*)$/);if(G)switch(G[1].toLowerCase()){case"content-location":N=G[2].trim();break;case"content-type":P=G[2].trim();break;case"content-transfer-encoding":R=G[2].trim();break}}switch(++J,R.toLowerCase()){case"base64":H=Er(Ci(I.slice(J).join("")));break;case"quoted-printable":H=zr(I.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var K=De(w,N.slice(E.length),H,{unsafe:!0});P&&(K.ctype=P)}function be(w,I){if(te(w.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var E=I&&I.root||"",N=(tt&&Buffer.isBuffer(w)?w.toString("binary"):te(w)).split(`\r
`),R=0,P="";for(R=0;R<N.length;++R)if(P=N[R],!!/^Content-Location:/i.test(P)&&(P=P.slice(P.indexOf("file")),E||(E=P.slice(0,P.lastIndexOf("/")+1)),P.slice(0,E.length)!=E))for(;E.length>0&&(E=E.slice(0,E.length-1),E=E.slice(0,E.lastIndexOf("/")+1),P.slice(0,E.length)!=E););var H=(N[1]||"").match(/boundary="(.*?)"/);if(!H)throw new Error("MAD cannot find boundary");var J="--"+(H[1]||""),V=[],G=[],K={FileIndex:V,FullPaths:G};k(K);var se,de=0;for(R=0;R<N.length;++R){var z=N[R];z!==J&&z!==J+"--"||(de++&&ne(K,N.slice(se,R),E),se=R)}return K}function Ie(w,I){var E=I||{},N=E.boundary||"SheetJS";N="------="+N;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+N.slice(2)+'"',"","",""],P=w.FullPaths[0],H=P,J=w.FileIndex[0],V=1;V<w.FullPaths.length;++V)if(H=w.FullPaths[V].slice(P.length),J=w.FileIndex[V],!(!J.size||!J.content||H=="Sh33tJ5")){H=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Y){return"_x"+Y.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Y){return"_u"+Y.charCodeAt(0).toString(16)+"_"});for(var G=J.content,K=tt&&Buffer.isBuffer(G)?G.toString("binary"):te(G),se=0,de=Math.min(1024,K.length),z=0,Q=0;Q<=de;++Q)(z=K.charCodeAt(Q))>=32&&z<128&&++se;var oe=se>=de*4/5;R.push(N),R.push("Content-Location: "+(E.root||"file:///C:/SheetJS/")+H),R.push("Content-Transfer-Encoding: "+(oe?"quoted-printable":"base64")),R.push("Content-Type: "+Lr(J,H)),R.push(""),R.push(oe?Ur(K):Br(K))}return R.push(N+`--\r
`),R.join(`\r
`)}function Ae(w){var I={};return k(I,w),I}function De(w,I,E,N){var R=N&&N.unsafe;R||k(w);var P=!R&&ct.find(w,I);if(!P){var H=w.FullPaths[0];I.slice(0,H.length)==H?H=I:(H.slice(-1)!="/"&&(H+="/"),H=(H+I).replace("//","/")),P={name:i(I),type:2},w.FileIndex.push(P),w.FullPaths.push(H),R||ct.utils.cfb_gc(w)}return P.content=E,P.size=E?E.length:0,N&&(N.CLSID&&(P.clsid=N.CLSID),N.mt&&(P.mt=N.mt),N.ct&&(P.ct=N.ct)),P}function Ue(w,I){k(w);var E=ct.find(w,I);if(E){for(var N=0;N<w.FileIndex.length;++N)if(w.FileIndex[N]==E)return w.FileIndex.splice(N,1),w.FullPaths.splice(N,1),!0}return!1}function Xe(w,I,E){k(w);var N=ct.find(w,I);if(N){for(var R=0;R<w.FileIndex.length;++R)if(w.FileIndex[R]==N)return w.FileIndex[R].name=i(E),w.FullPaths[R]=E,!0}return!1}function Be(w){C(w,!0)}return e.find=j,e.read=O,e.parse=f,e.write=fe,e.writeFile=ie,e.utils={cfb_new:Ae,cfb_add:De,cfb_del:Ue,cfb_mov:Xe,cfb_gc:Be,ReadShift:gl,CheckField:O_,prep_blob:qn,bconcat:rn,use_zlib:D,_deflateRaw:Hn,_inflateRaw:sr,consts:we},e}();function iI(t){return typeof t=="string"?ad(t):Array.isArray(t)?IA(t):t}function xc(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=ad(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Kl(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([iI(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=mc(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function cn(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function $x(t,e){for(var n=[],r=cn(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function og(t){for(var e=[],n=cn(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function cd(t){for(var e=[],n=cn(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function sI(t){for(var e=[],n=cn(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var wf=new Date(1899,11,30,0,0,0);function zn(t,e){var n=t.getTime(),r=wf.getTime()+(t.getTimezoneOffset()-wf.getTimezoneOffset())*6e4;return(n-r)/(24*60*60*1e3)}var v_=new Date,aI=wf.getTime()+(v_.getTimezoneOffset()-wf.getTimezoneOffset())*6e4,Gx=v_.getTimezoneOffset();function y_(t){var e=new Date;return e.setTime(t*24*60*60*1e3+aI),e.getTimezoneOffset()!==Gx&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Gx)*6e4),e}var Kx=new Date("2017-02-19T19:06:09.000Z"),b_=isNaN(Kx.getFullYear())?new Date("2/19/17"):Kx,oI=b_.getFullYear()==2017;function Nn(t,e){var n=new Date(t);if(oI)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(b_.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function ud(t,e){if(tt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Wn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Wn(t[n]));return e}function At(t,e){for(var n="";n.length<e;)n+=t;return n}function yi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return n=-n,s}),!isNaN(e=Number(r)))?e/n:e}var lI=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gl(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return n;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&lI.indexOf(a)==-1)return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||s>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function Le(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return tt?r=Ri(n):r=DA(n),ct.utils.cfb_add(t,e,r)}ct.utils.cfb_add(t,e,n)}else t.file(e,n)}function lg(){return ct.utils.cfb_new()}var Lt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,cI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},cg=og(cI),ug=/[&<>'"]/g,uI=/[\u0000-\u0008\u000b-\u001f]/g;function at(t){var e=t+"";return e.replace(ug,function(n){return cg[n]}).replace(uI,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Yx(t){return at(t).replace(/ /g,"_x0020_")}var __=/[\u0000-\u001f]/g;function fI(t){var e=t+"";return e.replace(ug,function(n){return cg[n]}).replace(/\n/g,"<br/>").replace(__,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function dI(t){var e=t+"";return e.replace(ug,function(n){return cg[n]}).replace(__,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function hI(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pI(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function rh(t){for(var e="",n=0,r=0,i=0,s=0,a=0,o=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Xx(t){var e=ta(2*t.length),n,r,i=1,s=0,a=0,o;for(r=0;r<t.length;r+=i)i=1,(o=t.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(t.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,a=55296+(n>>>10&1023),n=56320+(n&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=n%256,e[s++]=n>>>8;return e.slice(0,s).toString("ucs2")}function qx(t){return Ri(t,"binary").toString("utf8")}var Gc="foo bar baz",pl=tt&&(qx(Gc)==rh(Gc)&&qx||Xx(Gc)==rh(Gc)&&Xx)||rh,Kl=tt?function(t){return Ri(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},gI=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}}(),w_=/(^\s|\s$|\n)/;function sn(t,e){return"<"+t+(e.match(w_)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Yl(t){return cn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function ge(t,e,n){return"<"+t+(n!=null?Yl(n):"")+(e!=null?(e.match(w_)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function R0(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function mI(t,e){switch(typeof t){case"string":var n=ge("vt:lpwstr",at(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return ge((t|0)==t?"vt:i4":"vt:r8",at(String(t)));case"boolean":return ge("vt:bool",t?"true":"false")}if(t instanceof Date)return ge("vt:filetime",R0(t));throw new Error("Unable to serialize "+t)}var Yt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},_o=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Jn={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function xI(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function vI(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[n+o]=s&255;t[n+6]=(i&15)<<4|s&15,t[n+7]=i>>4|r}var Jx=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,s=t[0][r].length;i<s;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},Qx=tt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ri(e)})):Jx(t)}:Jx,Zx=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(Xo(t,i)));return r.join("").replace(hl,"")},fg=tt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(hl,""):Zx(t,e,n)}:Zx,e1=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},S_=tt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):e1(t,e,n)}:e1,t1=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(ka(t,i)));return r.join("")},vc=tt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):t1(e,n,r)}:t1,k_=function(t,e){var n=Qn(t,e);return n>0?vc(t,e+4,e+4+n-1):""},E_=k_,T_=function(t,e){var n=Qn(t,e);return n>0?vc(t,e+4,e+4+n-1):""},C_=T_,N_=function(t,e){var n=2*Qn(t,e);return n>0?vc(t,e+4,e+4+n-1):""},A_=N_,I_=function(e,n){var r=Qn(e,n);return r>0?fg(e,n+4,n+4+r):""},D_=I_,R_=function(t,e){var n=Qn(t,e);return n>0?vc(t,e+4,e+4+n):""},P_=R_,M_=function(t,e){return xI(t,e)},Sf=M_,dg=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};tt&&(E_=function(e,n){if(!Buffer.isBuffer(e))return k_(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},C_=function(e,n){if(!Buffer.isBuffer(e))return T_(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},A_=function(e,n){if(!Buffer.isBuffer(e))return N_(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},D_=function(e,n){if(!Buffer.isBuffer(e))return I_(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},P_=function(e,n){if(!Buffer.isBuffer(e))return R_(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},Sf=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):M_(e,n)},dg=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var ka=function(t,e){return t[e]},Xo=function(t,e){return t[e+1]*256+t[e]},yI=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Qn=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Fs=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},bI=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function gl(t,e){var n="",r,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,tt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)n+=String.fromCharCode(Xo(this,c)),c+=2;t*=2;break;case"utf8":n=vc(this,this.l,this.l+t);break;case"utf16le":t*=2,n=fg(this,this.l,this.l+t);break;case"wstr":return gl.call(this,t,"dbcs");case"lpstr-ansi":n=E_(this,this.l),t=4+Qn(this,this.l);break;case"lpstr-cp":n=C_(this,this.l),t=4+Qn(this,this.l);break;case"lpwstr":n=A_(this,this.l),t=4+2*Qn(this,this.l);break;case"lpp4":t=4+Qn(this,this.l),n=D_(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Qn(this,this.l),n=P_(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(a=ka(this,this.l+t++))!==0;)s.push(Hc(a));n=s.join("");break;case"_wstr":for(t=0,n="";(a=Xo(this,this.l+t))!==0;)s.push(Hc(a)),t+=2;t+=2,n=s.join("");break;case"dbcs-cont":for(n="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=ka(this,c),this.l=c+1,o=gl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Hc(Xo(this,c))),c+=2}n=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=ka(this,c),this.l=c+1,o=gl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Hc(ka(this,c))),c+=1}n=s.join("");break;default:switch(t){case 1:return r=ka(this,this.l),this.l++,r;case 2:return r=(e==="i"?yI:Xo)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(t>0?Fs:bI)(this,this.l),this.l+=4,r):(i=Qn(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Sf(this,this.l):i=Sf([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=S_(this,this.l,t);break}}return this.l+=t,n}var _I=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},wI=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},SI=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function kI(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)SI(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,_I(this,e,this.l);break;case 8:if(r=8,n==="f"){vI(this,e,this.l);break}case 16:break;case-4:r=4,wI(this,e,this.l);break}return this.l+=r,this}function O_(t,e){var n=S_(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function qn(t,e){t.l=e,t.read_shift=gl,t.chk=O_,t.write_shift=kI}function ei(t,e){t.l+=e}function q(t){var e=ta(t);return qn(e,0),e}function Un(){var t=[],e=tt?256:2048,n=function(c){var f=q(c);return qn(f,0),f},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},s=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,e)))},a=function(){return i(),rn(t)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function re(t,e,n,r){var i=+e,s;if(!isNaN(i)){r||(r=xO[i].p||(n||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&dg(n)&&t.push(n)}}function ml(t,e,n){var r=Wn(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function n1(t,e,n){var r=Wn(t);return r.s=ml(r.s,e.s,n),r.e=ml(r.e,e.s,n),r}function xl(t,e){if(t.cRel&&t.c<0)for(t=Wn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Wn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=lt(t);return!t.cRel&&t.cRel!=null&&(n=CI(n)),!t.rRel&&t.rRel!=null&&(n=EI(n)),n}function ih(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+xn(t.s.c)+":"+(t.e.cRel?"":"$")+xn(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+on(t.s.r)+":"+(t.e.rRel?"":"$")+on(t.e.r):xl(t.s,e.biff)+":"+xl(t.e,e.biff)}function hg(t){return parseInt(TI(t),10)-1}function on(t){return""+(t+1)}function EI(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function TI(t){return t.replace(/\$(\d+)$/,"$1")}function pg(t){for(var e=NI(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function xn(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function CI(t){return t.replace(/^([A-Z])/,"$$$1")}function NI(t){return t.replace(/^\$([A-Z])/,"$1")}function AI(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Xt(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function lt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function nr(t){var e=t.indexOf(":");return e==-1?{s:Xt(t),e:Xt(t)}:{s:Xt(t.slice(0,e)),e:Xt(t.slice(e+1))}}function Ft(t,e){return typeof e>"u"||typeof e=="number"?Ft(t.s,t.e):(typeof t!="string"&&(t=lt(t)),typeof e!="string"&&(e=lt(e)),t==e?t:t+":"+e)}function vt(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,s=t.length;for(n=0;r<s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=s&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=s&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function r1(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=ps(t.z,n?zn(e):e)}catch{}try{return t.w=ps((t.XF||{}).numFmtId||(n?14:0),n?zn(e):e)}catch{return""+e}}function Ni(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?yc[t.v]||t.v:e==null?r1(t,t.v):r1(t,e))}function ua(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function j_(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Xt(r.origin):r.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=vt(s["!ref"]);c.s.c=f.s.c,c.s.r=f.s.r,c.e.c=Math.max(c.e.c,f.e.c),c.e.r=Math.max(c.e.r,f.e.r),a==-1&&(c.e.r=a=f.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=e[d].length;++h)if(!(typeof e[d][h]>"u")){var p={v:e[d][h]},m=a+d,g=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>g&&(c.s.c=g),c.e.r<m&&(c.e.r=m),c.e.c<g&&(c.e.c=g),e[d][h]&&typeof e[d][h]=="object"&&!Array.isArray(e[d][h])&&!(e[d][h]instanceof Date))p=e[d][h];else if(Array.isArray(p.v)&&(p.f=e[d][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(r.nullError)p.t="e",p.v=0;else if(r.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=r.dateNF||Dt[14],r.cellDates?(p.t="d",p.w=ps(p.z,zn(p.v))):(p.t="n",p.v=zn(p.v),p.w=ps(p.z,p.v))):p.t="s";if(i)s[m]||(s[m]=[]),s[m][g]&&s[m][g].z&&(p.z=s[m][g].z),s[m][g]=p;else{var x=lt({c:g,r:m});s[x]&&s[x].z&&(p.z=s[x].z),s[x]=p}}}return c.s.c<1e7&&(s["!ref"]=Ft(c)),s}function wo(t,e){return j_(null,t,e)}function II(t){return t.read_shift(4,"i")}function Ir(t,e){return e||(e=q(4)),e.write_shift(4,t),e}function vn(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function qt(t,e){var n=!1;return e==null&&(n=!0,e=q(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function DI(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function RI(t,e){return e||(e=q(4)),e.write_shift(2,0),e.write_shift(2,0),e}function gg(t,e){var n=t.l,r=t.read_shift(1),i=vn(t),s=[],a={t:i,h:i};if(r&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(DI(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=n+e,a}function PI(t,e){var n=!1;return e==null&&(n=!0,e=q(15+4*t.t.length)),e.write_shift(1,0),qt(t.t,e),n?e.slice(0,e.l):e}var MI=gg;function OI(t,e){var n=!1;return e==null&&(n=!0,e=q(23+4*t.t.length)),e.write_shift(1,1),qt(t.t,e),e.write_shift(4,1),RI({},e),n?e.slice(0,e.l):e}function gr(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function fa(t,e){return e==null&&(e=q(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function da(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function ha(t,e){return e==null&&(e=q(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var jI=vn,F_=qt;function mg(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function kf(t,e){var n=!1;return e==null&&(n=!0,e=q(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var FI=vn,P0=mg,xg=kf;function L_(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?Sf([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Fs(e,0)>>2;return n?i/100:i}function B_(t,e){e==null&&(e=q(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function U_(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function LI(t,e){return e||(e=q(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var pa=U_,So=LI;function ko(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function na(t,e){return(e||q(8)).write_shift(8,t,"f")}function BI(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var c=YI[i];c&&(e.rgb=p1(c));break;case 2:e.rgb=p1([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Ef(t,e){if(e||(e=q(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function UI(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function zI(t,e){e||(e=q(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var z_=2,Yn=3,Kc=11,Tf=19,Yc=64,WI=65,HI=71,VI=4108,$I=4126,nn=80,i1={1:{n:"CodePage",t:z_},2:{n:"Category",t:nn},3:{n:"PresentationFormat",t:nn},4:{n:"ByteCount",t:Yn},5:{n:"LineCount",t:Yn},6:{n:"ParagraphCount",t:Yn},7:{n:"SlideCount",t:Yn},8:{n:"NoteCount",t:Yn},9:{n:"HiddenCount",t:Yn},10:{n:"MultimediaClipCount",t:Yn},11:{n:"ScaleCrop",t:Kc},12:{n:"HeadingPairs",t:VI},13:{n:"TitlesOfParts",t:$I},14:{n:"Manager",t:nn},15:{n:"Company",t:nn},16:{n:"LinksUpToDate",t:Kc},17:{n:"CharacterCount",t:Yn},19:{n:"SharedDoc",t:Kc},22:{n:"HyperlinksChanged",t:Kc},23:{n:"AppVersion",t:Yn,p:"version"},24:{n:"DigSig",t:WI},26:{n:"ContentType",t:nn},27:{n:"ContentStatus",t:nn},28:{n:"Language",t:nn},29:{n:"Version",t:nn},255:{},2147483648:{n:"Locale",t:Tf},2147483651:{n:"Behavior",t:Tf},1919054434:{}},s1={1:{n:"CodePage",t:z_},2:{n:"Title",t:nn},3:{n:"Subject",t:nn},4:{n:"Author",t:nn},5:{n:"Keywords",t:nn},6:{n:"Comments",t:nn},7:{n:"Template",t:nn},8:{n:"LastAuthor",t:nn},9:{n:"RevNumber",t:nn},10:{n:"EditTime",t:Yc},11:{n:"LastPrinted",t:Yc},12:{n:"CreatedDate",t:Yc},13:{n:"ModifiedDate",t:Yc},14:{n:"PageCount",t:Yn},15:{n:"WordCount",t:Yn},16:{n:"CharCount",t:Yn},17:{n:"Thumbnail",t:HI},18:{n:"Application",t:nn},19:{n:"DocSecurity",t:Yn},255:{},2147483648:{n:"Locale",t:Tf},2147483651:{n:"Behavior",t:Tf},1919054434:{}};function GI(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var KI=GI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),YI=Wn(KI),yc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function W_(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function H_(t,e){var n=sI(XI),r=[],i;r[r.length]=Lt,r[r.length]=ge("Types",null,{xmlns:Yt.CT,"xmlns:xsd":Yt.xsd,"xmlns:xsi":Yt.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ge("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],r[r.length]=ge("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Xc[l][e.bookType]||Xc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){r[r.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Xc[l][e.bookType]||Xc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){r[r.length]=ge("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:n[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Je={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function V_(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function qa(t){var e=[Lt,ge("Relationships",null,{xmlns:Yt.RELS})];return cn(t["!id"]).forEach(function(n){e[e.length]=ge("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function it(t,e,n,r,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[Je.HLINK,Je.XPATH,Je.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function qI(t){var e=[Lt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function a1(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function JI(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function QI(t){var e=[Lt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(a1(t[n][0],t[n][1])),e.push(JI("",t[n][0]));return e.push(a1("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function $_(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+xf.version+"</meta:generator></office:meta></office:document-meta>"}var $s=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function sh(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=at(e),r[r.length]=n?ge(t,e,n):sn(t,e))}function G_(t,e){var n=e||{},r=[Lt,ge("cp:coreProperties",null,{"xmlns:cp":Yt.CORE_PROPS,"xmlns:dc":Yt.dc,"xmlns:dcterms":Yt.dcterms,"xmlns:dcmitype":Yt.dcmitype,"xmlns:xsi":Yt.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&sh("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:R0(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&sh("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:R0(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=$s.length;++s){var a=$s[s],o=n.Props&&n.Props[a[1]]!=null?n.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&sh(a[0],o,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ja=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],K_=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Y_(t){var e=[],n=ge;return t||(t={}),t.Application="SheetJS",e[e.length]=Lt,e[e.length]=ge("Properties",null,{xmlns:Yt.EXT_PROPS,"xmlns:vt":Yt.vt}),Ja.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=at(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+at(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function X_(t){var e=[Lt,ge("Properties",null,{xmlns:Yt.CUST_PROPS,"xmlns:vt":Yt.vt})];if(!t)return e.join("");var n=1;return cn(t).forEach(function(i){++n,e[e.length]=ge("property",mI(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:at(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var o1={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ZI(t,e){var n=[];return cn(o1).map(function(r){for(var i=0;i<$s.length;++i)if($s[i][1]==r)return $s[i];for(i=0;i<Ja.length;++i)if(Ja[i][1]==r)return Ja[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(sn(o1[r[1]]||r[1],i))}}),ge("DocumentProperties",n.join(""),{xmlns:Jn.o})}function eD(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&cn(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<$s.length;++a)if(s==$s[a][1])return;for(a=0;a<Ja.length;++a)if(s==Ja[a][1])return;for(a=0;a<n.length;++a)if(s==n[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(ge(Yx(s),o,{"dt:dt":l}))}}),e&&cn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(ge(Yx(s),a,{"dt:dt":o}))}}),"<"+r+' xmlns="'+Jn.o+'">'+i.join("")+"</"+r+">"}function tD(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=q(8);return a.write_shift(4,r),a.write_shift(4,i),a}function l1(t,e){var n=q(4),r=q(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=q(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=tD(e);break;case 31:case 80:for(r=q(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return rn([n,r])}var q_=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function nD(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function c1(t,e,n){var r=q(8),i=[],s=[],a=8,o=0,l=q(8),c=q(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=q(8),c.write_shift(4,0),i.unshift(c);var f=[q(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var d=t[o][0];for(l=q(8+2*(d.length+1)+(d.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,d.length+1),l.write_shift(0,d,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=rn(f),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(q_.indexOf(t[o][0])>-1||K_.indexOf(t[o][0])>-1)&&t[o][1]!=null){var h=t[o][1],p=0;if(e){p=+e[t[o][0]];var m=n[p];if(m.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=l1(m.t,h)}else{var x=nD(h);x==-1&&(x=31,h=String(h)),l=l1(x,h)}s.push(l),c=q(8),c.write_shift(4,e?p:2+o),i.push(c),a+=8+l.length}var y=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,y),y+=s[o].length;return r.write_shift(4,a),r.write_shift(4,s.length),rn([r].concat(i).concat(s))}function u1(t,e,n,r,i,s){var a=q(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,ct.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=c1(t,n,r);if(o.push(l),i){var c=c1(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return rn(o)}function rD(t,e){e||(e=q(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function iD(t,e){return t.read_shift(e)===1}function Tn(t,e){return e||(e=q(2)),e.write_shift(2,+!!t),e}function J_(t){return t.read_shift(2,"u")}function lr(t,e){return e||(e=q(2)),e.write_shift(2,t),e}function Q_(t,e,n){return n||(n=q(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function Z_(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var a=r?t.read_shift(r,i):"";return a}function sD(t){var e=t.t||"",n=q(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=q(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return rn(i)}function aD(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function oD(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):aD(t,r,n)}function lD(t,e,n){if(n.biff>5)return oD(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function ew(t,e,n){return n||(n=q(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function f1(t,e){e||(e=q(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function cD(t){var e=q(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)e.write_shift(4,a[n]);if(s==28)r=r.slice(1),f1(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));var o=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)e.write_shift(2,o.charCodeAt(n));e.write_shift(2,0),s&8&&f1(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)e.write_shift(1,parseInt(a[n],16));for(var l=0;r.slice(l*3,l*3+3)=="../"||r.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)e.write_shift(1,r.charCodeAt(n+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function ra(t,e,n,r){return r||(r=q(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function uD(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),s=t.read_shift(r,"i"),a=t.read_shift(r,"i");return[i,s,a]}function fD(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function tw(t,e){return e||(e=q(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function vg(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=q(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function dD(t,e){var n=!e||e.biff==8,r=q(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function hD(t,e){var n=!e||e.biff>=8?2:1,r=q(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function pD(t,e){var n=q(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=sD(t[i]);var s=rn([n].concat(r));return s.parts=[n.length].concat(r.map(function(a){return a.length})),s}function gD(){var t=q(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function mD(t){var e=q(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function xD(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,s=q(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function vD(t,e,n,r){var i=q(10);return ra(t,e,r,i),i.write_shift(4,n),i}function yD(t,e,n,r,i){var s=!i||i.biff==8,a=q(8+ +s+(1+s)*n.length);return ra(t,e,r,a),a.write_shift(2,n.length),s&&a.write_shift(1,1),a.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),a}function bD(t,e,n,r){var i=n&&n.biff==5;r||(r=q(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function _D(t,e){var n=e.biff==8||!e.biff?4:2,r=q(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function d1(t,e,n,r){var i=n&&n.biff==5;r||(r=q(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function wD(t){var e=q(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function SD(t,e,n,r,i,s){var a=q(8);return ra(t,e,r,a),Q_(n,s,a),a}function kD(t,e,n,r){var i=q(14);return ra(t,e,r,i),na(n,i),i}function ED(t,e,n){if(n.biff<8)return TD(t,e,n);for(var r=[],i=t.l+e,s=t.read_shift(n.biff>8?4:2);s--!==0;)r.push(uD(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function TD(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=Z_(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function CD(t){var e=q(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)tw(t[n],e);return e}function ND(t){var e=q(24),n=Xt(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return rn([e,cD(t[1])])}function AD(t){var e=t[1].Tooltip,n=q(10+2*(e.length+1));n.write_shift(2,2048);var r=Xt(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function ID(t){return t||(t=q(4)),t.write_shift(2,1),t.write_shift(2,1),t}function DD(t,e,n){if(!n.cellStyles)return ei(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),s=t.read_shift(r),a=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(2);r==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}function RD(t,e){var n=q(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function PD(t){for(var e=q(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function MD(t,e,n){var r=q(15);return _c(r,t,e),r.write_shift(8,n,"f"),r}function OD(t,e,n){var r=q(9);return _c(r,t,e),r.write_shift(2,n),r}var jD=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=og({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,l){var c=[],f=ta(1);switch(l.type){case"base64":f=Er(Ci(o));break;case"binary":f=Er(o);break;case"buffer":case"array":f=o;break}qn(f,0);var d=f.read_shift(1),h=!!(d&136),p=!1,m=!1;switch(d){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var g=0,x=521;d==2&&(g=f.read_shift(2)),f.l+=3,d!=2&&(g=f.read_shift(4)),g>1048576&&(g=1e6),d!=2&&(x=f.read_shift(2));var y=f.read_shift(2),v=l.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(v=t[f[f.l]]),f.l+=1,f.l+=2),m&&(f.l+=36);for(var b=[],_={},S=Math.min(f.length,d==2?521:x-10-(p?264:0)),O=m?32:11;f.l<S&&f[f.l]!=13;)switch(_={},_.name=vf.utils.decode(v,f.slice(f.l,f.l+O)).replace(/[\u0000\r\n].*$/g,""),f.l+=O,_.type=String.fromCharCode(f.read_shift(1)),d!=2&&!m&&(_.offset=f.read_shift(4)),_.len=f.read_shift(1),d==2&&(_.offset=f.read_shift(2)),_.dec=f.read_shift(1),_.name.length&&b.push(_),d!=2&&(f.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var k=0,T=0;for(c[0]=[],T=0;T!=b.length;++T)c[0][T]=b[T].name;for(;g-- >0;){if(f[f.l]===42){f.l+=y;continue}for(++f.l,c[++k]=[],T=0,T=0;T!=b.length;++T){var C=f.slice(f.l,f.l+b[T].len);f.l+=b[T].len,qn(C,0);var F=vf.utils.decode(v,C);switch(b[T].type){case"C":F.trim().length&&(c[k][T]=F.replace(/\s+$/,""));break;case"D":F.length===8?c[k][T]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):c[k][T]=F;break;case"F":c[k][T]=parseFloat(F.trim());break;case"+":case"I":c[k][T]=m?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":c[k][T]=!0;break;case"N":case"F":c[k][T]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[k][T]="##MEMO##"+(m?parseInt(F.trim(),10):C.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(c[k][T]=+F||0);break;case"@":c[k][T]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[k][T]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[k][T]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][T]=-C.read_shift(-8,"f");break;case"B":if(p&&b[T].len==8){c[k][T]=C.read_shift(8,"f");break}case"G":case"P":C.l+=b[T].len;break;case"0":if(b[T].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[T].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function r(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var f=wo(n(o,c),c);return f["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,f}function i(o,l){try{return ua(r(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Vl(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var f=Un(),d=Df(o,{header:1,raw:!0,cellDates:!0}),h=d[0],p=d.slice(1),m=o["!cols"]||[],g=0,x=0,y=0,v=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(x=0;x<1024;++x)if(h.indexOf(h[g]+"_"+x)==-1){h[g]+="_"+x;break}}}}var b=vt(o["!ref"]),_=[],S=[],O=[];for(g=0;g<=b.e.c-b.s.c;++g){var k="",T="",C=0,F=[];for(x=0;x<p.length;++x)p[x][g]!=null&&F.push(p[x][g]);if(F.length==0||h[g]==null){_[g]="?";continue}for(x=0;x<F.length;++x){switch(typeof F[x]){case"number":T="B";break;case"string":T="C";break;case"boolean":T="L";break;case"object":T=F[x]instanceof Date?"D":"C";break;default:T="C"}C=Math.max(C,String(F[x]).length),k=k&&k!=T?"C":T}C>250&&(C=250),T=((m[g]||{}).DBF||{}).type,T=="C"&&m[g].DBF.len>C&&(C=m[g].DBF.len),k=="B"&&T=="N"&&(k="N",O[g]=m[g].DBF.dec,C=m[g].DBF.len),S[g]=k=="C"||T=="N"?C:s[k]||0,v+=S[g],_[g]=k}var j=f.next(32);for(j.write_shift(4,318902576),j.write_shift(4,p.length),j.write_shift(2,296+32*y),j.write_shift(2,v),g=0;g<4;++g)j.write_shift(4,0);for(j.write_shift(4,0|(+e[r_]||3)<<8),g=0,x=0;g<h.length;++g)if(h[g]!=null){var U=f.next(32),Z=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,Z,"sbcs"),U.write_shift(1,_[g]=="?"?"C":_[g],"sbcs"),U.write_shift(4,x),U.write_shift(1,S[g]||s[_[g]]||0),U.write_shift(1,O[g]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),x+=S[g]||s[_[g]]||0}var Ee=f.next(264);for(Ee.write_shift(4,13),g=0;g<65;++g)Ee.write_shift(4,0);for(g=0;g<p.length;++g){var le=f.next(v);for(le.write_shift(1,0),x=0;x<h.length;++x)if(h[x]!=null)switch(_[x]){case"L":le.write_shift(1,p[g][x]==null?63:p[g][x]?84:70);break;case"B":le.write_shift(8,p[g][x]||0,"f");break;case"N":var ke="0";for(typeof p[g][x]=="number"&&(ke=p[g][x].toFixed(O[x]||0)),y=0;y<S[x]-ke.length;++y)le.write_shift(1,32);le.write_shift(1,ke,"sbcs");break;case"D":p[g][x]?(le.write_shift(4,("0000"+p[g][x].getFullYear()).slice(-4),"sbcs"),le.write_shift(2,("00"+(p[g][x].getMonth()+1)).slice(-2),"sbcs"),le.write_shift(2,("00"+p[g][x].getDate()).slice(-2),"sbcs")):le.write_shift(8,"00000000","sbcs");break;case"C":var we=String(p[g][x]!=null?p[g][x]:"").slice(0,S[x]);for(le.write_shift(1,we,"sbcs"),y=0;y<S[x]-we.length;++y)le.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),FD=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+cn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(h,p){var m=t[p];return typeof m=="number"?jx(m):m},r=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:jx(g)};t["|"]=254;function i(h,p){switch(p.type){case"base64":return s(Ci(h),p);case"binary":return s(h,p);case"buffer":return s(tt&&Buffer.isBuffer(h)?h.toString("binary"):mc(h),p);case"array":return s(ud(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var m=h.split(/[\n\r]+/),g=-1,x=-1,y=0,v=0,b=[],_=[],S=null,O={},k=[],T=[],C=[],F=0,j;for(+p.codepage>=0&&Vl(+p.codepage);y!==m.length;++y){F=0;var U=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),Z=U.replace(/;;/g,"\0").split(";").map(function(M){return M.replace(/\u0000/g,";")}),Ee=Z[0],le;if(U.length>0)switch(Ee){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Z[1].charAt(0)=="P"&&_.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ke=!1,we=!1,ie=!1,te=!1,fe=-1,ee=-1;for(v=1;v<Z.length;++v)switch(Z[v].charAt(0)){case"A":break;case"X":x=parseInt(Z[v].slice(1))-1,we=!0;break;case"Y":for(g=parseInt(Z[v].slice(1))-1,we||(x=0),j=b.length;j<=g;++j)b[j]=[];break;case"K":le=Z[v].slice(1),le.charAt(0)==='"'?le=le.slice(1,le.length-1):le==="TRUE"?le=!0:le==="FALSE"?le=!1:isNaN(yi(le))?isNaN(Gl(le).getDate())||(le=Nn(le)):(le=yi(le),S!==null&&g_(S)&&(le=y_(le))),ke=!0;break;case"E":te=!0;var D=O5(Z[v].slice(1),{r:g,c:x});b[g][x]=[b[g][x],D];break;case"S":ie=!0,b[g][x]=[b[g][x],"S5S"];break;case"G":break;case"R":fe=parseInt(Z[v].slice(1))-1;break;case"C":ee=parseInt(Z[v].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}if(ke&&(b[g][x]&&b[g][x].length==2?b[g][x][0]=le:b[g][x]=le,S=null),ie){if(te)throw new Error("SYLK shared formula cannot have own formula");var B=fe>-1&&b[fe][ee];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");b[g][x][1]=j5(B[1],{r:g-fe,c:x-ee})}break;case"F":var L=0;for(v=1;v<Z.length;++v)switch(Z[v].charAt(0)){case"X":x=parseInt(Z[v].slice(1))-1,++L;break;case"Y":for(g=parseInt(Z[v].slice(1))-1,j=b.length;j<=g;++j)b[j]=[];break;case"M":F=parseInt(Z[v].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(Z[v].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=Z[v].slice(1).split(" "),j=parseInt(C[0],10);j<=parseInt(C[1],10);++j)F=parseInt(C[2],10),T[j-1]=F===0?{hidden:!0}:{wch:F},yg(T[j-1]);break;case"C":x=parseInt(Z[v].slice(1))-1,T[x]||(T[x]={});break;case"R":g=parseInt(Z[v].slice(1))-1,k[g]||(k[g]={}),F>0?(k[g].hpt=F,k[g].hpx=aw(F)):F===0&&(k[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}L<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+U)}}return k.length>0&&(O["!rows"]=k),T.length>0&&(O["!cols"]=T),p&&p.sheetRows&&(b=b.slice(0,p.sheetRows)),[b,O]}function a(h,p){var m=i(h,p),g=m[0],x=m[1],y=wo(g,p);return cn(x).forEach(function(v){y[v]=x[v]}),y}function o(h,p){return ua(a(h,p),p)}function l(h,p,m,g){var x="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":x+=h.v||0,h.f&&!h.F&&(x+=";E"+_g(h.f,{r:m,c:g}));break;case"b":x+=h.v?"TRUE":"FALSE";break;case"e":x+=h.w||h.v;break;case"d":x+='"'+(h.w||h.v)+'"';break;case"s":x+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function c(h,p){p.forEach(function(m,g){var x="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?x+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Cf(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Nf(m.wpx)),typeof m.wch=="number"&&(x+=Math.round(m.wch))),x.charAt(x.length-1)!=" "&&h.push(x)})}function f(h,p){p.forEach(function(m,g){var x="F;";m.hidden?x+="M0;":m.hpt?x+="M"+20*m.hpt+";":m.hpx&&(x+="M"+20*Af(m.hpx)+";"),x.length>2&&h.push(x+"R"+(g+1))})}function d(h,p){var m=["ID;PWXL;N;E"],g=[],x=vt(h["!ref"]),y,v=Array.isArray(h),b=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&f(m,h["!rows"]),m.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var _=x.s.r;_<=x.e.r;++_)for(var S=x.s.c;S<=x.e.c;++S){var O=lt({r:_,c:S});y=v?(h[_]||[])[S]:h[O],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,_,S))}return m.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:a,from_sheet:d}}(),LD=function(){function t(s,a){switch(a.type){case"base64":return e(Ci(s),a);case"binary":return e(s,a);case"buffer":return e(tt&&Buffer.isBuffer(s)?s.toString("binary"):mc(s),a);case"array":return e(ud(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++l]=[],c=0;continue}if(!(l<0)){var h=o[f].trim().split(","),p=h[0],m=h[1];++f;for(var g=o[f]||"";(g.match(/["]/g)||[]).length&1&&f<o.length-1;)g+=`
`+o[++f];switch(g=g.trim(),+p){case-1:if(g==="BOT"){d[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?d[l][c]=!0:g==="FALSE"?d[l][c]=!1:isNaN(yi(m))?isNaN(Gl(m).getDate())?d[l][c]=m:d[l][c]=Nn(m):d[l][c]=yi(m),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),d[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(d=d.slice(0,a.sheetRows)),d}function n(s,a){return wo(t(s,a),a)}function r(s,a){return ua(n(s,a),a)}var i=function(){var s=function(l,c,f,d,h){l.push(c),l.push(f+","+d),l.push('"'+h.replace(/"/g,'""')+'"')},a=function(l,c,f,d){l.push(c+","+f),l.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(l){var c=[],f=vt(l["!ref"]),d,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,f.e.r-f.s.r+1,""),s(c,"TUPLES",0,f.e.c-f.s.c+1,""),s(c,"DATA",0,0,"");for(var p=f.s.r;p<=f.e.r;++p){a(c,-1,0,"BOT");for(var m=f.s.c;m<=f.e.c;++m){var g=lt({r:p,c:m});if(d=h?(l[p]||[])[m]:l[g],!d){a(c,1,0,"");continue}switch(d.t){case"n":var x=d.w;!x&&d.v!=null&&(x=d.v),x==null?d.f&&!d.F?a(c,1,0,"="+d.f):a(c,1,0,""):a(c,0,x,"V");break;case"b":a(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ps(d.z||Dt[14],zn(Nn(d.v)))),a(c,0,d.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var y=`\r
`,v=c.join(y);return v}}();return{to_workbook:r,to_sheet:n,from_sheet:i}}(),nw=function(){function t(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,h){for(var p=d.split(`
`),m=-1,g=-1,x=0,y=[];x!==p.length;++x){var v=p[x].trim().split(":");if(v[0]==="cell"){var b=Xt(v[1]);if(y.length<=b.r)for(m=y.length;m<=b.r;++m)y[m]||(y[m]=[]);switch(m=b.r,g=b.c,v[2]){case"t":y[m][g]=t(v[3]);break;case"v":y[m][g]=+v[3];break;case"vtf":var _=v[v.length-1];case"vtc":switch(v[3]){case"nl":y[m][g]=!!+v[4];break;default:y[m][g]=+v[4];break}v[2]=="vtf"&&(y[m][g]=[y[m][g],_])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function r(d,h){return wo(n(d,h),h)}function i(d,h){return ua(r(d,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var h=[],p=[],m,g="",x=nr(d["!ref"]),y=Array.isArray(d),v=x.s.r;v<=x.e.r;++v)for(var b=x.s.c;b<=x.e.c;++b)if(g=lt({r:v,c:b}),m=y?(d[v]||[])[b]:d[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(e(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=e(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=e(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=zn(Nn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||ps(m.z||Dt[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function f(d){return[s,a,o,a,c(d),l].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}}(),BD=function(){function t(f,d,h,p,m){m.raw?d[h][p]=f:f===""||(f==="TRUE"?d[h][p]=!0:f==="FALSE"?d[h][p]=!1:isNaN(yi(f))?isNaN(Gl(f).getDate())?d[h][p]=f:d[h][p]=Nn(f):d[h][p]=yi(f))}function e(f,d){var h=d||{},p=[];if(!f||f.length===0)return p;for(var m=f.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var x=10,y=0,v=0;v<=g;++v)y=m[v].indexOf(" "),y==-1?y=m[v].length:y++,x=Math.max(x,y);for(v=0;v<=g;++v){p[v]=[];var b=0;for(t(m[v].slice(0,x).trim(),p,v,b,h),b=1;b<=(m[v].length-x)/10+1;++b)t(m[v].slice(x+(b-1)*10,x+b*10).trim(),p,v,b,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var d={},h=!1,p=0,m=0;p<f.length;++p)(m=f.charCodeAt(p))==34?h=!h:!h&&m in n&&(d[m]=(d[m]||0)+1);m=[];for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&m.push([d[p],p]);if(!m.length){d=r;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&m.push([d[p],p])}return m.sort(function(g,x){return g[0]-x[0]||r[g[1]]-r[x[1]]}),n[m.pop()[1]]||44}function s(f,d){var h=d||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(p=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(p=f.charAt(4),f=f.slice(6)):p=i(f.slice(0,1024)):h&&h.FS?p=h.FS:p=i(f.slice(0,1024));var x=0,y=0,v=0,b=0,_=0,S=p.charCodeAt(0),O=!1,k=0,T=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var C=h.dateNF!=null?tI(h.dateNF):null;function F(){var j=f.slice(b,_),U={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)U.t="z";else if(h.raw)U.t="s",U.v=j;else if(j.trim().length===0)U.t="s",U.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(U.t="s",U.v=j.slice(2,-1).replace(/""/g,'"')):F5(j)?(U.t="n",U.f=j.slice(1)):(U.t="s",U.v=j);else if(j=="TRUE")U.t="b",U.v=!0;else if(j=="FALSE")U.t="b",U.v=!1;else if(!isNaN(v=yi(j)))U.t="n",h.cellText!==!1&&(U.w=j),U.v=v;else if(!isNaN(Gl(j).getDate())||C&&j.match(C)){U.z=h.dateNF||Dt[14];var Z=0;C&&j.match(C)&&(j=nI(j,h.dateNF,j.match(C)||[]),Z=1),h.cellDates?(U.t="d",U.v=Nn(j,Z)):(U.t="n",U.v=zn(Nn(j,Z))),h.cellText!==!1&&(U.w=ps(U.z,U.v instanceof Date?zn(U.v):U.v)),h.cellNF||delete U.z}else U.t="s",U.v=j;if(U.t=="z"||(h.dense?(m[x]||(m[x]=[]),m[x][y]=U):m[lt({c:y,r:x})]=U),b=_+1,T=f.charCodeAt(b),g.e.c<y&&(g.e.c=y),g.e.r<x&&(g.e.r=x),k==S)++y;else if(y=0,++x,h.sheetRows&&h.sheetRows<=x)return!0}e:for(;_<f.length;++_)switch(k=f.charCodeAt(_)){case 34:T===34&&(O=!O);break;case S:case 10:case 13:if(!O&&F())break e;break}return _-b>0&&F(),m["!ref"]=Ft(g),m}function a(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,d):wo(e(f,d),d)}function o(f,d){var h="",p=d.type=="string"?[0,0,0,0]:JO(f,d);switch(d.type){case"base64":h=Ci(f);break;case"binary":h=f;break;case"buffer":d.codepage==65001?h=f.toString("utf8"):d.codepage&&typeof vf<"u"||(h=tt&&Buffer.isBuffer(f)?f.toString("binary"):mc(f));break;case"array":h=ud(f);break;case"string":h=f;break;default:throw new Error("Unrecognized type "+d.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=pl(h.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?h=pl(h):d.type=="binary"&&typeof vf<"u",h.slice(0,19)=="socialcalc:version:"?nw.to_sheet(d.type=="string"?h:pl(h),d):a(h,d)}function l(f,d){return ua(o(f,d),d)}function c(f){for(var d=[],h=vt(f["!ref"]),p,m=Array.isArray(f),g=h.s.r;g<=h.e.r;++g){for(var x=[],y=h.s.c;y<=h.e.c;++y){var v=lt({r:g,c:y});if(p=m?(f[g]||[])[y]:f[v],!p||p.v==null){x.push("          ");continue}for(var b=(p.w||(Ni(p),p.w)||"").slice(0,10);b.length<10;)b+=" ";x.push(b+(y===0?" ":""))}d.push(x.join(""))}return d.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),h1=function(){function t(D,B,L){if(D){qn(D,D.l||0);for(var M=L.Enum||fe;D.l<D.length;){var W=D.read_shift(2),ae=M[W]||M[65535],xe=D.read_shift(2),he=D.l+xe,ce=ae.f&&ae.f(D,xe,L);if(D.l=he,B(ce,ae,W))return}}}function e(D,B){switch(B.type){case"base64":return n(Er(Ci(D)),B);case"binary":return n(Er(D),B);case"buffer":case"array":return n(D,B)}throw"Unsupported type "+B.type}function n(D,B){if(!D)return D;var L=B||{},M=L.dense?[]:{},W="Sheet1",ae="",xe=0,he={},ce=[],Pe=[],Re={s:{r:0,c:0},e:{r:0,c:0}},Ce=L.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)L.Enum=fe,t(D,function(ye,Bt,yt){switch(yt){case 0:L.vers=ye,ye>=4096&&(L.qpro=!0);break;case 6:Re=ye;break;case 204:ye&&(ae=ye);break;case 222:ae=ye;break;case 15:case 51:L.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:yt==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=L.dateNF||Dt[14],L.cellDates&&(ye[1].t="d",ye[1].v=y_(ye[1].v))),L.qpro&&ye[3]>xe&&(M["!ref"]=Ft(Re),he[W]=M,ce.push(W),M=L.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},xe=ye[3],W=ae||"Sheet"+(xe+1),ae="");var _n=L.dense?(M[ye[0].r]||[])[ye[0].c]:M[lt(ye[0])];if(_n){_n.t=ye[1].t,_n.v=ye[1].v,ye[1].z!=null&&(_n.z=ye[1].z),ye[1].f!=null&&(_n.f=ye[1].f);break}L.dense?(M[ye[0].r]||(M[ye[0].r]=[]),M[ye[0].r][ye[0].c]=ye[1]):M[lt(ye[0])]=ye[1];break}},L);else if(D[2]==26||D[2]==14)L.Enum=ee,D[2]==14&&(L.qpro=!0,D.l=0),t(D,function(ye,Bt,yt){switch(yt){case 204:W=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>xe&&(M["!ref"]=Ft(Re),he[W]=M,ce.push(W),M=L.dense?[]:{},Re={s:{r:0,c:0},e:{r:0,c:0}},xe=ye[3],W="Sheet"+(xe+1)),Ce>0&&ye[0].r>=Ce)break;L.dense?(M[ye[0].r]||(M[ye[0].r]=[]),M[ye[0].r][ye[0].c]=ye[1]):M[lt(ye[0])]=ye[1],Re.e.c<ye[0].c&&(Re.e.c=ye[0].c),Re.e.r<ye[0].r&&(Re.e.r=ye[0].r);break;case 27:ye[14e3]&&(Pe[ye[14e3][0]]=ye[14e3][1]);break;case 1537:Pe[ye[0]]=ye[1],ye[0]==xe&&(W=ye[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(M["!ref"]=Ft(Re),he[ae||W]=M,ce.push(ae||W),!Pe.length)return{SheetNames:ce,Sheets:he};for(var Ne={},ft=[],Ze=0;Ze<Pe.length;++Ze)he[ce[Ze]]?(ft.push(Pe[Ze]||ce[Ze]),Ne[Pe[Ze]]=he[Pe[Ze]]||he[ce[Ze]]):(ft.push(Pe[Ze]),Ne[Pe[Ze]]={"!ref":"A1"});return{SheetNames:ft,Sheets:Ne}}function r(D,B){var L=B||{};if(+L.codepage>=0&&Vl(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var M=Un(),W=vt(D["!ref"]),ae=Array.isArray(D),xe=[];me(M,0,s(1030)),me(M,6,l(W));for(var he=Math.min(W.e.r,8191),ce=W.s.r;ce<=he;++ce)for(var Pe=on(ce),Re=W.s.c;Re<=W.e.c;++Re){ce===W.s.r&&(xe[Re]=xn(Re));var Ce=xe[Re]+Pe,Ne=ae?(D[ce]||[])[Re]:D[Ce];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")(Ne.v|0)==Ne.v&&Ne.v>=-32768&&Ne.v<=32767?me(M,13,p(ce,Re,Ne.v)):me(M,14,g(ce,Re,Ne.v));else{var ft=Ni(Ne);me(M,15,d(ce,Re,ft.slice(0,239)))}}return me(M,1),M.end()}function i(D,B){var L=B||{};if(+L.codepage>=0&&Vl(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var M=Un();me(M,0,a(D));for(var W=0,ae=0;W<D.SheetNames.length;++W)(D.Sheets[D.SheetNames[W]]||{})["!ref"]&&me(M,27,te(D.SheetNames[W],ae++));var xe=0;for(W=0;W<D.SheetNames.length;++W){var he=D.Sheets[D.SheetNames[W]];if(!(!he||!he["!ref"])){for(var ce=vt(he["!ref"]),Pe=Array.isArray(he),Re=[],Ce=Math.min(ce.e.r,8191),Ne=ce.s.r;Ne<=Ce;++Ne)for(var ft=on(Ne),Ze=ce.s.c;Ze<=ce.e.c;++Ze){Ne===ce.s.r&&(Re[Ze]=xn(Ze));var ye=Re[Ze]+ft,Bt=Pe?(he[Ne]||[])[Ze]:he[ye];if(!(!Bt||Bt.t=="z"))if(Bt.t=="n")me(M,23,F(Ne,Ze,xe,Bt.v));else{var yt=Ni(Bt);me(M,22,k(Ne,Ze,xe,yt.slice(0,239)))}}++xe}}return me(M,1),M.end()}function s(D){var B=q(2);return B.write_shift(2,D),B}function a(D){var B=q(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var L=0,M=0,W=0,ae=0;ae<D.SheetNames.length;++ae){var xe=D.SheetNames[ae],he=D.Sheets[xe];if(!(!he||!he["!ref"])){++W;var ce=nr(he["!ref"]);L<ce.e.r&&(L=ce.e.r),M<ce.e.c&&(M=ce.e.c)}}return L>8191&&(L=8191),B.write_shift(2,L),B.write_shift(1,W),B.write_shift(1,M),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function o(D,B,L){var M={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&L.qpro?(M.s.c=D.read_shift(1),D.l++,M.s.r=D.read_shift(2),M.e.c=D.read_shift(1),D.l++,M.e.r=D.read_shift(2),M):(M.s.c=D.read_shift(2),M.s.r=D.read_shift(2),B==12&&L.qpro&&(D.l+=2),M.e.c=D.read_shift(2),M.e.r=D.read_shift(2),B==12&&L.qpro&&(D.l+=2),M.s.c==65535&&(M.s.c=M.e.c=M.s.r=M.e.r=0),M)}function l(D){var B=q(8);return B.write_shift(2,D.s.c),B.write_shift(2,D.s.r),B.write_shift(2,D.e.c),B.write_shift(2,D.e.r),B}function c(D,B,L){var M=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(M[0].c=D.read_shift(1),M[3]=D.read_shift(1),M[0].r=D.read_shift(2),D.l+=2):(M[2]=D.read_shift(1),M[0].c=D.read_shift(2),M[0].r=D.read_shift(2)),M}function f(D,B,L){var M=D.l+B,W=c(D,B,L);if(W[1].t="s",L.vers==20768){D.l++;var ae=D.read_shift(1);return W[1].v=D.read_shift(ae,"utf8"),W}return L.qpro&&D.l++,W[1].v=D.read_shift(M-D.l,"cstr"),W}function d(D,B,L){var M=q(7+L.length);M.write_shift(1,255),M.write_shift(2,B),M.write_shift(2,D),M.write_shift(1,39);for(var W=0;W<M.length;++W){var ae=L.charCodeAt(W);M.write_shift(1,ae>=128?95:ae)}return M.write_shift(1,0),M}function h(D,B,L){var M=c(D,B,L);return M[1].v=D.read_shift(2,"i"),M}function p(D,B,L){var M=q(7);return M.write_shift(1,255),M.write_shift(2,B),M.write_shift(2,D),M.write_shift(2,L,"i"),M}function m(D,B,L){var M=c(D,B,L);return M[1].v=D.read_shift(8,"f"),M}function g(D,B,L){var M=q(13);return M.write_shift(1,255),M.write_shift(2,B),M.write_shift(2,D),M.write_shift(8,L,"f"),M}function x(D,B,L){var M=D.l+B,W=c(D,B,L);if(W[1].v=D.read_shift(8,"f"),L.qpro)D.l=M;else{var ae=D.read_shift(2);_(D.slice(D.l,D.l+ae),W),D.l+=ae}return W}function y(D,B,L){var M=B&32768;return B&=-32769,B=(M?D:0)+(B>=8192?B-16384:B),(M?"":"$")+(L?xn(B):on(B))}var v={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,B){qn(D,0);for(var L=[],M=0,W="",ae="",xe="",he="";D.l<D.length;){var ce=D[D.l++];switch(ce){case 0:L.push(D.read_shift(8,"f"));break;case 1:ae=y(B[0].c,D.read_shift(2),!0),W=y(B[0].r,D.read_shift(2),!1),L.push(ae+W);break;case 2:{var Pe=y(B[0].c,D.read_shift(2),!0),Re=y(B[0].r,D.read_shift(2),!1);ae=y(B[0].c,D.read_shift(2),!0),W=y(B[0].r,D.read_shift(2),!1),L.push(Pe+Re+":"+ae+W)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(D.read_shift(2));break;case 6:{for(var Ce="";ce=D[D.l++];)Ce+=String.fromCharCode(ce);L.push('"'+Ce.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:he=L.pop(),xe=L.pop(),L.push(["AND","OR"][ce-20]+"("+xe+","+he+")");break;default:if(ce<32&&b[ce])he=L.pop(),xe=L.pop(),L.push(xe+b[ce]+he);else if(v[ce]){if(M=v[ce][1],M==69&&(M=D[D.l++]),M>L.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+L.join("|")+"|");return}var Ne=L.slice(-M);L.length-=M,L.push(v[ce][0]+"("+Ne.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}L.length==1?B[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function S(D){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=D.read_shift(2),B[3]=D[D.l++],B[0].c=D[D.l++],B}function O(D,B){var L=S(D);return L[1].t="s",L[1].v=D.read_shift(B-4,"cstr"),L}function k(D,B,L,M){var W=q(6+M.length);W.write_shift(2,D),W.write_shift(1,L),W.write_shift(1,B),W.write_shift(1,39);for(var ae=0;ae<M.length;++ae){var xe=M.charCodeAt(ae);W.write_shift(1,xe>=128?95:xe)}return W.write_shift(1,0),W}function T(D,B){var L=S(D);L[1].v=D.read_shift(2);var M=L[1].v>>1;if(L[1].v&1)switch(M&7){case 0:M=(M>>3)*5e3;break;case 1:M=(M>>3)*500;break;case 2:M=(M>>3)/20;break;case 3:M=(M>>3)/200;break;case 4:M=(M>>3)/2e3;break;case 5:M=(M>>3)/2e4;break;case 6:M=(M>>3)/16;break;case 7:M=(M>>3)/64;break}return L[1].v=M,L}function C(D,B){var L=S(D),M=D.read_shift(4),W=D.read_shift(4),ae=D.read_shift(2);if(ae==65535)return M===0&&W===3221225472?(L[1].t="e",L[1].v=15):M===0&&W===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var xe=ae&32768;return ae=(ae&32767)-16446,L[1].v=(1-xe*2)*(W*Math.pow(2,ae+32)+M*Math.pow(2,ae)),L}function F(D,B,L,M){var W=q(14);if(W.write_shift(2,D),W.write_shift(1,L),W.write_shift(1,B),M==0)return W.write_shift(4,0),W.write_shift(4,0),W.write_shift(2,65535),W;var ae=0,xe=0,he=0,ce=0;return M<0&&(ae=1,M=-M),xe=Math.log2(M)|0,M/=Math.pow(2,xe-31),ce=M>>>0,ce&2147483648||(M/=2,++xe,ce=M>>>0),M-=ce,ce|=2147483648,ce>>>=0,M*=Math.pow(2,32),he=M>>>0,W.write_shift(4,he),W.write_shift(4,ce),xe+=16383+(ae?32768:0),W.write_shift(2,xe),W}function j(D,B){var L=C(D);return D.l+=B-14,L}function U(D,B){var L=S(D),M=D.read_shift(4);return L[1].v=M>>6,L}function Z(D,B){var L=S(D),M=D.read_shift(8,"f");return L[1].v=M,L}function Ee(D,B){var L=Z(D);return D.l+=B-10,L}function le(D,B){return D[D.l+B-1]==0?D.read_shift(B,"cstr"):""}function ke(D,B){var L=D[D.l++];L>B-1&&(L=B-1);for(var M="";M.length<L;)M+=String.fromCharCode(D[D.l++]);return M}function we(D,B,L){if(!(!L.qpro||B<21)){var M=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var W=D.read_shift(B-21,"cstr");return[M,W]}}function ie(D,B){for(var L={},M=D.l+B;D.l<M;){var W=D.read_shift(2);if(W==14e3){for(L[W]=[0,""],L[W][0]=D.read_shift(2);D[D.l];)L[W][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return L}function te(D,B){var L=q(5+D.length);L.write_shift(2,14e3),L.write_shift(2,B);for(var M=0;M<D.length;++M){var W=D.charCodeAt(M);L[L.l++]=W>127?95:W}return L[L.l++]=0,L}var fe={0:{n:"BOF",f:J_},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:le},222:{n:"SHEETNAMELP",f:ke},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:T},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ie},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:Z},40:{n:"FORMULA28",f:Ee},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:le},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:we},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}(),UD=/^\s|\s$|[\t\n\r]/;function rw(t,e){if(!e.bookSST)return"";var n=[Lt];n[n.length]=ge("sst",null,{xmlns:_o[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(UD)&&(s+=' xml:space="preserve"'),s+=">"+at(i.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function zD(t){return[t.read_shift(4),t.read_shift(4)]}function WD(t,e){return e||(e=q(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var HD=PI;function VD(t){var e=Un();re(e,159,WD(t));for(var n=0;n<t.length;++n)re(e,19,HD(t[n]));return re(e,160),e.end()}function $D(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function iw(t){var e=0,n,r=$D(t),i=r.length+1,s,a,o,l,c;for(n=ta(i),n[0]=r.length,s=1;s!=i;++s)n[s]=r[s-1];for(s=i-1;s>=0;--s)a=n[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var GD=function(){function t(i,s){switch(s.type){case"base64":return e(Ci(i),s);case"binary":return e(i,s);case"buffer":return e(tt&&Buffer.isBuffer(i)?i.toString("binary"):mc(i),s);case"array":return e(ud(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(f);){switch(m[0]){case"\\cell":var x=f.slice(p,h.lastIndex-m[0].length);if(x[0]==" "&&(x=x.slice(1)),++g,x.length){var y={v:x,t:"s"};Array.isArray(o)?o[d][g]=y:o[lt({r:d,c:g})]=y}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=Ft(c),o}function n(i,s){return ua(t(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=vt(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var d=lt({r:c,c:f});o=l?(i[c]||[])[f]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Ni(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}}();function p1(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var KD=6,bi=KD;function Cf(t){return Math.floor((t+Math.round(128/bi)/256)*bi)}function Nf(t){return Math.floor((t-5)/bi*100+.5)/100}function M0(t){return Math.round((t*bi+5)/bi*256)/256}function yg(t){t.width?(t.wpx=Cf(t.width),t.wch=Nf(t.wpx),t.MDW=bi):t.wpx?(t.wch=Nf(t.wpx),t.width=M0(t.wch),t.MDW=bi):typeof t.wch=="number"&&(t.width=M0(t.wch),t.wpx=Cf(t.width),t.MDW=bi),t.customWidth&&delete t.customWidth}var YD=96,sw=YD;function Af(t){return t*96/sw}function aw(t){return t*sw/96}function XD(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=ge("numFmt",null,{numFmtId:r,formatCode:at(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ge("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function qD(t){var e=[];return e[e.length]=ge("cellXfs",null),t.forEach(function(n){e[e.length]=ge("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ge("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function ow(t,e){var n=[Lt,ge("styleSheet",null,{xmlns:_o[0],"xmlns:vt":Yt.vt})],r;return t.SSF&&(r=XD(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=qD(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function JD(t,e){var n=t.read_shift(2),r=vn(t);return[n,r]}function QD(t,e,n){n||(n=q(6+4*e.length)),n.write_shift(2,t),qt(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function ZD(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=UI(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=t.read_shift(2);switch(s===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(r.underline=a);var o=t.read_shift(1);o>0&&(r.family=o);var l=t.read_shift(1);switch(l>0&&(r.charset=l),t.l++,r.color=BI(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=vn(t),r}function e5(t,e){e||(e=q(25+4*32)),e.write_shift(2,t.sz*20),zI(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Ef(t.color,e);var r=0;return r=2,e.write_shift(1,r),qt(t.name,e),e.length>e.l?e.slice(0,e.l):e}var t5=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],ah,n5=ei;function g1(t,e){e||(e=q(4*3+8*7+16*1)),ah||(ah=og(t5));var n=ah[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(Ef({auto:1},e),Ef({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function r5(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function lw(t,e,n){n||(n=q(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function Oo(t,e){return e||(e=q(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var i5=ei;function s5(t,e){return e||(e=q(51)),e.write_shift(1,0),Oo(null,e),Oo(null,e),Oo(null,e),Oo(null,e),Oo(null,e),e.length>e.l?e.slice(0,e.l):e}function a5(t,e){return e||(e=q(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),kf(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function o5(t,e,n){var r=q(2052);return r.write_shift(4,t),kf(e,r),kf(n,r),r.length>r.l?r.slice(0,r.l):r}function l5(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(re(t,615,Ir(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&re(t,44,QD(i,e[i]))}),re(t,616))}}function c5(t){var e=1;re(t,611,Ir(e)),re(t,43,e5({sz:12,color:{theme:1},name:"Calibri",family:2})),re(t,612)}function u5(t){var e=2;re(t,603,Ir(e)),re(t,45,g1({patternType:"none"})),re(t,45,g1({patternType:"gray125"})),re(t,604)}function f5(t){var e=1;re(t,613,Ir(e)),re(t,46,s5()),re(t,614)}function d5(t){var e=1;re(t,626,Ir(e)),re(t,47,lw({numFmtId:0},65535)),re(t,627)}function h5(t,e){re(t,617,Ir(e.length)),e.forEach(function(n){re(t,47,lw(n,0))}),re(t,618)}function p5(t){var e=1;re(t,619,Ir(e)),re(t,48,a5({xfId:0,name:"Normal"})),re(t,620)}function g5(t){var e=0;re(t,505,Ir(e)),re(t,506)}function m5(t){var e=0;re(t,508,o5(e,"TableStyleMedium9","PivotStyleMedium4")),re(t,509)}function x5(t,e){var n=Un();return re(n,278),l5(n,t.SSF),c5(n),u5(n),f5(n),d5(n),h5(n,e.cellXfs),p5(n),g5(n),m5(n),re(n,279),n.end()}function cw(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[Lt];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function v5(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:vn(t)}}function y5(t){var e=q(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),qt(t.name,e),e.slice(0,e.l)}function b5(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function _5(t){var e=q(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function w5(t,e){var n=q(8+2*e.length);return n.write_shift(4,t),qt(e,n),n.slice(0,n.l)}function S5(t){return t.l+=4,t.read_shift(4)!=0}function k5(t,e){var n=q(8);return n.write_shift(4,t),n.write_shift(4,1),n}function E5(){var t=Un();return re(t,332),re(t,334,Ir(1)),re(t,335,y5({name:"XLDAPR",version:12e4,flags:3496657072})),re(t,336),re(t,339,w5(1,"XLDAPR")),re(t,52),re(t,35,Ir(514)),re(t,4096,Ir(0)),re(t,4097,lr(1)),re(t,36),re(t,53),re(t,340),re(t,337,k5(1)),re(t,51,_5([[1,0]])),re(t,338),re(t,333),t.end()}function uw(){var t=[Lt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function T5(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=lt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var La=1024;function fw(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[ge("xml",null,{"xmlns:v":Jn.v,"xmlns:o":Jn.o,"xmlns:x":Jn.x,"xmlns:mv":Jn.mv}).replace(/\/>/,">"),ge("o:shapelayout",ge("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),ge("v:shapetype",[ge("v:stroke",null,{joinstyle:"miter"}),ge("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];La<t*1e3;)La+=1e3;return e.forEach(function(s){var a=Xt(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ge("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ge("v:fill",l,o),f={on:"t",obscured:"t"};++La,i=i.concat(["<v:shape"+Yl({id:"_x0000_s"+La,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ge("v:shadow",null,f),ge("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",sn("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),sn("x:AutoFill","False"),sn("x:Row",String(a.r)),sn("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function dw(t){var e=[Lt,ge("comments",null,{xmlns:_o[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var s=at(i.a);n.indexOf(s)==-1&&(n.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(l){l.a&&(i=n.indexOf(at(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(sn("t",at(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(sn("t",at(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function C5(t,e,n){var r=[Lt,ge("ThreadedComments",null,{xmlns:Yt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(ge("threadedComment",sn("text",a.t||""),l))})}),r.push("</ThreadedComments>"),r.join("")}function N5(t){var e=[Lt,ge("personList",null,{xmlns:Yt.TCMNT,"xmlns:x":_o[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(ge("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function A5(t){var e={};e.iauthor=t.read_shift(4);var n=pa(t);return e.rfx=n.s,e.ref=lt(n.s),t.l+=16,e}function I5(t,e){return e==null&&(e=q(36)),e.write_shift(4,t[1].iauthor),So(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var D5=vn;function R5(t){return qt(t.slice(0,54))}function P5(t){var e=Un(),n=[];return re(e,628),re(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),re(e,632,R5(i.a)))})}),re(e,631),re(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var s={s:Xt(r[0]),e:Xt(r[0])};re(e,635,I5([s,i])),i.t&&i.t.length>0&&re(e,637,OI(i)),re(e,636),delete i.iauthor})}),re(e,634),re(e,629),e.end()}function M5(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ct.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var hw=["xlsb","xlsm","xlam","biff8","xla"],O5=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?c+=e.r:--c,i+(o?"":"$")+xn(f)+(l?"":"$")+on(c)}return function(i,s){return e=s,i.replace(t,n)}}(),bg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,_g=function(){return function(e,n){return e.replace(bg,function(r,i,s,a,o,l){var c=pg(a)-(s?0:n.c),f=hg(l)-(o?0:n.r),d=f==0?"":o?f+1:"["+f+"]",h=c==0?"":s?c+1:"["+c+"]";return i+"R"+d+"C"+h})}}();function j5(t,e){return t.replace(bg,function(n,r,i,s,a,o){return r+(i=="$"?i+s:xn(pg(s)+e.c))+(a=="$"?a+o:on(hg(o)+e.r))})}function F5(t){return t.length!=1}function Ot(t){t.l+=1}function gs(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function pw(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return gw(t);n.biff==12&&(r=4)}var i=t.read_shift(r),s=t.read_shift(r),a=gs(t),o=gs(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function gw(t){var e=gs(t),n=gs(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function L5(t,e,n){if(n.biff<8)return gw(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),s=gs(t),a=gs(t);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function mw(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return B5(t);var r=t.read_shift(n&&n.biff==12?4:2),i=gs(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function B5(t){var e=gs(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function U5(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function z5(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return W5(t);var i=t.read_shift(r>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function W5(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function H5(t,e,n){var r=(t[t.l++]&96)>>5,i=pw(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function V5(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=pw(t,s,n);return[r,i,a]}function $5(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function G5(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(n)switch(n.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[r,i]}function K5(t,e,n){var r=(t[t.l++]&96)>>5,i=L5(t,e-1,n);return[r,i]}function Y5(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function m1(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function X5(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function q5(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function J5(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function Q5(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function Z5(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function xw(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function eR(t){return t.read_shift(2),xw(t)}function tR(t){return t.read_shift(2),xw(t)}function nR(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=mw(t,0,n);return[r,i]}function rR(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=z5(t,0,n);return[r,i]}function iR(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var s=mw(t,0,n);return[r,i,s]}function sR(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[sP[i],bw[i],r]}function aR(t,e,n){var r=t[t.l++],i=t.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:oR(t);return[i,(s[0]===0?bw:iP)[s[1]]]}function oR(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function lR(t,e,n){t.l+=n&&n.biff==2?3:4}function cR(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function uR(t){return t.l++,yc[t.read_shift(1)]}function fR(t){return t.l++,t.read_shift(2)}function dR(t){return t.l++,t.read_shift(1)!==0}function hR(t){return t.l++,ko(t)}function pR(t,e,n){return t.l++,Z_(t,e-1,n)}function gR(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=iD(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=yc[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=ko(t);break;case 2:n[1]=lD(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function mR(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((n.biff==12?pa:fD)(t));return i}function xR(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=gR(t,n.biff);return a}function vR(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,s=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,s]}function yR(t,e,n){if(n.biff==5)return bR(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[r,i,s]}function bR(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function _R(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function wR(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function SR(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function kR(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[r,i]}var ER=ei,TR=ei,CR=ei;function bc(t,e,n){return t.l+=2,[U5(t)]}function wg(t){return t.l+=6,[]}var NR=bc,AR=wg,IR=wg,DR=bc;function vw(t){return t.l+=2,[J_(t),t.read_shift(2)&1]}var RR=bc,PR=vw,MR=wg,OR=bc,jR=bc,FR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function LR(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=FR[n>>2&31];return{ixti:e,coltype:n&3,rt:a,idx:r,c:i,C:s}}function BR(t){return t.l+=2,[t.read_shift(4)]}function UR(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function zR(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function WR(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function HR(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function VR(t){return t.l+=4,[0,0]}var x1={1:{n:"PtgExp",f:cR},2:{n:"PtgTbl",f:CR},3:{n:"PtgAdd",f:Ot},4:{n:"PtgSub",f:Ot},5:{n:"PtgMul",f:Ot},6:{n:"PtgDiv",f:Ot},7:{n:"PtgPower",f:Ot},8:{n:"PtgConcat",f:Ot},9:{n:"PtgLt",f:Ot},10:{n:"PtgLe",f:Ot},11:{n:"PtgEq",f:Ot},12:{n:"PtgGe",f:Ot},13:{n:"PtgGt",f:Ot},14:{n:"PtgNe",f:Ot},15:{n:"PtgIsect",f:Ot},16:{n:"PtgUnion",f:Ot},17:{n:"PtgRange",f:Ot},18:{n:"PtgUplus",f:Ot},19:{n:"PtgUminus",f:Ot},20:{n:"PtgPercent",f:Ot},21:{n:"PtgParen",f:Ot},22:{n:"PtgMissArg",f:Ot},23:{n:"PtgStr",f:pR},26:{n:"PtgSheet",f:UR},27:{n:"PtgEndSheet",f:zR},28:{n:"PtgErr",f:uR},29:{n:"PtgBool",f:dR},30:{n:"PtgInt",f:fR},31:{n:"PtgNum",f:hR},32:{n:"PtgArray",f:Y5},33:{n:"PtgFunc",f:sR},34:{n:"PtgFuncVar",f:aR},35:{n:"PtgName",f:vR},36:{n:"PtgRef",f:nR},37:{n:"PtgArea",f:H5},38:{n:"PtgMemArea",f:_R},39:{n:"PtgMemErr",f:ER},40:{n:"PtgMemNoMem",f:TR},41:{n:"PtgMemFunc",f:wR},42:{n:"PtgRefErr",f:SR},43:{n:"PtgAreaErr",f:$5},44:{n:"PtgRefN",f:rR},45:{n:"PtgAreaN",f:K5},46:{n:"PtgMemAreaN",f:WR},47:{n:"PtgMemNoMemN",f:HR},57:{n:"PtgNameX",f:yR},58:{n:"PtgRef3d",f:iR},59:{n:"PtgArea3d",f:V5},60:{n:"PtgRefErr3d",f:kR},61:{n:"PtgAreaErr3d",f:G5},255:{}},$R={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},GR={1:{n:"PtgElfLel",f:vw},2:{n:"PtgElfRw",f:OR},3:{n:"PtgElfCol",f:NR},6:{n:"PtgElfRwV",f:jR},7:{n:"PtgElfColV",f:DR},10:{n:"PtgElfRadical",f:RR},11:{n:"PtgElfRadicalS",f:MR},13:{n:"PtgElfColS",f:AR},15:{n:"PtgElfColSV",f:IR},16:{n:"PtgElfRadicalLel",f:PR},25:{n:"PtgList",f:LR},29:{n:"PtgSxName",f:BR},255:{}},KR={0:{n:"PtgAttrNoop",f:VR},1:{n:"PtgAttrSemi",f:Z5},2:{n:"PtgAttrIf",f:J5},4:{n:"PtgAttrChoose",f:X5},8:{n:"PtgAttrGoto",f:q5},16:{n:"PtgAttrSum",f:lR},32:{n:"PtgAttrBaxcel",f:m1},33:{n:"PtgAttrBaxcel",f:m1},64:{n:"PtgAttrSpace",f:eR},65:{n:"PtgAttrSpaceSemi",f:tR},128:{n:"PtgAttrIfError",f:Q5},255:{}};function YR(t,e,n,r){if(r.biff<8)return ei(t,e);for(var i=t.l+e,s=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=xR(t,0,r),s.push(n[a][1]);break;case"PtgMemArea":n[a][2]=mR(t,n[a][1],r),s.push(n[a][2]);break;case"PtgExp":r&&r.biff==12&&(n[a][1][1]=t.read_shift(4),s.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return e=i-t.l,e!==0&&s.push(ei(t,e)),s}function XR(t,e,n){for(var r=t.l+e,i,s,a=[];r!=t.l;)e=r-t.l,s=t[t.l],i=x1[s]||x1[$R[s]],(s===24||s===25)&&(i=(s===24?GR:KR)[t[t.l+1]]),!i||!i.f?ei(t,e):a.push([i.n,i.f(t,e,n)]);return a}function qR(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var JR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function QR(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function yw(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function v1(t,e,n){var r=yw(t,e,n);return r=="#REF"?r:QR(r,n)}function fo(t,e,n,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,c,f,d=0,h=0,p,m="";if(!t[0]||!t[0][0])return"";for(var g=-1,x="",y=0,v=t[0].length;y<v;++y){var b=t[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:x=At(" ",t[0][g][1][1]);break;case 1:x=At("\r",t[0][g][1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}c=c+x,g=-1}o.push(c+JR[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=ml(b[1][1],a,i),o.push(xl(f,s));break;case"PtgRefN":f=n?ml(b[1][1],n,i):b[1][1],o.push(xl(f,s));break;case"PtgRef3d":d=b[1][1],f=ml(b[1][2],a,i),m=v1(r,d,i),o.push(m+"!"+xl(f,s));break;case"PtgFunc":case"PtgFuncVar":var _=b[1][0],S=b[1][1];_||(_=0),_&=127;var O=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=O.shift()),o.push(S+"("+O.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":p=n1(b[1][1],n?{s:n}:a,i),o.push(ih(p,i));break;case"PtgArea":p=n1(b[1][1],a,i),o.push(ih(p,i));break;case"PtgArea3d":d=b[1][1],p=b[1][2],m=v1(r,d,i),o.push(m+"!"+ih(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var k=(r.names||[])[h-1]||(r[0]||[])[h],T=k?k.Name:"SH33TJSNAME"+String(h);T&&T.slice(0,6)=="_xlfn."&&!i.xlfn&&(T=T.slice(6)),o.push(T);break;case"PtgNameX":var C=b[1][1];h=b[1][2];var F;if(i.biff<=5)C<0&&(C=-C),r[C]&&(F=r[C][h]);else{var j="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][h]&&r[C][h].itab>0&&(j=r.SheetNames[r[C][h].itab-1]+"!"):j=r.SheetNames[h-1]+"!"),r[C]&&r[C][h])j+=r[C][h].Name;else if(r[0]&&r[0][h])j+=r[0][h].Name;else{var U=(yw(r,C,i)||"").split(";;");U[h-1]?j=U[h-1]:j+="SH33TJSERRX"}o.push(j);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var Z="(",Ee=")";if(g>=0){switch(x="",t[0][g][1][0]){case 2:Z=At(" ",t[0][g][1][1])+Z;break;case 3:Z=At("\r",t[0][g][1][1])+Z;break;case 4:Ee=At(" ",t[0][g][1][1])+Ee;break;case 5:Ee=At("\r",t[0][g][1][1])+Ee;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(Z+o.pop()+Ee);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:b[1][1],r:b[1][0]};var le={c:n.c,r:n.r};if(r.sharedf[lt(f)]){var ke=r.sharedf[lt(f)];o.push(fo(ke,a,le,r,i))}else{var we=!1;for(l=0;l!=r.arrayf.length;++l)if(c=r.arrayf[l],!(f.c<c[0].s.c||f.c>c[0].e.c)&&!(f.r<c[0].s.r||f.r>c[0].e.r)){o.push(fo(c[1],a,le,r,i)),we=!0;break}we||o.push(b[1])}break;case"PtgArray":o.push("{"+qR(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var ie=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ie.indexOf(t[0][y][0])==-1){b=t[0][g];var te=!0;switch(b[1][0]){case 4:te=!1;case 0:x=At(" ",b[1][1]);break;case 5:te=!1;case 1:x=At("\r",b[1][1]);break;default:if(x="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((te?x:"")+o.pop()+(te?"":x)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function ZR(t){if(t==null){var e=q(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return na(t);return na(0)}function eP(t,e,n,r,i){var s=ra(e,n,i),a=ZR(t.v),o=q(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=q(t.bf.length),f=0;f<t.bf.length;++f)c[f]=t.bf[f];var d=rn([s,a,o,c]);return d}function fd(t,e,n){var r=t.read_shift(4),i=XR(t,r,n),s=t.read_shift(4),a=s>0?YR(t,s,i,n):null;return[i,a]}var tP=fd,dd=fd,nP=fd,rP=fd,iP={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},bw={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sP={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aP(t){var e="of:="+t.replace(bg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function oP(t){return t.replace(/\./,"!")}var vl=typeof Map<"u";function Sg(t,e,n){var r=0,i=t.length;if(n){if(vl?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var s=vl?n.get(e):n[e];r<s.length;++r)if(t[s[r]].t===e)return t.Count++,s[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(vl?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function hd(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(bi=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=Nf(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=M0(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function _w(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Ss(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){m_(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===r)return i;return t[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function lP(t,e,n){if(t&&t["!ref"]){var r=vt(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function cP(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Ft(t[n])+'"/>';return e+"</mergeCells>"}function uP(t,e,n,r,i){var s=!1,a={},o=null;if(r.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[n];try{e.Workbook&&(l=e.Workbook.Sheets[n].CodeName||l)}catch{}s=!0,a.codeName=Kl(at(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+ge("outlinePr",null,c)}!s&&!o||(i[i.length]=ge("sheetPr",o,a))}var fP=["objects","scenarios","selectLockedCells","selectUnlockedCells"],dP=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function hP(t){var e={sheet:1};return fP.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),dP.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=iw(t.password).toString(16).toUpperCase()),ge("sheetProtection",null,e)}function pP(t){return _w(t),ge("pageMargins",null,t)}function gP(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=ge("col",null,hd(i,r)));return n[n.length]="</cols>",n.join("")}function mP(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Ft(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=nr(i);a.s.r==a.e.r&&(a.e.r=nr(e["!ref"]).e.r,i=Ft(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),ge("autoFilter",null,{ref:i})}function xP(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ge("sheetViews",ge("sheetView",null,i),{})}function vP(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=yc[t.v];break;case"d":r&&r.cellDates?i=Nn(t.v,-1).toISOString():(t=Wn(t),t.t="n",i=""+(t.v=zn(Nn(t.v)))),typeof t.z>"u"&&(t.z=Dt[14]);break;default:i=t.v;break}var o=sn("v",at(i)),l={r:e},c=Ss(r.cellXfs,t,r);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=sn("v",""+Sg(r.Strings,t.v,r.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=ge("f",at(t.f),f)+(t.v!=null?o:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(l.cm=1),ge("c",o,l)}function yP(t,e,n,r){var i=[],s=[],a=vt(t["!ref"]),o="",l,c="",f=[],d=0,h=0,p=t["!rows"],m=Array.isArray(t),g={r:c},x,y=-1;for(h=a.s.c;h<=a.e.c;++h)f[h]=xn(h);for(d=a.s.r;d<=a.e.r;++d){for(s=[],c=on(d),h=a.s.c;h<=a.e.c;++h){l=f[h]+c;var v=m?(t[d]||[])[h]:t[l];v!==void 0&&(o=vP(v,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[d])&&(g={r:c},p&&p[d]&&(x=p[d],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=Af(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level)),i[i.length]=ge("row",s.join(""),g))}if(p)for(;d<p.length;++d)p&&p[d]&&(g={r:d+1},x=p[d],x.hidden&&(g.hidden=1),y=-1,x.hpx?y=Af(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(g.ht=y,g.customHeight=1),x.level&&(g.outlineLevel=x.level),i[i.length]=ge("row","",g));return i.join("")}function ww(t,e,n,r){var i=[Lt,ge("worksheet",null,{xmlns:_o[0],"xmlns:r":Yt.r})],s=n.SheetNames[t],a=0,o="",l=n.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",f=vt(c);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),c=Ft(f)}r||(r={}),l["!comments"]=[];var d=[];uP(l,n,t,e,i),i[i.length]=ge("dimension",null,{ref:c}),i[i.length]=xP(l,e,t,n),e.sheetFormat&&(i[i.length]=ge("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=gP(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=yP(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=hP(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=mP(l["!autofilter"],l,n,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=cP(l["!merges"]));var h=-1,p,m=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(m=it(r,-1,at(g[1].Target).replace(/#.*$/,""),Je.HLINK),p["r:id"]="rId"+m),(h=g[1].Target.indexOf("#"))>-1&&(p.location=at(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=at(g[1].Tooltip)),i[i.length]=ge("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=pP(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=sn("ignoredErrors",ge("ignoredError",null,{numberStoredAsText:1,sqref:c}))),d.length>0&&(m=it(r,-1,"../drawings/drawing"+(t+1)+".xml",Je.DRAW),i[i.length]=ge("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=d),l["!comments"].length>0&&(m=it(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Je.VML),i[i.length]=ge("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function bP(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=i/20),n}function _P(t,e,n){var r=q(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var s=320;i.hpx?s=Af(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var d=-1,h=-1,p=f<<10;p<f+1<<10;++p){c.c=p;var m=Array.isArray(n)?(n[c.r]||[])[c.c]:n[lt(c)];m&&(d<0&&(d=p),h=p)}d<0||(++o,r.write_shift(4,d),r.write_shift(4,h))}var g=r.l;return r.l=l,r.write_shift(4,o),r.l=g,r.length>r.l?r.slice(0,r.l):r}function wP(t,e,n,r){var i=_P(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&re(t,0,i)}var SP=pa,kP=So;function EP(){}function TP(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=jI(t),n}function CP(t,e,n){n==null&&(n=q(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return Ef({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),F_(t,n),n.slice(0,n.l)}function NP(t){var e=gr(t);return[e]}function AP(t,e,n){return n==null&&(n=q(8)),fa(e,n)}function IP(t){var e=da(t);return[e]}function DP(t,e,n){return n==null&&(n=q(4)),ha(e,n)}function RP(t){var e=gr(t),n=t.read_shift(1);return[e,n,"b"]}function PP(t,e,n){return n==null&&(n=q(9)),fa(e,n),n.write_shift(1,t.v?1:0),n}function MP(t){var e=da(t),n=t.read_shift(1);return[e,n,"b"]}function OP(t,e,n){return n==null&&(n=q(5)),ha(e,n),n.write_shift(1,t.v?1:0),n}function jP(t){var e=gr(t),n=t.read_shift(1);return[e,n,"e"]}function FP(t,e,n){return n==null&&(n=q(9)),fa(e,n),n.write_shift(1,t.v),n}function LP(t){var e=da(t),n=t.read_shift(1);return[e,n,"e"]}function BP(t,e,n){return n==null&&(n=q(8)),ha(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function UP(t){var e=gr(t),n=t.read_shift(4);return[e,n,"s"]}function zP(t,e,n){return n==null&&(n=q(12)),fa(e,n),n.write_shift(4,e.v),n}function WP(t){var e=da(t),n=t.read_shift(4);return[e,n,"s"]}function HP(t,e,n){return n==null&&(n=q(8)),ha(e,n),n.write_shift(4,e.v),n}function VP(t){var e=gr(t),n=ko(t);return[e,n,"n"]}function $P(t,e,n){return n==null&&(n=q(16)),fa(e,n),na(t.v,n),n}function GP(t){var e=da(t),n=ko(t);return[e,n,"n"]}function KP(t,e,n){return n==null&&(n=q(12)),ha(e,n),na(t.v,n),n}function YP(t){var e=gr(t),n=L_(t);return[e,n,"n"]}function XP(t,e,n){return n==null&&(n=q(12)),fa(e,n),B_(t.v,n),n}function qP(t){var e=da(t),n=L_(t);return[e,n,"n"]}function JP(t,e,n){return n==null&&(n=q(8)),ha(e,n),B_(t.v,n),n}function QP(t){var e=gr(t),n=gg(t);return[e,n,"is"]}function ZP(t){var e=gr(t),n=vn(t);return[e,n,"str"]}function eM(t,e,n){return n==null&&(n=q(12+4*t.v.length)),fa(e,n),qt(t.v,n),n.length>n.l?n.slice(0,n.l):n}function tM(t){var e=da(t),n=vn(t);return[e,n,"str"]}function nM(t,e,n){return n==null&&(n=q(8+4*t.v.length)),ha(e,n),qt(t.v,n),n.length>n.l?n.slice(0,n.l):n}function rM(t,e,n){var r=t.l+e,i=gr(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(n.cellFormula){t.l+=2;var o=dd(t,r-t.l,n);a[3]=fo(o,null,i,n.supbooks,n)}else t.l=r;return a}function iM(t,e,n){var r=t.l+e,i=gr(t);i.r=n["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(n.cellFormula){t.l+=2;var o=dd(t,r-t.l,n);a[3]=fo(o,null,i,n.supbooks,n)}else t.l=r;return a}function sM(t,e,n){var r=t.l+e,i=gr(t);i.r=n["!row"];var s=ko(t),a=[i,s,"n"];if(n.cellFormula){t.l+=2;var o=dd(t,r-t.l,n);a[3]=fo(o,null,i,n.supbooks,n)}else t.l=r;return a}function aM(t,e,n){var r=t.l+e,i=gr(t);i.r=n["!row"];var s=vn(t),a=[i,s,"str"];if(n.cellFormula){t.l+=2;var o=dd(t,r-t.l,n);a[3]=fo(o,null,i,n.supbooks,n)}else t.l=r;return a}var oM=pa,lM=So;function cM(t,e){return e==null&&(e=q(4)),e.write_shift(4,t),e}function uM(t,e){var n=t.l+e,r=pa(t),i=mg(t),s=vn(t),a=vn(t),o=vn(t);t.l=n;var l={rfx:r,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function fM(t,e){var n=q(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));So({s:Xt(t[0]),e:Xt(t[0])},n),xg("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return qt(i||"",n),qt(t[1].Tooltip||"",n),qt("",n),n.slice(0,n.l)}function dM(){}function hM(t,e,n){var r=t.l+e,i=U_(t),s=t.read_shift(1),a=[i];if(a[2]=s,n.cellFormula){var o=tP(t,r-t.l,n);a[1]=o}else t.l=r;return a}function pM(t,e,n){var r=t.l+e,i=pa(t),s=[i];if(n.cellFormula){var a=rP(t,r-t.l,n);s[1]=a,t.l=r}else t.l=r;return s}function gM(t,e,n){n==null&&(n=q(18));var r=hd(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var Sw=["left","right","top","bottom","header","footer"];function mM(t){var e={};return Sw.forEach(function(n){e[n]=ko(t)}),e}function xM(t,e){return e==null&&(e=q(6*8)),_w(t),Sw.forEach(function(n){na(t[n],e)}),e}function vM(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function yM(t,e,n){n==null&&(n=q(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function bM(t){var e=q(24);return e.write_shift(4,4),e.write_shift(4,1),So(t,e),e}function _M(t,e){return e==null&&(e=q(16*4+2)),e.write_shift(2,t.password?iw(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function wM(){}function SM(){}function kM(t,e,n,r,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Wn(e),e.z=e.z||Dt[14],e.v=zn(Nn(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r:n,c:r};switch(l.s=Ss(i.cellXfs,e,i),e.l&&s["!links"].push([lt(l),e.l]),e.c&&s["!comments"].push([lt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Sg(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?re(t,18,HP(e,l)):re(t,7,zP(e,l))):(l.t="str",a?re(t,17,nM(e,l)):re(t,6,eM(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?re(t,13,JP(e,l)):re(t,2,XP(e,l)):a?re(t,16,KP(e,l)):re(t,5,$P(e,l)),!0;case"b":return l.t="b",a?re(t,15,OP(e,l)):re(t,4,PP(e,l)),!0;case"e":return l.t="e",a?re(t,14,BP(e,l)):re(t,3,FP(e,l)),!0}return a?re(t,12,DP(e,l)):re(t,1,AP(e,l)),!0}function EM(t,e,n,r){var i=vt(e["!ref"]||"A1"),s,a="",o=[];re(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=c;++f){a=on(f),wP(t,e,i,f);var d=!1;if(f<=i.e.r)for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(o[h]=xn(h)),s=o[h]+a;var p=l?(e[f]||[])[h]:e[s];if(!p){d=!1;continue}d=kM(t,p,f,h,r,e,d)}}re(t,146)}function TM(t,e){!e||!e["!merges"]||(re(t,177,cM(e["!merges"].length)),e["!merges"].forEach(function(n){re(t,176,lM(n))}),re(t,178))}function CM(t,e){!e||!e["!cols"]||(re(t,390),e["!cols"].forEach(function(n,r){n&&re(t,60,gM(r,n))}),re(t,391))}function NM(t,e){!e||!e["!ref"]||(re(t,648),re(t,649,bM(vt(e["!ref"]))),re(t,650))}function AM(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=it(n,-1,r[1].Target.replace(/#.*$/,""),Je.HLINK);re(t,494,fM(r,i))}}),delete e["!links"]}function IM(t,e,n,r){if(e["!comments"].length>0){var i=it(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Je.VML);re(t,551,xg("rId"+i)),e["!legacy"]=i}}function DM(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Ft(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,o=nr(s);o.s.r==o.e.r&&(o.e.r=nr(e["!ref"]).e.r,s=Ft(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),re(t,161,So(vt(s))),re(t,162)}}function RM(t,e,n){re(t,133),re(t,137,yM(e,n)),re(t,138),re(t,134)}function PM(t,e){e["!protect"]&&re(t,535,_M(e["!protect"]))}function MM(t,e,n,r){var i=Un(),s=n.SheetNames[t],a=n.Sheets[s]||{},o=s;try{n&&n.Workbook&&(o=n.Workbook.Sheets[t].CodeName||o)}catch{}var l=vt(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],re(i,129),(n.vbaraw||a["!outline"])&&re(i,147,CP(o,a["!outline"])),re(i,148,kP(l)),RM(i,a,n.Workbook),CM(i,a),EM(i,a,t,e),PM(i,a),DM(i,a,n,t),TM(i,a),AM(i,a,r),a["!margins"]&&re(i,476,xM(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&NM(i,a),IM(i,a,t,r),re(i,130),i.end()}function OM(t,e){t.l+=10;var n=vn(t);return{name:n}}var jM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function FM(t){return!t.Workbook||!t.Workbook.WBProps?"false":pI(t.Workbook.WBProps.date1904)?"true":"false"}var LM="][*?/\\".split("");function kw(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return LM.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function BM(t,e,n){t.forEach(function(r,i){kw(r);for(var s=0;s<i;++s)if(r==t[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function UM(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];BM(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)lP(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function Ew(t){var e=[Lt];e[e.length]=ge("workbook",null,{xmlns:_o[0],"xmlns:r":Yt.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(jM.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(r[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ge("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:at(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=ge("sheet",null,a)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=ge("definedName",at(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function zM(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=P0(t),n.name=vn(t),n}function WM(t,e){return e||(e=q(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),xg(t.strRelID,e),qt(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function HM(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?vn(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function VM(t,e){e||(e=q(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),F_(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function $M(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=FI(t),a=nP(t,0,n),o=mg(t);t.l=r;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function GM(t,e){re(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};re(t,156,WM(i))}re(t,144)}function KM(t,e){e||(e=q(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return qt("SheetJS",e),qt(xf.version,e),qt(xf.version,e),qt("7262",e),e.length>e.l?e.slice(0,e.l):e}function YM(t,e){e||(e=q(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function XM(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&s==-1&&(s=r);s>i||(re(t,135),re(t,158,YM(i)),re(t,136))}}function qM(t,e){var n=Un();return re(n,131),re(n,128,KM()),re(n,153,VM(t.Workbook&&t.Workbook.WBProps||null)),XM(n,t),GM(n,t),re(n,132),n.end()}function JM(t,e,n){return(e.slice(-4)===".bin"?qM:Ew)(t)}function QM(t,e,n,r,i){return(e.slice(-4)===".bin"?MM:ww)(t,n,r,i)}function ZM(t,e,n){return(e.slice(-4)===".bin"?x5:ow)(t,n)}function eO(t,e,n){return(e.slice(-4)===".bin"?VD:rw)(t,n)}function tO(t,e,n){return(e.slice(-4)===".bin"?P5:dw)(t)}function nO(t){return(t.slice(-4)===".bin"?E5:uw)()}function rO(t,e){var n=[];return t.Props&&n.push(ZI(t.Props,e)),t.Custprops&&n.push(eD(t.Props,t.Custprops)),n.join("")}function iO(){return""}function sO(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ge("NumberFormat",null,{"ss:Format":at(Dt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};n.push(ge("Style",s.join(""),a))}),ge("Styles",n.join(""))}function Tw(t){return ge("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+_g(t.Ref,{r:0,c:0})})}function aO(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(Tw(i)))}return ge("Names",n.join(""))}function oO(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||s.push(Tw(o)))}return s.join("")}function lO(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(ge("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(ge("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(ge("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(ge("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(sn("ProtectContents","True")),t["!protect"].objects&&i.push(sn("ProtectObjects","True")),t["!protect"].scenarios&&i.push(sn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(sn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(sn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":ge("WorksheetOptions",i.join(""),{xmlns:Jn.x})}function cO(t){return t.map(function(e){var n=hI(e.t||""),r=ge("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return ge("Comment",r,{"ss:Author":e.a})}).join("")}function uO(t,e,n,r,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+at(_g(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Xt(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=at(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=at(t.l.Tooltip))),n["!merges"])for(var c=n["!merges"],f=0;f!=c.length;++f)c[f].s.c!=a.c||c[f].s.r!=a.r||(c[f].e.c>c[f].s.c&&(o["ss:MergeAcross"]=c[f].e.c-c[f].s.c),c[f].e.r>c[f].s.r&&(o["ss:MergeDown"]=c[f].e.r-c[f].s.r));var d="",h="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",h=String(t.v);break;case"b":d="Boolean",h=t.v?"1":"0";break;case"e":d="Error",h=yc[t.v];break;case"d":d="DateTime",h=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Dt[14]);break;case"s":d="String",h=dI(t.v||"");break}var p=Ss(r.cellXfs,t,r);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var m=t.v!=null?h:"",g=t.t=="z"?"":'<Data ss:Type="'+d+'">'+m+"</Data>";return(t.c||[]).length>0&&(g+=cO(t.c)),ge("Cell",g,o)}function fO(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=aw(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function dO(t,e,n,r){if(!t["!ref"])return"";var i=vt(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(x,y){yg(x);var v=!!x.width,b=hd(y,x),_={"ss:Index":y+1};v&&(_["ss:Width"]=Cf(b.width)),x.hidden&&(_["ss:Hidden"]="1"),o.push(ge("Column",null,_))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var f=[fO(c,(t["!rows"]||[])[c])],d=i.s.c;d<=i.e.c;++d){var h=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>d)&&!(s[a].s.r>c)&&!(s[a].e.c<d)&&!(s[a].e.r<c)){(s[a].s.c!=d||s[a].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:d},m=lt(p),g=l?(t[c]||[])[d]:t[m];f.push(uO(g,m,t,e,n,r,p))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function hO(t,e,n){var r=[],i=n.SheetNames[t],s=n.Sheets[i],a=s?oO(s,e,t,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?dO(s,e,t,n):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(lO(s,e,t,n)),r.join("")}function pO(t,e){e||(e={}),t.SSF||(t.SSF=Wn(Dt)),t.SSF&&(ld(),od(t.SSF),e.revssf=cd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ss(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(rO(t,e)),n.push(iO()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(ge("Worksheet",hO(r,e,t),{"ss:Name":at(t.SheetNames[r])}));return n[2]=sO(t,e),n[3]=aO(t),Lt+ge("Workbook",n.join(""),{xmlns:Jn.ss,"xmlns:o":Jn.o,"xmlns:x":Jn.x,"xmlns:ss":Jn.ss,"xmlns:dt":Jn.dt,"xmlns:html":Jn.html})}var oh={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function gO(t,e){var n=[],r=[],i=[],s=0,a,o=$x(i1,"n"),l=$x(s1,"n");if(t.Props)for(a=cn(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=cn(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?n:Object.prototype.hasOwnProperty.call(l,a[s])?r:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)q_.indexOf(i[s][0])>-1||K_.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);r.length&&ct.utils.cfb_add(e,"/SummaryInformation",u1(r,oh.SI,l,s1)),(n.length||c.length)&&ct.utils.cfb_add(e,"/DocumentSummaryInformation",u1(n,oh.DSI,o,i1,c.length?c:null,oh.UDI))}function mO(t,e){var n=e||{},r=ct.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return ct.utils.cfb_add(r,i,Cw(t,n)),n.biff==8&&(t.Props||t.Custprops)&&gO(t,r),n.biff==8&&t.vbaraw&&M5(r,ct.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var xO={0:{f:bP},1:{f:NP},2:{f:YP},3:{f:jP},4:{f:RP},5:{f:VP},6:{f:ZP},7:{f:UP},8:{f:aM},9:{f:sM},10:{f:rM},11:{f:iM},12:{f:IP},13:{f:qP},14:{f:LP},15:{f:MP},16:{f:GP},17:{f:tM},18:{f:WP},19:{f:gg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$M},40:{},42:{},43:{f:ZD},44:{f:JD},45:{f:n5},46:{f:i5},47:{f:r5},48:{},49:{f:II},50:{},51:{f:b5},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:DD},62:{f:QP},63:{f:T5},64:{f:wM},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ei,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vM},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:TP},148:{f:SP,p:16},151:{f:dM},152:{},153:{f:HM},154:{},155:{},156:{f:zM},157:{},158:{},159:{T:1,f:zD},160:{T:-1},161:{T:1,f:pa},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oM},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:v5},336:{T:-1},337:{f:S5,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:P0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:ED},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:hM},427:{f:pM},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:mM},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:EP},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uM},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:P0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:D5},633:{T:1},634:{T:-1},635:{T:1,f:A5},636:{T:-1},637:{f:MI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:OM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:SM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function me(t,e,n,r){var i=e;if(!isNaN(i)){var s=r||(n||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&dg(n)&&t.push(n)}}function vO(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return me(t,e,n,i);var s=e;if(!isNaN(s)){for(var a=n.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,s),f.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c;l<i;){for(f=t.next(4),f.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;f.write_shift(2,c),t.push(n.slice(l,l+c)),l+=c}}}function _c(t,e,n){return t||(t=q(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function yO(t,e,n,r){var i=q(9);return _c(i,t,e),Q_(n,r||"b",i),i}function bO(t,e,n){var r=q(8+2*n.length);return _c(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function _O(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?zn(Nn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?me(t,2,OD(n,r,i)):me(t,3,MD(n,r,i));return;case"b":case"e":me(t,5,yO(n,r,e.v,e.t));return;case"s":case"str":me(t,4,bO(n,r,(e.v||"").slice(0,255)));return}me(t,1,_c(null,n,r))}function wO(t,e,n,r){var i=Array.isArray(e),s=vt(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Ft(s)}for(var c=s.s.r;c<=s.e.r;++c){o=on(c);for(var f=s.s.c;f<=s.e.c;++f){c===s.s.r&&(l[f]=xn(f)),a=l[f]+o;var d=i?(e[c]||[])[f]:e[a];d&&_O(t,d,c,f)}}}function SO(t,e){for(var n=e||{},r=Un(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==n.sheet&&(i=s);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return me(r,n.biff==4?1033:n.biff==3?521:9,vg(t,16,n)),wO(r,t.Sheets[t.SheetNames[i]],i,n),me(r,10),r.end()}function kO(t,e,n){me(t,49,xD({sz:12,name:"Arial"},n))}function EO(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&me(t,1054,bD(i,e[i],n))})}function TO(t,e){var n=q(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),me(t,2151,n),n=q(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),tw(vt(e["!ref"]||"A1"),n),n.write_shift(4,4),me(t,2152,n)}function CO(t,e){for(var n=0;n<16;++n)me(t,224,d1({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){me(t,224,d1(r,0,e))})}function NO(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];me(t,440,ND(r)),r[1].Tooltip&&me(t,2048,AD(r))}delete e["!links"]}function AO(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&me(t,125,RD(hd(i,r),i))})}}function IO(t,e,n,r,i){var s=16+Ss(i.cellXfs,e,i);if(e.v==null&&!e.bf){me(t,513,ra(n,r,s));return}if(e.bf)me(t,6,eP(e,n,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?zn(Nn(e.v)):e.v;me(t,515,kD(n,r,a,s));break;case"b":case"e":me(t,517,SD(n,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Sg(i.Strings,e.v,i.revStrings);me(t,253,vD(n,r,o,s))}else me(t,516,yD(n,r,(e.v||"").slice(0,255),s,i));break;default:me(t,513,ra(n,r,s))}}function DO(t,e,n){var r=Un(),i=n.SheetNames[t],s=n.Sheets[i]||{},a=(n||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,f,d="",h=[],p=vt(s["!ref"]||"A1"),m=c?65536:16384;if(p.e.c>255||p.e.r>=m){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}me(r,2057,vg(n,16,e)),me(r,13,lr(1)),me(r,12,lr(100)),me(r,15,Tn(!0)),me(r,17,Tn(!1)),me(r,16,na(.001)),me(r,95,Tn(!0)),me(r,42,Tn(!1)),me(r,43,Tn(!1)),me(r,130,lr(1)),me(r,128,wD()),me(r,131,Tn(!1)),me(r,132,Tn(!1)),c&&AO(r,s["!cols"]),me(r,512,_D(p,e)),c&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){d=on(g);for(var x=p.s.c;x<=p.e.c;++x){g===p.s.r&&(h[x]=xn(x)),f=h[x]+d;var y=l?(s[g]||[])[x]:s[f];y&&(IO(r,y,g,x,e),c&&y.l&&s["!links"].push([f,y.l]))}}var v=o.CodeName||o.name||i;return c&&me(r,574,mD((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&me(r,229,CD(s["!merges"])),c&&NO(r,s),me(r,442,ew(v)),c&&TO(r,s),me(r,10),r.end()}function RO(t,e,n){var r=Un(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=n.biff==8,l=n.biff==5;if(me(r,2057,vg(t,5,n)),n.bookType=="xla"&&me(r,135),me(r,225,o?lr(1200):null),me(r,193,rD(2)),l&&me(r,191),l&&me(r,192),me(r,226),me(r,92,dD("SheetJS",n)),me(r,66,lr(o?1200:1252)),o&&me(r,353,lr(0)),o&&me(r,448),me(r,317,PD(t.SheetNames.length)),o&&t.vbaraw&&me(r,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";me(r,442,ew(c))}me(r,156,lr(17)),me(r,25,Tn(!1)),me(r,18,Tn(!1)),me(r,19,lr(0)),o&&me(r,431,Tn(!1)),o&&me(r,444,lr(0)),me(r,61,gD()),me(r,64,Tn(!1)),me(r,141,lr(0)),me(r,34,Tn(FM(t)=="true")),me(r,14,Tn(!0)),o&&me(r,439,Tn(!1)),me(r,218,lr(0)),kO(r,t,n),EO(r,t.SSF,n),CO(r,n),o&&me(r,352,Tn(!1));var f=r.end(),d=Un();o&&me(d,140,ID()),o&&n.Strings&&vO(d,252,pD(n.Strings)),me(d,10);var h=d.end(),p=Un(),m=0,g=0;for(g=0;g<t.SheetNames.length;++g)m+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var x=f.length+m+h.length;for(g=0;g<t.SheetNames.length;++g){var y=s[g]||{};me(p,133,hD({pos:x,hs:y.Hidden||0,dt:0,name:t.SheetNames[g]},n)),x+=e[g].length}var v=p.end();if(m!=v.length)throw new Error("BS8 "+m+" != "+v.length);var b=[];return f.length&&b.push(f),v.length&&b.push(v),h.length&&b.push(h),rn(b)}function PO(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Wn(Dt)),t&&t.SSF&&(ld(),od(t.SSF),n.revssf=cd(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,kg(n),n.cellXfs=[],Ss(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=DO(i,n,t);return r.unshift(RO(t,r,n)),rn(r)}function Cw(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=nr(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return PO(t,e);case 4:case 3:case 2:return SO(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function MO(t,e,n,r){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a)&&!(i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var f=lt({r:n,c:a}),d=r.dense?(t[n]||[])[a]:t[f],h=d&&d.v!=null&&(d.h||fI(d.w||(Ni(d),d.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":d&&(p["data-t"]=d&&d.t||"z",d.v!=null&&(p["data-v"]=d.v),d.z!=null&&(p["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+d.l.Target+'">'+h+"</a>")),p.id=(r.id||"sjs")+"-"+f,s.push(ge("td",h,p))}}var m="<tr>";return m+s.join("")+"</tr>"}var OO='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',jO="</body></html>";function FO(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function Nw(t,e){var n=e||{},r=n.header!=null?n.header:OO,i=n.footer!=null?n.footer:jO,s=[r],a=nr(t["!ref"]);n.dense=Array.isArray(t),s.push(FO(t,a,n));for(var o=a.s.r;o<=a.e.r;++o)s.push(MO(t,a,o,n));return s.push("</table>"+i),s.join("")}function Aw(t,e,n){var r=n||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?Xt(r.origin):r.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var f=nr(t["!ref"]);c.s.r=Math.min(c.s.r,f.s.r),c.s.c=Math.min(c.s.c,f.s.c),c.e.r=Math.max(c.e.r,f.e.r),c.e.c=Math.max(c.e.c,f.e.c),i==-1&&(c.e.r=i=f.e.r+1)}var d=[],h=0,p=t["!rows"]||(t["!rows"]=[]),m=0,g=0,x=0,y=0,v=0,b=0;for(t["!cols"]||(t["!cols"]=[]);m<o.length&&g<l;++m){var _=o[m];if(y1(_)){if(r.display)continue;p[g]={hidden:!0}}var S=_.children;for(x=y=0;x<S.length;++x){var O=S[x];if(!(r.display&&y1(O))){var k=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):gI(O.innerHTML),T=O.getAttribute("data-z")||O.getAttribute("z");for(h=0;h<d.length;++h){var C=d[h];C.s.c==y+s&&C.s.r<g+i&&g+i<=C.e.r&&(y=C.e.c+1-s,h=-1)}b=+O.getAttribute("colspan")||1,((v=+O.getAttribute("rowspan")||1)>1||b>1)&&d.push({s:{r:g+i,c:y+s},e:{r:g+i+(v||1)-1,c:y+s+(b||1)-1}});var F={t:"s",v:k},j=O.getAttribute("data-t")||O.getAttribute("t")||"";k!=null&&(k.length==0?F.t=j||"z":r.raw||k.trim().length==0||j=="s"||(k==="TRUE"?F={t:"b",v:!0}:k==="FALSE"?F={t:"b",v:!1}:isNaN(yi(k))?isNaN(Gl(k).getDate())||(F={t:"d",v:Nn(k)},r.cellDates||(F={t:"n",v:zn(F.v)}),F.z=r.dateNF||Dt[14]):F={t:"n",v:yi(k)})),F.z===void 0&&T!=null&&(F.z=T);var U="",Z=O.getElementsByTagName("A");if(Z&&Z.length)for(var Ee=0;Ee<Z.length&&!(Z[Ee].hasAttribute("href")&&(U=Z[Ee].getAttribute("href"),U.charAt(0)!="#"));++Ee);U&&U.charAt(0)!="#"&&(F.l={Target:U}),r.dense?(t[g+i]||(t[g+i]=[]),t[g+i][y+s]=F):t[lt({c:y+s,r:g+i})]=F,c.e.c<y+s&&(c.e.c=y+s),y+=b}}++g}return d.length&&(t["!merges"]=(t["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,g-1+i),t["!ref"]=Ft(c),g>=l&&(t["!fullref"]=Ft((c.e.r=o.length-m+g-1+i,c))),t}function Iw(t,e){var n=e||{},r=n.dense?[]:{};return Aw(r,t,e)}function LO(t,e){return ua(Iw(t,e),e)}function y1(t){var e="",n=BO(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function BO(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var UO=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Yl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Lt+e}}(),b1=function(){var t=function(s){return at(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,a,o){var l=[];l.push('      <table:table table:name="'+at(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,f=0,d=nr(s["!ref"]||"A1"),h=s["!merges"]||[],p=0,m=Array.isArray(s);if(s["!cols"])for(f=0;f<=d.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var g="",x=s["!rows"]||[];for(c=0;c<d.s.r;++c)g=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=d.e.r;++c){for(g=x[c]?' table:style-name="ro'+x[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),f=0;f<d.s.c;++f)l.push(e);for(;f<=d.e.c;++f){var y=!1,v={},b="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>f)&&!(h[p].s.r>c)&&!(h[p].e.c<f)&&!(h[p].e.r<c)){(h[p].s.c!=f||h[p].s.r!=c)&&(y=!0),v["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,v["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){l.push(n);continue}var _=lt({r:c,c:f}),S=m?(s[c]||[])[f]:s[_];if(S&&S.f&&(v["table:formula"]=at(aP(S.f)),S.F&&S.F.slice(0,_.length)==_)){var O=nr(S.F);v["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,v["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!S){l.push(e);continue}switch(S.t){case"b":b=S.v?"TRUE":"FALSE",v["office:value-type"]="boolean",v["office:boolean-value"]=S.v?"true":"false";break;case"n":b=S.w||String(S.v||0),v["office:value-type"]="float",v["office:value"]=S.v||0;break;case"s":case"str":b=S.v==null?"":S.v,v["office:value-type"]="string";break;case"d":b=S.w||Nn(S.v).toISOString(),v["office:value-type"]="date",v["office:date-value"]=Nn(S.v).toISOString(),v["table:style-name"]="ce1";break;default:l.push(e);continue}var k=t(b);if(S.l&&S.l.Target){var T=S.l.Target;T=T.charAt(0)=="#"?"#"+oP(T.slice(1)):T,T.charAt(0)!="#"&&!T.match(/^\w+:/)&&(T="../"+T),k=ge("text:a",k,{"xlink:href":T.replace(/&/g,"&amp;")})}l.push("          "+ge("table:table-cell",ge("text:p",k,{}),v)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var f=0;f<c["!cols"].length;++f)if(c["!cols"][f]){var d=c["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;yg(d),d.ods=o;var h=c["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var f=0;f<c["!rows"].length;++f)if(c["!rows"][f]){c["!rows"][f].ods=l;var d=c["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Lt],c=Yl({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=Yl({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+f+`>
`),l.push($_().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var d=0;d!=a.SheetNames.length;++d)l.push(r(a.Sheets[a.SheetNames[d]],a,d));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Dw(t,e){if(e.bookType=="fods")return b1(t,e);var n=lg(),r="",i=[],s=[];return r="mimetype",Le(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Le(n,r,b1(t,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Le(n,r,UO(t,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Le(n,r,Lt+$_()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Le(n,r,QI(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Le(n,r,qI(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function If(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function zO(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Er(Kl(t))}function WO(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ms(t){var e=t.reduce(function(i,s){return i+s.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function HO(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=n>=0?0:128}function Xl(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function rt(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Qa(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Ht(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=Xl(t,n),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=n[0];t[n[0]++]>=128;);o=t.slice(l,n[0])}break;case 5:a=4,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=Xl(t,n),o=t.slice(n[0],n[0]+a),n[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function en(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(rt(r*8+i.type)),i.type==2&&e.push(rt(i.data.length)),e.push(i.data))})}),ms(e)}function br(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=Xl(t,r),s=Ht(t.slice(r[0],r[0]+i));r[0]+=i;var a={id:Qa(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Ht(o.data),c=Qa(l[3][0].data);a.messages.push({meta:l,data:t.slice(r[0],r[0]+c)}),r[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=Qa(s[3][0].data)>>>0>0),n.push(a)}return n}function ba(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:rt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:rt(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:rt(a.data.length)}],r[2].push({data:en(a.meta),type:2})});var s=en(r);e.push(rt(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ms(e)}function VO(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=Xl(e,n),i=[];n[0]<e.length;){var s=e[n[0]]&3;if(s==0){var a=e[n[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[n[0]],o>1&&(a|=e[n[0]+1]<<8),o>2&&(a|=e[n[0]+2]<<16),o>3&&(a|=e[n[0]+3]<<24),a>>>=0,a++,n[0]+=o}i.push(e.slice(n[0],n[0]+a)),n[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[n[0]]>>2&7)+4,l=(e[n[0]++]&224)<<3,l|=e[n[0]++]):(c=(e[n[0]++]>>2)+1,s==2?(l=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(l=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[ms(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var f=ms(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function _r(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(VO(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ms(e)}function _a(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var s=rt(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return ms(e)}function lh(t,e){var n=new Uint8Array(32),r=If(n),i=12,s=0;switch(n[0]=5,t.t){case"n":n[1]=2,HO(n,i,t.v),s|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,s,!0),n.slice(0,i)}function ch(t,e){var n=new Uint8Array(32),r=If(n),i=12,s=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,s,!0),n.slice(0,i)}function ji(t){var e=Ht(t);return Xl(e[1][0].data)}function $O(t,e,n){var r,i,s,a;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Qa(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=If(t[7][0].data),f=0,d=[],h=If(t[4][0].data),p=0,m=[],g=0;g<e.length;++g){if(e[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,f,!0),h.setUint16(g*2,p,!0);var x,y;switch(typeof e[g]){case"string":x=lh({t:"s",v:e[g]},n),y=ch({t:"s",v:e[g]},n);break;case"number":x=lh({t:"n",v:e[g]},n),y=ch({t:"n",v:e[g]},n);break;case"boolean":x=lh({t:"b",v:e[g]},n),y=ch({t:"b",v:e[g]},n);break;default:throw new Error("Unsupported value "+e[g])}d.push(x),f+=x.length,m.push(y),p+=y.length,++l}for(t[2][0].data=rt(l);g<t[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return t[6][0].data=ms(d),t[3][0].data=ms(m),l}function GO(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=nr(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Ft(r)));var s=Df(n,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(B){return B.forEach(function(L){typeof L=="string"&&a.push(L)})});var o={},l=[],c=ct.read(e.numbers,{type:"base64"});c.FileIndex.map(function(B,L){return[B,c.FullPaths[L]]}).forEach(function(B){var L=B[0],M=B[1];if(L.type==2&&L.name.match(/\.iwa/)){var W=L.content,ae=_r(W),xe=br(ae);xe.forEach(function(he){l.push(he.id),o[he.id]={deps:[],location:M,type:Qa(he.messages[0].meta[1][0].data)}})}}),l.sort(function(B,L){return B-L});var f=l.filter(function(B){return B>1}).map(function(B){return[B,rt(B)]});c.FileIndex.map(function(B,L){return[B,c.FullPaths[L]]}).forEach(function(B){var L=B[0];if(B[1],!!L.name.match(/\.iwa/)){var M=br(_r(L.content));M.forEach(function(W){W.messages.forEach(function(ae){f.forEach(function(xe){W.messages.some(function(he){return Qa(he.meta[1][0].data)!=11006&&WO(he.data,xe[1])})&&o[xe[0]].deps.push(W.id)})})})}});for(var d=ct.find(c,o[1].location),h=br(_r(d.content)),p,m=0;m<h.length;++m){var g=h[m];g.id==1&&(p=g)}var x=ji(Ht(p.messages[0].data)[1][0].data);for(d=ct.find(c,o[x].location),h=br(_r(d.content)),m=0;m<h.length;++m)g=h[m],g.id==x&&(p=g);for(x=ji(Ht(p.messages[0].data)[2][0].data),d=ct.find(c,o[x].location),h=br(_r(d.content)),m=0;m<h.length;++m)g=h[m],g.id==x&&(p=g);for(x=ji(Ht(p.messages[0].data)[2][0].data),d=ct.find(c,o[x].location),h=br(_r(d.content)),m=0;m<h.length;++m)g=h[m],g.id==x&&(p=g);var y=Ht(p.messages[0].data);{y[6][0].data=rt(r.e.r+1),y[7][0].data=rt(r.e.c+1);var v=ji(y[46][0].data),b=ct.find(c,o[v].location),_=br(_r(b.content));{for(var S=0;S<_.length&&_[S].id!=v;++S);if(_[S].id!=v)throw"Bad ColumnRowUIDMapArchive";var O=Ht(_[S].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var k=0;k<=r.e.c;++k){var T=[];T[1]=T[2]=[{type:0,data:rt(k+420690)}],O[1].push({type:2,data:en(T)}),O[2].push({type:0,data:rt(k)}),O[3].push({type:0,data:rt(k)})}O[4]=[],O[5]=[],O[6]=[];for(var C=0;C<=r.e.r;++C)T=[],T[1]=T[2]=[{type:0,data:rt(C+726270)}],O[4].push({type:2,data:en(T)}),O[5].push({type:0,data:rt(C)}),O[6].push({type:0,data:rt(C)});_[S].messages[0].data=en(O)}b.content=_a(ba(_)),b.size=b.content.length,delete y[46];var F=Ht(y[4][0].data);{F[7][0].data=rt(r.e.r+1);var j=Ht(F[1][0].data),U=ji(j[2][0].data);b=ct.find(c,o[U].location),_=br(_r(b.content));{if(_[0].id!=U)throw"Bad HeaderStorageBucket";var Z=Ht(_[0].messages[0].data);for(C=0;C<s.length;++C){var Ee=Ht(Z[2][0].data);Ee[1][0].data=rt(C),Ee[4][0].data=rt(s[C].length),Z[2][C]={type:Z[2][0].type,data:en(Ee)}}_[0].messages[0].data=en(Z)}b.content=_a(ba(_)),b.size=b.content.length;var le=ji(F[2][0].data);b=ct.find(c,o[le].location),_=br(_r(b.content));{if(_[0].id!=le)throw"Bad HeaderStorageBucket";for(Z=Ht(_[0].messages[0].data),k=0;k<=r.e.c;++k)Ee=Ht(Z[2][0].data),Ee[1][0].data=rt(k),Ee[4][0].data=rt(r.e.r+1),Z[2][k]={type:Z[2][0].type,data:en(Ee)};_[0].messages[0].data=en(Z)}b.content=_a(ba(_)),b.size=b.content.length;var ke=ji(F[4][0].data);(function(){for(var B=ct.find(c,o[ke].location),L=br(_r(B.content)),M,W=0;W<L.length;++W){var ae=L[W];ae.id==ke&&(M=ae)}var xe=Ht(M.messages[0].data);{xe[3]=[];var he=[];a.forEach(function(Re,Ce){he[1]=[{type:0,data:rt(Ce)}],he[2]=[{type:0,data:rt(1)}],he[3]=[{type:2,data:zO(Re)}],xe[3].push({type:2,data:en(he)})})}M.messages[0].data=en(xe);var ce=ba(L),Pe=_a(ce);B.content=Pe,B.size=B.content.length})();var we=Ht(F[3][0].data);{var ie=we[1][0];delete we[2];var te=Ht(ie.data);{var fe=ji(te[2][0].data);(function(){for(var B=ct.find(c,o[fe].location),L=br(_r(B.content)),M,W=0;W<L.length;++W){var ae=L[W];ae.id==fe&&(M=ae)}var xe=Ht(M.messages[0].data);{delete xe[6],delete we[7];var he=new Uint8Array(xe[5][0].data);xe[5]=[];for(var ce=0,Pe=0;Pe<=r.e.r;++Pe){var Re=Ht(he);ce+=$O(Re,s[Pe],a),Re[1][0].data=rt(Pe),xe[5].push({data:en(Re),type:2})}xe[1]=[{type:0,data:rt(r.e.c+1)}],xe[2]=[{type:0,data:rt(r.e.r+1)}],xe[3]=[{type:0,data:rt(ce)}],xe[4]=[{type:0,data:rt(r.e.r+1)}]}M.messages[0].data=en(xe);var Ce=ba(L),Ne=_a(Ce);B.content=Ne,B.size=B.content.length})()}ie.data=en(te)}F[3][0].data=en(we)}y[4][0].data=en(F)}p.messages[0].data=en(y);var ee=ba(h),D=_a(ee);return d.content=D,d.size=d.content.length,c}function KO(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function kg(t){KO([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function YO(t,e){return e.bookType=="ods"?Dw(t,e):e.bookType=="numbers"?GO(t,e):e.bookType=="xlsb"?XO(t,e):qO(t,e)}function XO(t,e){La=1024,t&&!t.SSF&&(t.SSF=Wn(Dt)),t&&t.SSF&&(ld(),od(t.SSF),e.revssf=cd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=hw.indexOf(e.bookType)>-1,i=W_();kg(e=e||{});var s=lg(),a="",o=0;if(e.cellXfs=[],Ss(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,G_(t.Props,e)),i.coreprops.push(a),it(e.rels,2,a,Je.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,Y_(t.Props)),i.extprops.push(a),it(e.rels,3,a,Je.EXT_PROPS),t.Custprops!==t.Props&&cn(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,X_(t.Custprops)),i.custprops.push(a),it(e.rels,4,a,Je.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,Le(s,a,QM(o-1,a,e,t,f)),i.sheets.push(a),it(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Je.WS[0])}if(d){var p=d["!comments"],m=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+n,Le(s,g,tO(p,g)),i.comments.push(g),it(f,-1,"../comments"+o+"."+n,Je.CMNT),m=!0),d["!legacy"]&&m&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",fw(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Le(s,V_(a),qa(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,Le(s,a,eO(e.Strings,a,e)),i.strs.push(a),it(e.wbrels,-1,"sharedStrings."+n,Je.SST)),a="xl/workbook."+n,Le(s,a,JM(t,a)),i.workbooks.push(a),it(e.rels,1,a,Je.WB),a="xl/theme/theme1.xml",Le(s,a,cw(t.Themes,e)),i.themes.push(a),it(e.wbrels,-1,"theme/theme1.xml",Je.THEME),a="xl/styles."+n,Le(s,a,ZM(t,a,e)),i.styles.push(a),it(e.wbrels,-1,"styles."+n,Je.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),it(e.wbrels,-1,"vbaProject.bin",Je.VBA)),a="xl/metadata."+n,Le(s,a,nO(a)),i.metadata.push(a),it(e.wbrels,-1,"metadata."+n,Je.XLMETA),Le(s,"[Content_Types].xml",H_(i,e)),Le(s,"_rels/.rels",qa(e.rels)),Le(s,"xl/_rels/workbook."+n+".rels",qa(e.wbrels)),delete e.revssf,delete e.ssf,s}function qO(t,e){La=1024,t&&!t.SSF&&(t.SSF=Wn(Dt)),t&&t.SSF&&(ld(),od(t.SSF),e.revssf=cd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,vl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=hw.indexOf(e.bookType)>-1,i=W_();kg(e=e||{});var s=lg(),a="",o=0;if(e.cellXfs=[],Ss(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Le(s,a,G_(t.Props,e)),i.coreprops.push(a),it(e.rels,2,a,Je.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Le(s,a,Y_(t.Props)),i.extprops.push(a),it(e.rels,3,a,Je.EXT_PROPS),t.Custprops!==t.Props&&cn(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Le(s,a,X_(t.Custprops)),i.custprops.push(a),it(e.rels,4,a,Je.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+n,Le(s,a,ww(o-1,e,t,d)),i.sheets.push(a),it(e.wbrels,-1,"worksheets/sheet"+o+"."+n,Je.WS[0])}if(h){var m=h["!comments"],g=!1,x="";if(m&&m.length>0){var y=!1;m.forEach(function(v){v[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+o+"."+n,Le(s,x,C5(m,f,e)),i.threadedcomments.push(x),it(d,-1,"../threadedComments/threadedComment"+o+"."+n,Je.TCMNT)),x="xl/comments"+o+"."+n,Le(s,x,dw(m)),i.comments.push(x),it(d,-1,"../comments"+o+"."+n,Je.CMNT),g=!0}h["!legacy"]&&g&&Le(s,"xl/drawings/vmlDrawing"+o+".vml",fw(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Le(s,V_(a),qa(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+n,Le(s,a,rw(e.Strings,e)),i.strs.push(a),it(e.wbrels,-1,"sharedStrings."+n,Je.SST)),a="xl/workbook."+n,Le(s,a,Ew(t)),i.workbooks.push(a),it(e.rels,1,a,Je.WB),a="xl/theme/theme1.xml",Le(s,a,cw(t.Themes,e)),i.themes.push(a),it(e.wbrels,-1,"theme/theme1.xml",Je.THEME),a="xl/styles."+n,Le(s,a,ow(t,e)),i.styles.push(a),it(e.wbrels,-1,"styles."+n,Je.STY),t.vbaraw&&r&&(a="xl/vbaProject.bin",Le(s,a,t.vbaraw),i.vba.push(a),it(e.wbrels,-1,"vbaProject.bin",Je.VBA)),a="xl/metadata."+n,Le(s,a,uw()),i.metadata.push(a),it(e.wbrels,-1,"metadata."+n,Je.XLMETA),f.length>1&&(a="xl/persons/person.xml",Le(s,a,N5(f)),i.people.push(a),it(e.wbrels,-1,"persons/person.xml",Je.PEOPLE)),Le(s,"[Content_Types].xml",H_(i,e)),Le(s,"_rels/.rels",qa(e.rels)),Le(s,"xl/_rels/workbook."+n+".rels",qa(e.wbrels)),delete e.revssf,delete e.ssf,s}function JO(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=Ci(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function Rw(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return xc(e.file,ct.write(t,{type:tt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ct.write(t,e)}function QO(t,e){var n=Wn(e||{}),r=YO(t,n);return ZO(r,n)}function ZO(t,e){var n={},r=tt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?ct.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(ad(i))}return e.password&&typeof encrypt_agile<"u"?Rw(encrypt_agile(i,e.password),e):e.type==="file"?xc(e.file,i):e.type=="string"?pl(i):i}function ej(t,e){var n=e||{},r=mO(t,n);return Rw(r,n)}function Vr(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return $l(Kl(r));case"binary":return Kl(r);case"string":return t;case"file":return xc(e.file,r,"utf8");case"buffer":return tt?Ri(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Vr(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tj(t,e){switch(e.type){case"base64":return $l(t);case"binary":return t;case"string":return t;case"file":return xc(e.file,t,"binary");case"buffer":return tt?Ri(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?$l(n):e.type=="string"?pl(n):n;case"file":return xc(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function Pw(t,e){AA(),UM(t);var n=Wn(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=Pw(t,n);return n.type="array",ad(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return Vr(pO(t,n),n);case"slk":case"sylk":return Vr(FD.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return Vr(Nw(t.Sheets[t.SheetNames[i]],n),n);case"txt":return tj(Mw(t.Sheets[t.SheetNames[i]],n),n);case"csv":return Vr(Eg(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return Vr(LD.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return qc(jD.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return Vr(BD.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return Vr(GD.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return Vr(nw.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return Vr(Dw(t,n),n);case"wk1":return qc(h1.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return qc(h1.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),qc(Cw(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),ej(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return QO(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function nj(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function rj(t,e,n){var r={};return r.type="file",r.file=e,nj(r),Pw(t,r)}function ij(t,e,n,r,i,s,a,o){var l=on(n),c=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,h=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch{h.__rowNum__=n}else h.__rowNum__=n;if(!a||t[n])for(var p=e.s.c;p<=e.e.c;++p){var m=a?t[n][p]:t[r[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(f&&g===null)h[s[p]]=null;else continue;else h[s[p]]=f&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?g:Ni(m,g,o);g!=null&&(d=!1)}}return{row:h,isempty:d}}function Df(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},f=c.range!=null?c.range:t["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof f){case"string":l=vt(f);break;case"number":l=vt(t["!ref"]),l.s.r=f;break;default:l=f}r>0&&(i=0);var d=on(l.s.r),h=[],p=[],m=0,g=0,x=Array.isArray(t),y=l.s.r,v=0,b={};x&&!t[y]&&(t[y]=[]);var _=c.skipHidden&&t["!cols"]||[],S=c.skipHidden&&t["!rows"]||[];for(v=l.s.c;v<=l.e.c;++v)if(!(_[v]||{}).hidden)switch(h[v]=xn(v),n=x?t[y][v]:t[h[v]+d],r){case 1:s[v]=v-l.s.c;break;case 2:s[v]=h[v];break;case 3:s[v]=c.header[v-l.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=a=Ni(n,null,c),g=b[a]||0,!g)b[a]=1;else{do o=a+"_"+g++;while(b[o]);b[a]=g,b[o]=1}s[v]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(S[y]||{}).hidden){var O=ij(t,l,y,h,r,s,x,c);(O.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=O.row)}return p.length=m,p}var _1=/"/g;function sj(t,e,n,r,i,s,a,o){for(var l=!0,c=[],f="",d=on(n),h=e.s.c;h<=e.e.c;++h)if(r[h]){var p=o.dense?(t[n]||[])[h]:t[r[h]+d];if(p==null)f="";else if(p.v!=null){l=!1,f=""+(o.rawNumbers&&p.t=="n"?p.v:Ni(p,null,o));for(var m=0,g=0;m!==f.length;++m)if((g=f.charCodeAt(m))===i||g===s||g===34||o.forceQuotes){f='"'+f.replace(_1,'""')+'"';break}f=="ID"&&(f='"ID"')}else p.f!=null&&!p.F?(l=!1,f="="+p.f,f.indexOf(",")>=0&&(f='"'+f.replace(_1,'""')+'"')):f="";c.push(f)}return o.blankrows===!1&&l?null:c.join(a)}function Eg(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=vt(t["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),f="",d=[];r.dense=Array.isArray(t);for(var h=r.skipHidden&&t["!cols"]||[],p=r.skipHidden&&t["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(h[m]||{}).hidden||(d[m]=xn(m));for(var g=0,x=i.s.r;x<=i.e.r;++x)(p[x]||{}).hidden||(f=sj(t,i,x,d,a,l,s,r),f!=null&&(r.strip&&(f=f.replace(c,"")),(f||r.blankrows!==!1)&&n.push((g++?o:"")+f)));return delete r.dense,n.join("")}function Mw(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=Eg(t,e);return n}function aj(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=vt(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=xn(o);for(var f=i.s.r;f<=i.e.r;++f)for(s=on(f),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,n=c?(t[f]||[])[o]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}l[l.length]=e+"="+r}return l}function Ow(t,e,n){var r=n||{},i=+!r.skipHeader,s=t||{},a=0,o=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?Xt(r.origin):r.origin;a=l.r,o=l.c}var c,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var d=vt(s["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),a==-1&&(a=d.e.r+1,f.e.r=a+e.length-1+i)}else a==-1&&(a=0,f.e.r=e.length-1+i);var h=r.header||[],p=0;e.forEach(function(g,x){cn(g).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var v=g[y],b="z",_="",S=lt({c:o+p,r:a+x+i});c=ql(s,S),v&&typeof v=="object"&&!(v instanceof Date)?s[S]=v:(typeof v=="number"?b="n":typeof v=="boolean"?b="b":typeof v=="string"?b="s":v instanceof Date?(b="d",r.cellDates||(b="n",v=zn(v)),_=r.dateNF||Dt[14]):v===null&&r.nullError&&(b="e",v=0),c?(c.t=b,c.v=v,delete c.w,delete c.R,_&&(c.z=_)):s[S]=c={t:b,v},_&&(c.z=_))})}),f.e.c=Math.max(f.e.c,o+h.length-1);var m=on(a);if(i)for(p=0;p<h.length;++p)s[xn(p+o)+m]={t:"s",v:h[p]};return s["!ref"]=Ft(f),s}function oj(t,e){return Ow(null,t,e)}function ql(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Xt(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?ql(t,lt(e)):ql(t,lt({r:e,c:n||0}))}function lj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function cj(){return{SheetNames:[],Sheets:{}}}function uj(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=a+i)!=-1;++i);}if(kw(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function fj(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=lj(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function dj(t,e){return t.z=e,t}function jw(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function hj(t,e,n){return jw(t,"#"+e,n)}function pj(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function gj(t,e,n,r){for(var i=typeof e!="string"?e:vt(e),s=typeof e=="string"?e:Ft(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=ql(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=n,r&&(l.D=!0))}return t}var uh={encode_col:xn,encode_row:on,encode_cell:lt,encode_range:Ft,decode_col:pg,decode_row:hg,split_cell:AI,decode_cell:Xt,decode_range:nr,format_cell:Ni,sheet_add_aoa:j_,sheet_add_json:Ow,sheet_add_dom:Aw,aoa_to_sheet:wo,json_to_sheet:oj,table_to_sheet:Iw,table_to_book:LO,sheet_to_csv:Eg,sheet_to_txt:Mw,sheet_to_json:Df,sheet_to_html:Nw,sheet_to_formulae:aj,sheet_to_row_object_array:Df,sheet_get_cell:ql,book_new:cj,book_append_sheet:uj,book_set_sheet_visibility:fj,cell_set_number_format:dj,cell_set_hyperlink:jw,cell_set_internal_link:hj,cell_add_comment:pj,sheet_set_array_formula:gj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function mj(t,e,n=null){if(!Array.isArray(t)||t.length===0)return console.error("Impossible d'exporter : les donnes sont vides ou invalides."),n&&n("Impossible d'exporter : les donnes sont vides ou invalides."),!1;try{const r=uh.json_to_sheet(t),i=uh.book_new();return uh.book_append_sheet(i,r,"Donnes"),rj(i,`${e}.xlsx`),!0}catch(r){return console.error("Erreur lors de la gnration du fichier Excel:",r),n&&n("Une erreur est survenue lors de l'exportation des donnes."),!1}}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function wc(t){return t+.5|0}const Xi=(t,e,n)=>Math.max(Math.min(t,n),e);function qo(t){return Xi(wc(t*2.55),0,255)}function fs(t){return Xi(wc(t*255),0,255)}function oi(t){return Xi(wc(t/2.55)/100,0,1)}function w1(t){return Xi(wc(t*100),0,100)}const ar={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O0=[..."0123456789ABCDEF"],xj=t=>O0[t&15],vj=t=>O0[(t&240)>>4]+O0[t&15],Jc=t=>(t&240)>>4===(t&15),yj=t=>Jc(t.r)&&Jc(t.g)&&Jc(t.b)&&Jc(t.a);function bj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ar[t[1]]*17,g:255&ar[t[2]]*17,b:255&ar[t[3]]*17,a:e===5?ar[t[4]]*17:255}:(e===7||e===9)&&(n={r:ar[t[1]]<<4|ar[t[2]],g:ar[t[3]]<<4|ar[t[4]],b:ar[t[5]]<<4|ar[t[6]],a:e===9?ar[t[7]]<<4|ar[t[8]]:255})),n}const _j=(t,e)=>t<255?e(t):"";function wj(t){var e=yj(t)?xj:vj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+_j(t.a,e):void 0}const Sj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Fw(t,e,n){const r=e*Math.min(n,1-n),i=(s,a=(s+t/30)%12)=>n-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function kj(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Ej(t,e,n){const r=Fw(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Tj(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function Tg(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;let l,c,f;return s!==a&&(f=s-a,c=o>.5?f/(2-s-a):f/(s+a),l=Tj(n,r,i,f,s),l=l*60+.5),[l|0,c||0,o]}function Cg(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(fs)}function Ng(t,e,n){return Cg(Fw,t,e,n)}function Cj(t,e,n){return Cg(Ej,t,e,n)}function Nj(t,e,n){return Cg(kj,t,e,n)}function Lw(t){return(t%360+360)%360}function Aj(t){const e=Sj.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?qo(+e[5]):fs(+e[5]));const i=Lw(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=Cj(i,s,a):e[1]==="hsv"?r=Nj(i,s,a):r=Ng(i,s,a),{r:r[0],g:r[1],b:r[2],a:n}}function Ij(t,e){var n=Tg(t);n[0]=Lw(n[0]+e),n=Ng(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Dj(t){if(!t)return;const e=Tg(t),n=e[0],r=w1(e[1]),i=w1(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${oi(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const S1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Rj(){const t={},e=Object.keys(k1),n=Object.keys(S1);let r,i,s,a,o;for(r=0;r<e.length;r++){for(a=o=e[r],i=0;i<n.length;i++)s=n[i],o=o.replace(s,S1[s]);s=parseInt(k1[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Qc;function Pj(t){Qc||(Qc=Rj(),Qc.transparent=[0,0,0,0]);const e=Qc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Mj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Oj(t){const e=Mj.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];n=e[8]?qo(a):Xi(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?qo(r):Xi(r,0,255)),i=255&(e[4]?qo(i):Xi(i,0,255)),s=255&(e[6]?qo(s):Xi(s,0,255)),{r,g:i,b:s,a:n}}}function jj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${oi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const fh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,wa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Fj(t,e,n){const r=wa(oi(t.r)),i=wa(oi(t.g)),s=wa(oi(t.b));return{r:fs(fh(r+n*(wa(oi(e.r))-r))),g:fs(fh(i+n*(wa(oi(e.g))-i))),b:fs(fh(s+n*(wa(oi(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Zc(t,e,n){if(t){let r=Tg(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=Ng(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function Bw(t,e){return t&&Object.assign(e||{},t)}function E1(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=fs(t[3]))):(e=Bw(t,{r:0,g:0,b:0,a:1}),e.a=fs(e.a)),e}function Lj(t){return t.charAt(0)==="r"?Oj(t):Aj(t)}class Jl{constructor(e){if(e instanceof Jl)return e;const n=typeof e;let r;n==="object"?r=E1(e):n==="string"&&(r=bj(e)||Pj(e)||Lj(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Bw(this._rgb);return e&&(e.a=oi(e.a)),e}set rgb(e){this._rgb=E1(e)}rgbString(){return this._valid?jj(this._rgb):void 0}hexString(){return this._valid?wj(this._rgb):void 0}hslString(){return this._valid?Dj(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const a=n===s?.5:n,o=2*a-1,l=r.a-i.a,c=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Fj(this._rgb,e._rgb,n)),this}clone(){return new Jl(this.rgb)}alpha(e){return this._rgb.a=fs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=wc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zc(this._rgb,2,e),this}darken(e){return Zc(this._rgb,2,-e),this}saturate(e){return Zc(this._rgb,1,e),this}desaturate(e){return Zc(this._rgb,1,-e),this}rotate(e){return Ij(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ni(){}const Bj=(()=>{let t=0;return()=>t++})();function $e(t){return t==null}function _t(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ke(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function It(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kn(t,e){return It(t)?t:e}function Fe(t,e){return typeof t>"u"?e:t}const Uj=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Uw=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ht(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function st(t,e,n,r){let i,s,a;if(_t(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(Ke(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(n,t[a[i]],a[i])}function Rf(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Pf(t){if(_t(t))return t.map(Pf);if(Ke(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Pf(t[n[i]]);return e}return t}function zw(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zj(t,e,n,r){if(!zw(t))return;const i=e[t],s=n[t];Ke(i)&&Ke(s)?Ql(i,s,r):e[t]=Pf(s)}function Ql(t,e,n){const r=_t(e)?e:[e],i=r.length;if(!Ke(t))return t;n=n||{};const s=n.merger||zj;let a;for(let o=0;o<i;++o){if(a=r[o],!Ke(a))continue;const l=Object.keys(a);for(let c=0,f=l.length;c<f;++c)s(l[c],t,a,n)}return t}function yl(t,e){return Ql(t,e,{merger:Wj})}function Wj(t,e,n){if(!zw(t))return;const r=e[t],i=n[t];Ke(r)&&Ke(i)?yl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Pf(i))}const T1={"":t=>t,x:t=>t.x,y:t=>t.y};function Hj(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Vj(t){const e=Hj(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function xs(t,e){return(T1[e]||(T1[e]=Vj(e)))(t)}function Ag(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Zl=t=>typeof t<"u",vs=t=>typeof t=="function",C1=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function $j(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Qe=Math.PI,xt=2*Qe,Gj=xt+Qe,Mf=Number.POSITIVE_INFINITY,Kj=Qe/180,Mt=Qe/2,Ns=Qe/4,N1=Qe*2/3,qi=Math.log10,Zr=Math.sign;function bl(t,e,n){return Math.abs(t-e)<n}function A1(t){const e=Math.round(t);t=bl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(qi(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Yj(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Xj(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ho(t){return!Xj(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function qj(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ww(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Cr(t){return t*(Qe/180)}function Ig(t){return t*(180/Qe)}function I1(t){if(!It(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Hw(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*Qe&&(s+=xt),{angle:s,distance:i}}function j0(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Jj(t,e){return(t-e+Gj)%xt-Qe}function pn(t){return(t%xt+xt)%xt}function ec(t,e,n,r){const i=pn(t),s=pn(e),a=pn(n),o=pn(s-i),l=pn(a-i),c=pn(i-s),f=pn(i-a);return i===s||i===a||r&&s===a||o>l&&c<f}function Jt(t,e,n){return Math.max(e,Math.min(n,t))}function Qj(t){return Jt(t,-32768,32767)}function pi(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function Dg(t,e,n){n=n||(a=>t[a]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const gi=(t,e,n,r)=>Dg(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Zj=(t,e,n)=>Dg(t,n,r=>t[r][e]>=n);function eF(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const Vw=["push","pop","shift","splice","unshift"];function tF(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Vw.forEach(n=>{const r="_onData"+Ag(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[r]=="function"&&o[r](...s)}),a}})})}function D1(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Vw.forEach(s=>{delete t[s]}),delete t._chartjs)}function $w(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Gw=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Kw(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Gw.call(window,()=>{r=!1,t.apply(e,n)}))}}function nF(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const Rg=t=>t==="start"?"left":t==="end"?"right":"center",hn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,rF=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Yw(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,f=a.axis,{min:d,max:h,minDefined:p,maxDefined:m}=a.getUserBounds();if(p){if(i=Math.min(gi(l,f,d).lo,n?r:gi(e,f,a.getPixelForValue(d)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(x=>!$e(x[o.axis]));i-=Math.max(0,g)}i=Jt(i,0,r-1)}if(m){let g=Math.max(gi(l,a.axis,h,!0).hi+1,n?0:gi(e,f,a.getPixelForValue(h),!0).hi+1);if(c){const x=l.slice(g-1).findIndex(y=>!$e(y[o.axis]));g+=Math.max(0,x)}s=Jt(g,i,r)-i}else s=r-i}return{start:i,count:s}}function Xw(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const eu=t=>t===0||t===1,R1=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*xt/n)),P1=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*xt/n)+1,_l={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Mt)+1,easeOutSine:t=>Math.sin(t*Mt),easeInOutSine:t=>-.5*(Math.cos(Qe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eu(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eu(t)?t:R1(t,.075,.3),easeOutElastic:t=>eu(t)?t:P1(t,.075,.3),easeInOutElastic(t){return eu(t)?t:t<.5?.5*R1(t*2,.1125,.45):.5+.5*P1(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_l.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_l.easeInBounce(t*2)*.5:_l.easeOutBounce(t*2-1)*.5+.5};function Pg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function M1(t){return Pg(t)?t:new Jl(t)}function dh(t){return Pg(t)?t:new Jl(t).saturate(.5).darken(.1).hexString()}const iF=["x","y","borderWidth","radius","tension"],sF=["color","borderColor","backgroundColor"];function aF(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:sF},numbers:{type:"number",properties:iF}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function oF(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const O1=new Map;function lF(t,e){e=e||{};const n=t+JSON.stringify(e);let r=O1.get(n);return r||(r=new Intl.NumberFormat(t,e),O1.set(n,r)),r}function Sc(t,e,n){return lF(e,n).format(t)}const qw={values(t){return _t(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=cF(t,n)}const a=qi(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Sc(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(qi(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?qw.numeric.call(this,t,e,n):""}};function cF(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pd={formatters:qw};function uF(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ia=Object.create(null),F0=Object.create(null);function wl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function hh(t,e,n){return typeof e=="string"?Ql(wl(t,e),n):Ql(wl(t,""),e)}class fF{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>dh(i.backgroundColor),this.hoverBorderColor=(r,i)=>dh(i.borderColor),this.hoverColor=(r,i)=>dh(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return hh(this,e,n)}get(e){return wl(this,e)}describe(e,n){return hh(F0,e,n)}override(e,n){return hh(ia,e,n)}route(e,n,r,i){const s=wl(this,e),a=wl(this,r),o="_"+n;Object.defineProperties(s,{[o]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[o],c=a[i];return Ke(l)?Object.assign({},c,l):Fe(l,c)},set(l){this[o]=l}}})}apply(e){e.forEach(n=>n(this))}}var wt=new fF({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[aF,oF,uF]);function dF(t){return!t||$e(t.size)||$e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Of(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function hF(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let a=0;const o=n.length;let l,c,f,d,h;for(l=0;l<o;l++)if(d=n[l],d!=null&&!_t(d))a=Of(t,i,s,a,d);else if(_t(d))for(c=0,f=d.length;c<f;c++)h=d[c],h!=null&&!_t(h)&&(a=Of(t,i,s,a,h));t.restore();const p=s.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return a}function As(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function j1(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function L0(t,e,n,r){Jw(t,e,n,r,null)}function Jw(t,e,n,r,i){let s,a,o,l,c,f,d,h;const p=e.pointStyle,m=e.rotation,g=e.radius;let x=(m||0)*Kj;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,g,0,0,xt):t.arc(n,r,g,0,xt),t.closePath();break;case"triangle":f=i?i/2:g,t.moveTo(n+Math.sin(x)*f,r-Math.cos(x)*g),x+=N1,t.lineTo(n+Math.sin(x)*f,r-Math.cos(x)*g),x+=N1,t.lineTo(n+Math.sin(x)*f,r-Math.cos(x)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,a=Math.cos(x+Ns)*l,d=Math.cos(x+Ns)*(i?i/2-c:l),o=Math.sin(x+Ns)*l,h=Math.sin(x+Ns)*(i?i/2-c:l),t.arc(n-d,r-o,c,x-Qe,x-Mt),t.arc(n+h,r-a,c,x-Mt,x),t.arc(n+d,r+o,c,x,x+Mt),t.arc(n-h,r+a,c,x+Mt,x+Qe),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,f=i?i/2:l,t.rect(n-f,r-l,2*f,2*l);break}x+=Ns;case"rectRot":d=Math.cos(x)*(i?i/2:g),a=Math.cos(x)*g,o=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),t.moveTo(n-d,r-o),t.lineTo(n+h,r-a),t.lineTo(n+d,r+o),t.lineTo(n-h,r+a),t.closePath();break;case"crossRot":x+=Ns;case"cross":d=Math.cos(x)*(i?i/2:g),a=Math.cos(x)*g,o=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"star":d=Math.cos(x)*(i?i/2:g),a=Math.cos(x)*g,o=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a),x+=Ns,d=Math.cos(x)*(i?i/2:g),a=Math.cos(x)*g,o=Math.sin(x)*g,h=Math.sin(x)*(i?i/2:g),t.moveTo(n-d,r-o),t.lineTo(n+d,r+o),t.moveTo(n+h,r-a),t.lineTo(n-h,r+a);break;case"line":a=i?i/2:Math.cos(x)*g,o=Math.sin(x)*g,t.moveTo(n-a,r-o),t.lineTo(n+a,r+o);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(i?i/2:g),r+Math.sin(x)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gd(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function md(t){t.restore()}function pF(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function gF(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function mF(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function xF(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,f=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,f),t.lineTo(o,f),t.stroke()}}function vF(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sa(t,e,n,r,i,s={}){const a=_t(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,mF(t,s),l=0;l<a.length;++l)c=a[l],s.backdrop&&vF(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),$e(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),xF(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function tc(t,e){const{x:n,y:r,w:i,h:s,radius:a}=e;t.arc(n+a.topLeft,r+a.topLeft,a.topLeft,1.5*Qe,Qe,!0),t.lineTo(n,r+s-a.bottomLeft),t.arc(n+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Qe,Mt,!0),t.lineTo(n+i-a.bottomRight,r+s),t.arc(n+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,Mt,0,!0),t.lineTo(n+i,r+a.topRight),t.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-Mt,!0),t.lineTo(n+a.topLeft,r)}const yF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,bF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _F(t,e){const n=(""+t).match(yF);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const wF=t=>+t||0;function Mg(t,e){const n={},r=Ke(e),i=r?Object.keys(e):e,s=Ke(t)?r?a=>Fe(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)n[a]=wF(s(a));return n}function Qw(t){return Mg(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Gs(t){return Mg(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bn(t){const e=Qw(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gt(t,e){t=t||{},e=e||wt.font;let n=Fe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Fe(t.style,e.style);r&&!(""+r).match(bF)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Fe(t.family,e.family),lineHeight:_F(Fe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Fe(t.weight,e.weight),string:""};return i.string=dF(i),i}function Jo(t,e,n,r){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function SF(t,e,n){const{min:r,max:i}=t,s=Uw(e,(i-r)/2),a=(o,l)=>n&&o===0?0:o+l;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function ks(t,e){return Object.assign(Object.create(t),e)}function Og(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=nS("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:o=>Og([o,...t],e,s,r)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return eS(o,l,()=>DF(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return L1(o).includes(l)},ownKeys(o){return L1(o)},set(o,l,c){const f=o._storage||(o._storage=i());return o[l]=f[l]=c,delete o._keys,!0}})}function po(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Zw(t,r),setContext:s=>po(t,s,n,r),override:s=>po(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return eS(s,a,()=>EF(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function Zw(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:vs(n)?n:()=>n,isIndexable:vs(r)?r:()=>r}}const kF=(t,e)=>t?t+Ag(e):e,jg=(t,e)=>Ke(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function eS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function EF(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=t;let o=r[e];return vs(o)&&a.isScriptable(e)&&(o=TF(e,o,t,n)),_t(o)&&o.length&&(o=CF(e,o,t,a.isIndexable)),jg(e,o)&&(o=po(o,i,s&&s[e],a)),o}function TF(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=n;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||r);return o.delete(t),jg(t,l)&&(l=Fg(i._scopes,i,t,l)),l}function CF(t,e,n,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Ke(e[0])){const l=e,c=i._scopes.filter(f=>f!==l);e=[];for(const f of l){const d=Fg(c,i,t,f);e.push(po(d,s,a&&a[t],o))}}return e}function tS(t,e,n){return vs(t)?t(e,n):t}const NF=(t,e)=>t===!0?e:typeof t=="string"?xs(e,t):void 0;function AF(t,e,n,r,i){for(const s of e){const a=NF(n,s);if(a){t.add(a);const o=tS(a._fallback,n,i);if(typeof o<"u"&&o!==n&&o!==r)return o}else if(a===!1&&typeof r<"u"&&n!==r)return null}return!1}function Fg(t,e,n,r){const i=e._rootScopes,s=tS(e._fallback,n,r),a=[...t,...i],o=new Set;o.add(r);let l=F1(o,a,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=F1(o,a,s,l,r),l===null)?!1:Og(Array.from(o),[""],i,s,()=>IF(e,n,r))}function F1(t,e,n,r,i){for(;n;)n=AF(t,e,n,r,i);return n}function IF(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return _t(i)&&Ke(n)?n:i||{}}function DF(t,e,n,r){let i;for(const s of e)if(i=nS(kF(s,t),n),typeof i<"u")return jg(t,i)?Fg(n,r,t,i):i}function nS(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function L1(t){let e=t._keys;return e||(e=t._keys=RF(t._scopes)),e}function RF(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function rS(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,a=new Array(r);let o,l,c,f;for(o=0,l=r;o<l;++o)c=o+n,f=e[c],a[o]={r:i.parse(xs(f,s),c)};return a}const PF=Number.EPSILON||1e-14,go=(t,e)=>e<t.length&&!t[e].skip&&t[e],iS=t=>t==="x"?"y":"x";function MF(t,e,n,r){const i=t.skip?e:t,s=e,a=n.skip?e:n,o=j0(s,i),l=j0(a,s);let c=o/(o+l),f=l/(o+l);c=isNaN(c)?0:c,f=isNaN(f)?0:f;const d=r*c,h=r*f;return{previous:{x:s.x-d*(a.x-i.x),y:s.y-d*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function OF(t,e,n){const r=t.length;let i,s,a,o,l,c=go(t,0);for(let f=0;f<r-1;++f)if(l=c,c=go(t,f+1),!(!l||!c)){if(bl(e[f],0,PF)){n[f]=n[f+1]=0;continue}i=n[f]/e[f],s=n[f+1]/e[f],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),n[f]=i*a*e[f],n[f+1]=s*a*e[f])}}function jF(t,e,n="x"){const r=iS(n),i=t.length;let s,a,o,l=go(t,0);for(let c=0;c<i;++c){if(a=o,o=l,l=go(t,c+1),!o)continue;const f=o[n],d=o[r];a&&(s=(f-a[n])/3,o[`cp1${n}`]=f-s,o[`cp1${r}`]=d-s*e[c]),l&&(s=(l[n]-f)/3,o[`cp2${n}`]=f+s,o[`cp2${r}`]=d+s*e[c])}}function FF(t,e="x"){const n=iS(e),r=t.length,i=Array(r).fill(0),s=Array(r);let a,o,l,c=go(t,0);for(a=0;a<r;++a)if(o=l,l=c,c=go(t,a+1),!!l){if(c){const f=c[e]-l[e];i[a]=f!==0?(c[n]-l[n])/f:0}s[a]=o?c?Zr(i[a-1])!==Zr(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}OF(t,i,s),jF(t,s,e)}function tu(t,e,n){return Math.max(Math.min(t,n),e)}function LF(t,e){let n,r,i,s,a,o=mi(t[0],e);for(n=0,r=t.length;n<r;++n)a=s,s=o,o=n<r-1&&mi(t[n+1],e),s&&(i=t[n],a&&(i.cp1x=tu(i.cp1x,e.left,e.right),i.cp1y=tu(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=tu(i.cp2x,e.left,e.right),i.cp2y=tu(i.cp2y,e.top,e.bottom)))}function BF(t,e,n,r,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")FF(t,i);else{let c=r?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=MF(c,o,t[Math.min(s+1,a-(r?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,c=o}e.capBezierPoints&&LF(t,n)}function Lg(){return typeof window<"u"&&typeof document<"u"}function Bg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jf(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const xd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function UF(t,e){return xd(t).getPropertyValue(e)}const zF=["top","right","bottom","left"];function Ks(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=zF[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const WF=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function HF(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let a=!1,o,l;if(WF(i,s,t.target))o=i,l=s;else{const c=e.getBoundingClientRect();o=r.clientX-c.left,l=r.clientY-c.top,a=!0}return{x:o,y:l,box:a}}function Os(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=xd(n),s=i.boxSizing==="border-box",a=Ks(i,"padding"),o=Ks(i,"border","width"),{x:l,y:c,box:f}=HF(t,n),d=a.left+(f&&o.left),h=a.top+(f&&o.top);let{width:p,height:m}=e;return s&&(p-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function VF(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&Bg(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const a=s.getBoundingClientRect(),o=xd(s),l=Ks(o,"border","width"),c=Ks(o,"padding");e=a.width-c.width-l.width,n=a.height-c.height-l.height,r=jf(o.maxWidth,s,"clientWidth"),i=jf(o.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Mf,maxHeight:i||Mf}}const Ji=t=>Math.round(t*10)/10;function $F(t,e,n,r){const i=xd(t),s=Ks(i,"margin"),a=jf(i.maxWidth,t,"clientWidth")||Mf,o=jf(i.maxHeight,t,"clientHeight")||Mf,l=VF(t,e,n);let{width:c,height:f}=l;if(i.boxSizing==="content-box"){const h=Ks(i,"border","width"),p=Ks(i,"padding");c-=p.width+h.width,f-=p.height+h.height}return c=Math.max(0,c-s.width),f=Math.max(0,r?c/r:f-s.height),c=Ji(Math.min(c,a,l.maxWidth)),f=Ji(Math.min(f,o,l.maxHeight)),c&&!f&&(f=Ji(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&f>l.height&&(f=l.height,c=Ji(Math.floor(f*r))),{width:c,height:f}}function B1(t,e,n){const r=e||1,i=Ji(t.height*r),s=Ji(t.width*r);t.height=Ji(t.height),t.width=Ji(t.width);const a=t.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=r,a.height=i,a.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const GF=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Lg()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function U1(t,e){const n=UF(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function js(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function KF(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function YF(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=js(t,i,n),o=js(i,s,n),l=js(s,e,n),c=js(a,o,n),f=js(o,l,n);return js(c,f,n)}const XF=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},qF=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Za(t,e,n){return t?XF(e,n):qF()}function sS(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function aS(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function oS(t){return t==="angle"?{between:ec,compare:Jj,normalize:pn}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function z1({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function JF(t,e,n){const{property:r,start:i,end:s}=n,{between:a,normalize:o}=oS(r),l=e.length;let{start:c,end:f,loop:d}=t,h,p;if(d){for(c+=l,f+=l,h=0,p=l;h<p&&a(o(e[c%l][r]),i,s);++h)c--,f--;c%=l,f%=l}return f<c&&(f+=l),{start:c,end:f,loop:d,style:t.style}}function lS(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,a=e.length,{compare:o,between:l,normalize:c}=oS(r),{start:f,end:d,loop:h,style:p}=JF(t,e,n),m=[];let g=!1,x=null,y,v,b;const _=()=>l(i,b,y)&&o(i,b)!==0,S=()=>o(s,y)===0||l(s,b,y),O=()=>g||_(),k=()=>!g||S();for(let T=f,C=f;T<=d;++T)v=e[T%a],!v.skip&&(y=c(v[r]),y!==b&&(g=l(y,i,s),x===null&&O()&&(x=o(y,i)===0?T:C),x!==null&&k()&&(m.push(z1({start:x,end:T,loop:h,count:a,style:p})),x=null),C=T,b=y));return x!==null&&m.push(z1({start:x,end:d,loop:h,count:a,style:p})),m}function cS(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=lS(r[i],t.points,e);s.length&&n.push(...s)}return n}function QF(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function ZF(t,e,n,r){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?o.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=a=c.stop?l:null):(a=l,o.skip&&(e=l)),o=c}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function e6(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=QF(n,i,s,r);if(r===!0)return W1(t,[{start:a,end:o,loop:s}],n,e);const l=o<a?o+i:o,c=!!t._fullLoop&&a===0&&o===i-1;return W1(t,ZF(n,a,l,c),n,e)}function W1(t,e,n,r){return!r||!r.setContext||!n?e:t6(t,e,n,r)}function t6(t,e,n,r){const i=t._chart.getContext(),s=H1(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=n.length,c=[];let f=s,d=e[0].start,h=d;function p(m,g,x,y){const v=o?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=v;for(;n[g%l].skip;)g+=v;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:x,style:y}),f=y,d=g%l)}}for(const m of e){d=o?d:m.start;let g=n[d%l],x;for(h=d+1;h<=m.end;h++){const y=n[h%l];x=H1(r.setContext(ks(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),n6(x,f)&&p(d,h-1,m.loop,f),g=y,f=x}d<h-1&&p(d,h-1,m.loop,f)}return c}function H1(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function n6(t,e){if(!e)return!1;const n=[],r=function(i,s){return Pg(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function nu(t,e,n){return t.options.clip?t[n]:e[n]}function r6(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:nu(n,e,"left"),right:nu(n,e,"right"),top:nu(r,e,"top"),bottom:nu(r,e,"bottom")}:e}function uS(t,e){const n=e._clip;if(n.disabled)return!1;const r=r6(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class i6{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],a=n.duration;s.forEach(o=>o({chart:e,initial:n.initial,numSteps:a,currentStep:Math.min(r-n.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Gw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ri=new i6;const V1="transparent",s6={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=M1(t||V1),i=r.valid&&M1(e||V1);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class a6{constructor(e,n,r,i){const s=n[r];i=Jo([e.to,i,s,e.from]);const a=Jo([e.from,s,i]);this._active=!0,this._fn=e.fn||s6[e.type||typeof a],this._easing=_l[e.easing]||_l.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Jo([e.to,n,i,e.from]),this._from=Jo([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||n<r),!this._active){this._target[i]=o,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class fS{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ke(e))return;const n=Object.keys(wt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Ke(s))return;const a={};for(const o of n)a[o]=s[o];(_t(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!r.has(o))&&r.set(o,a)})})}_animateOptions(e,n){const r=n.options,i=l6(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&o6(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(n),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const c=a[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const f=n[c];let d=s[c];const h=r.get(c);if(d)if(h&&d.active()){d.update(h,f,o);continue}else d.cancel();if(!h||!h.duration){e[c]=f;continue}s[c]=d=new a6(h,e,c,f),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return ri.add(this._chart,r),!0}}function o6(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function l6(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function $1(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function c6(t,e,n){if(n===!1)return!1;const r=$1(t,n),i=$1(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function u6(t){let e,n,r,i;return Ke(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function dS(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function G1(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let a,o,l,c;if(e===null)return;let f=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===n){if(f=!0,r.all)continue;break}c=t.values[l],It(c)&&(s||e===0||Zr(e)===Zr(c))&&(e+=c)}return!f&&!r.all?0:e}function f6(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,c,f;for(l=0,c=a.length;l<c;++l)f=a[l],o[l]={[i]:f,[s]:t[f]};return o}function ph(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function d6(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function h6(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function p6(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function K1(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function Y1(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:a,index:o}=r,l=s.axis,c=a.axis,f=d6(s,a,r),d=e.length;let h;for(let p=0;p<d;++p){const m=e[p],{[l]:g,[c]:x}=m,y=m._stacks||(m._stacks={});h=y[c]=p6(i,f,g),h[o]=x,h._top=K1(h,a,!0,r.type),h._bottom=K1(h,a,!1,r.type);const v=h._visualValues||(h._visualValues={});v[o]=x}}function gh(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function g6(t,e){return ks(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function m6(t,e,n){return ks(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function jo(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const mh=t=>t==="reset"||t==="none",X1=(t,e)=>e?t:Object.assign({},t),x6=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:dS(n,!0),values:null};class Dr{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ph(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&jo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,h,p,m)=>d==="x"?h:d==="r"?m:p,s=n.xAxisID=Fe(r.xAxisID,gh(e,"x")),a=n.yAxisID=Fe(r.yAxisID,gh(e,"y")),o=n.rAxisID=Fe(r.rAxisID,gh(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,a,o),f=n.vAxisID=i(l,a,s,o);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(o),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(f)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&D1(this._data,this),e._stacked&&jo(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Ke(n)){const i=this._cachedMeta;this._data=f6(n,i)}else if(r!==n){if(r){D1(r,this);const i=this._cachedMeta;jo(i),i._parsed=[]}n&&Object.isExtensible(n)&&tF(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=ph(n.vScale,n),n.stack!==r.stack&&(i=!0,jo(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(Y1(this,n._parsed),n._stacked=ph(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,o=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],f,d,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{_t(i[e])?h=this.parseArrayData(r,i,e,n):Ke(i[e])?h=this.parseObjectData(r,i,e,n):h=this.parsePrimitiveData(r,i,e,n);const p=()=>d[o]===null||c&&d[o]<c[o];for(f=0;f<n;++f)r._parsed[f+e]=d=h[f],l&&(p()&&(l=!1),c=d);r._sorted=l}a&&Y1(this,h)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,c=s.getLabels(),f=s===a,d=new Array(i);let h,p,m;for(h=0,p=i;h<p;++h)m=h+r,d[h]={[o]:f||s.parse(c[m],m),[l]:a.parse(n[m],m)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,c,f,d;for(l=0,c=i;l<c;++l)f=l+r,d=n[f],o[l]={x:s.parse(d[0],f),y:a.parse(d[1],f)};return o}parseObjectData(e,n,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let f,d,h,p;for(f=0,d=i;f<d;++f)h=f+r,p=n[h],c[f]={x:s.parse(xs(p,o),h),y:a.parse(xs(p,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,a=n[e.axis],o={keys:dS(i,!0),values:n._stacks[e.axis]._visualValues};return G1(o,a,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let a=s===null?NaN:s;const o=i&&r._stacks[n.axis];i&&o&&(i.values=o,a=G1(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,o=this._getOtherScale(e),l=x6(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:f,max:d}=h6(o);let h,p;function m(){p=i[h];const g=p[o.axis];return!It(p[e.axis])||f>g||d<g}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=n.length;i<s;++i)a=n[i][e.axis],It(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=u6(Fe(this.options.clip,c6(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let f;for(r.dataset&&r.dataset.draw(e,s,o,l),f=o;f<o+l;++f){const d=i[f];d.hidden||(d.active&&c?a.push(d):d.draw(e,s))}for(f=0;f<a.length;++f)a[f].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=m6(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=g6(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,a=e+"-"+n,o=s[a],l=this.enableOptionSharing&&Zl(r);if(o)return X1(o,l);const c=this.chart.config,f=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),f),p=Object.keys(wt.elements[e]),m=()=>this.getContext(r,i,n),g=c.resolveNamedOptions(h,p,m,d);return g.$shared&&(g.$shared=l,s[a]=Object.freeze(X1(g,l))),g}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${n}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const f=this.chart.config,d=f.datasetAnimationScopeKeys(this._type,n),h=f.getOptionScopes(this.getDataset(),d);l=f.createResolver(h,this.getContext(e,r,n))}const c=new fS(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||mh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:a}}updateElement(e,n,r,i){mh(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!mh(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[o,l,c]of this._syncList)this[o](l,c);this._syncList=[];const i=r.length,s=n.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,a=e+n;let o;const l=c=>{for(c.length+=n,o=c.length-1;o>=a;o--)c[o]=c[o-n]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&jo(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(Dr,"defaults",{}),ve(Dr,"datasetElementType",null),ve(Dr,"dataElementType",null);function v6(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=$w(r.sort((i,s)=>i-s))}return t._cache.$bar}function y6(t){const e=t.iScale,n=v6(e,t.type);let r=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(Zl(o)&&(r=Math.min(r,Math.abs(a-o)||r)),o=a)};for(i=0,s=n.length;i<s;++i)a=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return r}function b6(t,e,n,r){const i=n.barThickness;let s,a;return $e(i)?(s=e.min*n.categoryPercentage,a=n.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[t]-s/2}}function _6(t,e,n,r){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const c=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/r,ratio:n.barPercentage,start:c}}function w6(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),a=Math.min(i,s),o=Math.max(i,s);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:a,max:o}}function hS(t,e,n,r){return _t(t)?w6(t,e,n,r):e[n.axis]=n.parse(t,r),e}function q1(t,e,n,r){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let c,f,d,h;for(c=n,f=n+r;c<f;++c)h=e[c],d={},d[i.axis]=o||i.parse(a[c],c),l.push(hS(h,d,s,c));return l}function xh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function S6(t,e,n){return t!==0?Zr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function k6(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}function E6(t,e,n,r){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:c,bottom:f}=k6(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=f:(s[J1(f,a,o,l)]=!0,i=c)),s[J1(i,a,o,l)]=!0,t.borderSkipped=s}function J1(t,e,n,r){return r?(t=T6(t,e,n),t=Q1(t,n,e)):t=Q1(t,e,n),t}function T6(t,e,n){return t===e?n:t===n?e:t}function Q1(t,e,n){return t==="start"?e:t==="end"?n:t}function C6(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Au extends Dr{parsePrimitiveData(e,n,r,i){return q1(e,n,r,i)}parseArrayData(e,n,r,i){return q1(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?o:l,f=a.axis==="x"?o:l,d=[];let h,p,m,g;for(h=r,p=r+i;h<p;++h)g=n[h],m={},m[s.axis]=s.parse(xs(g,c),h),d.push(hS(xs(g,f),m,a,h));return d}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(e),a=s._custom,o=xh(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),f=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const m=this.getParsed(p),g=s||$e(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,f),y=(m._stacks||{})[o.axis],v={horizontal:c,base:g.base,enableBorderRadius:!y||xh(m._custom)||a===y._top||a===y._bottom,x:c?g.head:x.center,y:c?x.center:g.head,height:c?x.size:Math.abs(g.size),width:c?Math.abs(g.size):x.size};h&&(v.options=d||this.resolveDataElementOptions(p,e[p].active?"active":i));const b=v.options||e[p].options;E6(v,b,y,a),C6(v,b,f.ratio),this.updateElement(e[p],p,v,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=r.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(n),l=o&&o[r.axis],c=f=>{const d=f._parsed.find(p=>p[r.axis]===l),h=d&&d[f.vScale.axis];if($e(h)||isNaN(h))return!0};for(const f of i)if(!(n!==void 0&&c(f))&&((s===!1||a.indexOf(f.stack)===-1||s===void 0&&f.stack===void 0)&&a.push(f.stack),f.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===n).shift()}_getAxis(){const e={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Fe(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(e)}_getStackIndex(e,n,r){const i=this._getStacks(e,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,a;for(s=0,a=n.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const o=e.barThickness;return{min:o||y6(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),c=l._custom,f=xh(c);let d=l[n.axis],h=0,p=r?this.applyStack(n,l,r):d,m,g;p!==d&&(h=p-d,p=d),f&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Zr(d)!==Zr(c.barEnd)&&(h=0),h+=d);const x=!$e(s)&&!f?s:h;let y=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(h+p):m=y,g=m-y,Math.abs(g)<a){g=S6(g,n,o)*a,d===o&&(y-=g/2);const v=n.getPixelForDecimal(0),b=n.getPixelForDecimal(1),_=Math.min(v,b),S=Math.max(v,b);y=Math.max(Math.min(y,S),_),m=y+g,r&&!f&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(o)){const v=Zr(g)*n.getLineWidthForValue(o)/2;y+=v,g-=v}return{size:g,base:y,head:m,center:m+g/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,s=i.skipNull,a=Fe(i.maxBarThickness,1/0);let o,l;const c=this._getAxisCount();if(n.grouped){const f=s?this._getStackCount(e):n.stackCount,d=i.barThickness==="flex"?_6(e,n,i,f*c):b6(e,n,i,f*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Fe(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;o=d.start+d.chunk*m+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else o=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(a,n.min*n.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}ve(Au,"id","bar"),ve(Au,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ve(Au,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Iu extends Dr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const s=super.parsePrimitiveData(e,n,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,n,r,i){const s=super.parseArrayData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=Fe(o[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,n,r,i){const s=super.parseObjectData(e,n,r,i);for(let a=0;a<s.length;a++){const o=n[r+a];s[a]._custom=Fe(o&&o.r&&+o.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y),c=a._custom;return{label:r[e]||"",value:"("+o+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,i),f=a.axis,d=o.axis;for(let h=n;h<n+r;h++){const p=e[h],m=!s&&this.getParsed(h),g={},x=g[f]=s?a.getPixelForDecimal(.5):a.getPixelForValue(m[f]),y=g[d]=s?o.getBasePixel():o.getPixelForValue(m[d]);g.skip=isNaN(x)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(h,p.active?"active":i),s&&(g.options.radius=0)),this.updateElement(p,h,g,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Fe(r&&r._custom,s),i}}ve(Iu,"id","bubble"),ve(Iu,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ve(Iu,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function N6(t,e,n){let r=1,i=1,s=0,a=0;if(e<xt){const o=t,l=o+e,c=Math.cos(o),f=Math.sin(o),d=Math.cos(l),h=Math.sin(l),p=(b,_,S)=>ec(b,o,l,!0)?1:Math.max(_,_*n,S,S*n),m=(b,_,S)=>ec(b,o,l,!0)?-1:Math.min(_,_*n,S,S*n),g=p(0,c,d),x=p(Mt,f,h),y=m(Qe,c,d),v=m(Qe+Mt,f,h);r=(g-y)/2,i=(x-v)/2,s=-(g+y)/2,a=-(x+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class zs extends Dr{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Ke(r[e])){const{key:l="value"}=this._parsing;s=c=>+xs(r[c],l)}let a,o;for(a=e,o=e+n;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Cr(this.options.rotation-90)}_getCircumference(){return Cr(this.options.circumference)}_getRotationExtents(){let e=xt,n=-xt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(Uj(this.options.cutout,o),1),c=this._getRingWeight(this.index),{circumference:f,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=N6(d,f,l),x=(r.width-a)/h,y=(r.height-a)/p,v=Math.max(Math.min(x,y)/2,0),b=Uw(this.options.radius,v),_=Math.max(b*l,0),S=(b-_)/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=g*b,i.total=this.calculateTotal(),this.outerRadius=b-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/xt)}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,o=a.chartArea,c=a.options.animation,f=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s&&c.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:x}=this._getSharedOptions(n,i);let y=this._getRotation(),v;for(v=0;v<n;++v)y+=this._circumference(v,s);for(v=n;v<n+r;++v){const b=this._circumference(v,s),_=e[v],S={x:f+this.offsetX,y:d+this.offsetY,startAngle:y,endAngle:y+b,circumference:b,outerRadius:m,innerRadius:p};x&&(S.options=g||this.resolveDataElementOptions(v,_.active?"active":i)),y+=b,this.updateElement(_,v,S,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?xt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Sc(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Fe(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(zs,"id","doughnut"),ve(zs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(zs,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ve(zs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data,{labels:{pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=e.legend.options;return n.labels.length&&n.datasets.length?n.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:i,pointStyle:r,borderRadius:a&&(o||d.borderRadius),index:c}}):[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Du extends Dr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,a=this.chart._animationsDisabled;let{start:o,count:l}=Yw(n,i,a);this._drawStart=o,this._drawCount=l,Xw(n)&&(o=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:c},e),this.updateElements(i,o,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(n,i),h=a.axis,p=o.axis,{spanGaps:m,segment:g}=this.options,x=ho(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",v=n+r,b=e.length;let _=n>0&&this.getParsed(n-1);for(let S=0;S<b;++S){const O=e[S],k=y?O:{};if(S<n||S>=v){k.skip=!0;continue}const T=this.getParsed(S),C=$e(T[p]),F=k[h]=a.getPixelForValue(T[h],S),j=k[p]=s||C?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,T,l):T[p],S);k.skip=isNaN(F)||isNaN(j)||C,k.stop=S>0&&Math.abs(T[h]-_[h])>x,g&&(k.parsed=T,k.raw=c.data[S]),d&&(k.options=f||this.resolveDataElementOptions(S,O.active?"active":i)),y||this.updateElement(O,S,k,i),_=T}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ve(Du,"id","line"),ve(Du,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ve(Du,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Sl extends Dr{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Sc(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,n,r,i){return rS.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),o=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,n,r,i){const s=i==="reset",a=this.chart,l=a.options.animation,c=this._cachedMeta.rScale,f=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Qe;let p=h,m;const g=360/this.countVisibleElements();for(m=0;m<n;++m)p+=this._computeAngle(m,i,g);for(m=n;m<n+r;m++){const x=e[m];let y=p,v=p+this._computeAngle(m,i,g),b=a.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=v,s&&(l.animateScale&&(b=0),l.animateRotate&&(y=v=h));const _={x:f,y:d,innerRadius:0,outerRadius:b,startAngle:y,endAngle:v,options:this.resolveDataElementOptions(m,x.active?"active":i)};this.updateElement(x,m,_,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?Cr(this.resolveDataElementOptions(e,n).angle||r):0}}ve(Sl,"id","polarArea"),ve(Sl,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ve(Sl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class B0 extends zs{}ve(B0,"id","pie"),ve(B0,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ru extends Dr{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return rS.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],s=n.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let o=n;o<n+r;o++){const l=e[o],c=this.resolveDataElementOptions(o,l.active?"active":i),f=s.getPointPositionForValue(o,this.getParsed(o).r),d=a?s.xCenter:f.x,h=a?s.yCenter:f.y,p={x:d,y:h,angle:f.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,o,p,i)}}}ve(Ru,"id","radar"),ve(Ru,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ve(Ru,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Pu extends Dr{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:s}=n,a=this.getParsed(e),o=i.getLabelForValue(a.x),l=s.getLabelForValue(a.y);return{label:r[e]||"",value:"("+o+", "+l+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:s,count:a}=Yw(n,r,i);if(this._drawStart=s,this._drawCount=a,Xw(n)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=n;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=r;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(o,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,f=this.resolveDataElementOptions(n,i),d=this.getSharedOptions(f),h=this.includeOptions(i,d),p=a.axis,m=o.axis,{spanGaps:g,segment:x}=this.options,y=ho(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let b=n>0&&this.getParsed(n-1);for(let _=n;_<n+r;++_){const S=e[_],O=this.getParsed(_),k=v?S:{},T=$e(O[m]),C=k[p]=a.getPixelForValue(O[p],_),F=k[m]=s||T?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,O,l):O[m],_);k.skip=isNaN(C)||isNaN(F)||T,k.stop=_>0&&Math.abs(O[p]-b[p])>y,x&&(k.parsed=O,k.raw=c.data[_]),h&&(k.options=d||this.resolveDataElementOptions(_,S.active?"active":i)),v||this.updateElement(S,_,k,i),b=O}this.updateSharedOptions(d,i,f)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let o=0;for(let l=n.length-1;l>=0;--l)o=Math.max(o,n[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,a)/2}}ve(Pu,"id","scatter"),ve(Pu,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ve(Pu,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var A6=Object.freeze({__proto__:null,BarController:Au,BubbleController:Iu,DoughnutController:zs,LineController:Du,PieController:B0,PolarAreaController:Sl,RadarController:Ru,ScatterController:Pu});function Is(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ug{constructor(e){ve(this,"options");this.options=e||{}}static override(e){Object.assign(Ug.prototype,e)}init(){}formats(){return Is()}parse(){return Is()}format(){return Is()}add(){return Is()}diff(){return Is()}startOf(){return Is()}endOf(){return Is()}}var I6={_date:Ug};function D6(t,e,n,r){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const c=o._reversePixels?Zj:gi;if(r){if(i._sharedOptions){const f=s[0],d=typeof f.getRange=="function"&&f.getRange(e);if(d){const h=c(s,e,n-d),p=c(s,e,n+d);return{lo:h.lo,hi:p.hi}}}}else{const f=c(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:h}=t,p=h.slice(0,f.lo+1).reverse().findIndex(g=>!$e(g[d.axis]));f.lo-=Math.max(0,p);const m=h.slice(f.hi).findIndex(g=>!$e(g[d.axis]));f.hi+=Math.max(0,m)}return f}}return{lo:0,hi:s.length-1}}function vd(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),a=n[e];for(let o=0,l=s.length;o<l;++o){const{index:c,data:f}=s[o],{lo:d,hi:h}=D6(s[o],e,a,i);for(let p=d;p<=h;++p){const m=f[p];m.skip||r(m,c,p)}}}function R6(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function vh(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||vd(t,n,e,function(o,l,c){!i&&!mi(o,t.chartArea,0)||o.inRange(e.x,e.y,r)&&s.push({element:o,datasetIndex:l,index:c})},!0),s}function P6(t,e,n,r){let i=[];function s(a,o,l){const{startAngle:c,endAngle:f}=a.getProps(["startAngle","endAngle"],r),{angle:d}=Hw(a,{x:e.x,y:e.y});ec(d,c,f)&&i.push({element:a,datasetIndex:o,index:l})}return vd(t,n,e,s),i}function M6(t,e,n,r,i,s){let a=[];const o=R6(n);let l=Number.POSITIVE_INFINITY;function c(f,d,h){const p=f.inRange(e.x,e.y,i);if(r&&!p)return;const m=f.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!p)return;const x=o(e,m);x<l?(a=[{element:f,datasetIndex:d,index:h}],l=x):x===l&&a.push({element:f,datasetIndex:d,index:h})}return vd(t,n,e,c),a}function yh(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?P6(t,e,n,i):M6(t,e,n,r,i,s)}function Z1(t,e,n,r,i){const s=[],a=n==="x"?"inXRange":"inYRange";let o=!1;return vd(t,n,e,(l,c,f)=>{l[a]&&l[a](e[n],i)&&(s.push({element:l,datasetIndex:c,index:f}),o=o||l.inRange(e.x,e.y,i))}),r&&!o?[]:s}var O6={modes:{index(t,e,n,r){const i=Os(e,t),s=n.axis||"x",a=n.includeInvisible||!1,o=n.intersect?vh(t,i,s,r,a):yh(t,i,s,!1,r,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const f=o[0].index,d=c.data[f];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:f})}),l):[]},dataset(t,e,n,r){const i=Os(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;let o=n.intersect?vh(t,i,s,r,a):yh(t,i,s,!1,r,a);if(o.length>0){const l=o[0].datasetIndex,c=t.getDatasetMeta(l).data;o=[];for(let f=0;f<c.length;++f)o.push({element:c[f],datasetIndex:l,index:f})}return o},point(t,e,n,r){const i=Os(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return vh(t,i,s,r,a)},nearest(t,e,n,r){const i=Os(e,t),s=n.axis||"xy",a=n.includeInvisible||!1;return yh(t,i,s,n.intersect,r,a)},x(t,e,n,r){const i=Os(e,t);return Z1(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Os(e,t);return Z1(t,i,"y",n.intersect,r)}}};const pS=["left","top","right","bottom"];function Fo(t,e){return t.filter(n=>n.pos===e)}function ev(t,e){return t.filter(n=>pS.indexOf(n.pos)===-1&&n.box.axis===e)}function Lo(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function j6(t){const e=[];let n,r,i,s,a,o;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function F6(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!pS.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function L6(t,e){const n=F6(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,c=n[o.stack],f=c&&o.stackWeight/c.weight;o.horizontal?(o.width=f?f*r:l&&e.availableWidth,o.height=i):(o.width=r,o.height=f?f*i:l&&e.availableHeight)}return n}function B6(t){const e=j6(t),n=Lo(e.filter(c=>c.box.fullSize),!0),r=Lo(Fo(e,"left"),!0),i=Lo(Fo(e,"right")),s=Lo(Fo(e,"top"),!0),a=Lo(Fo(e,"bottom")),o=ev(e,"x"),l=ev(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Fo(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function tv(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function gS(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function U6(t,e,n,r){const{pos:i,box:s}=n,a=t.maxPadding;if(!Ke(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&gS(a,s.getPadding());const o=Math.max(0,e.outerWidth-tv(a,t,"left","right")),l=Math.max(0,e.outerHeight-tv(a,t,"top","bottom")),c=o!==t.w,f=l!==t.h;return t.w=o,t.h=l,n.horizontal?{same:c,other:f}:{same:f,other:c}}function z6(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function W6(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],n[a])}),s}return r(t?["left","right"]:["top","bottom"])}function Qo(t,e,n,r){const i=[];let s,a,o,l,c,f;for(s=0,a=t.length,c=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,W6(o.horizontal,e));const{same:d,other:h}=U6(e,n,o,r);c|=d&&i.length,f=f||h,l.fullSize||i.push(o)}return c&&Qo(i,e,n,r)||f}function ru(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function nv(t,e,n,r){const i=n.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,c=r[o.stack]||{placed:0,weight:1},f=o.stackWeight/c.weight||1;if(o.horizontal){const d=e.w*f,h=c.size||l.height;Zl(c.start)&&(a=c.start),l.fullSize?ru(l,i.left,a,n.outerWidth-i.right-i.left,h):ru(l,e.left+c.placed,a,d,h),c.start=a,c.placed+=d,a=l.bottom}else{const d=e.h*f,h=c.size||l.width;Zl(c.start)&&(s=c.start),l.fullSize?ru(l,s,i.top,h,n.outerHeight-i.bottom-i.top):ru(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=a}var mn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=bn(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(n-i.height,0),o=B6(t.boxes),l=o.vertical,c=o.horizontal;st(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const f=l.reduce((g,x)=>x.box.options&&x.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/f,hBoxMaxHeight:a/2}),h=Object.assign({},i);gS(h,bn(r));const p=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),m=L6(l.concat(c),d);Qo(o.fullSize,p,d,m),Qo(l,p,d,m),Qo(c,p,d,m)&&Qo(l,p,d,m),z6(p),nv(o.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,nv(o.rightAndBottom,p,d,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},st(o.chartArea,g=>{const x=g.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class mS{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class H6 extends mS{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Mu="$chartjs",V6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rv=t=>t===null||t==="";function $6(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Mu]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",rv(i)){const s=U1(t,"width");s!==void 0&&(t.width=s)}if(rv(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=U1(t,"height");s!==void 0&&(t.height=s)}return t}const xS=GF?{passive:!0}:!1;function G6(t,e,n){t&&t.addEventListener(e,n,xS)}function K6(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,xS)}function Y6(t,e){const n=V6[t.type]||t.type,{x:r,y:i}=Os(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ff(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function X6(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ff(o.addedNodes,r),a=a&&!Ff(o.removedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function q6(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||Ff(o.removedNodes,r),a=a&&!Ff(o.addedNodes,r);a&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const nc=new Map;let iv=0;function vS(){const t=window.devicePixelRatio;t!==iv&&(iv=t,nc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function J6(t,e){nc.size||window.addEventListener("resize",vS),nc.set(t,e)}function Q6(t){nc.delete(t),nc.size||window.removeEventListener("resize",vS)}function Z6(t,e,n){const r=t.canvas,i=r&&Bg(r);if(!i)return;const s=Kw((o,l)=>{const c=i.clientWidth;n(o,l),c<i.clientWidth&&n()},window),a=new ResizeObserver(o=>{const l=o[0],c=l.contentRect.width,f=l.contentRect.height;c===0&&f===0||s(c,f)});return a.observe(i),J6(t,s),a}function bh(t,e,n){n&&n.disconnect(),e==="resize"&&Q6(t)}function eL(t,e,n){const r=t.canvas,i=Kw(s=>{t.ctx!==null&&n(Y6(s,t))},t);return G6(r,e,i),i}class tL extends mS{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?($6(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Mu])return!1;const r=n[Mu].initial;["height","width"].forEach(s=>{const a=r[s];$e(a)?n.removeAttribute(s):n.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Mu],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),a={attach:X6,detach:q6,resize:Z6}[n]||eL;i[n]=a(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:bh,detach:bh,resize:bh}[n]||K6)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return $F(e,n,r,i)}isAttached(e){const n=e&&Bg(e);return!!(n&&n.isConnected)}}function nL(t){return!Lg()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?H6:tL}class Mr{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return ho(this.x)&&ho(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}ve(Mr,"defaults",{}),ve(Mr,"defaultRoutes");function rL(t,e){const n=t.options.ticks,r=iL(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?aL(e):[],a=s.length,o=s[0],l=s[a-1],c=[];if(a>i)return oL(e,c,s,a/i),c;const f=sL(s,e,i);if(a>0){let d,h;const p=a>1?Math.round((l-o)/(a-1)):null;for(iu(e,c,f,$e(p)?0:o-p,o),d=0,h=a-1;d<h;d++)iu(e,c,f,s[d],s[d+1]);return iu(e,c,f,l,$e(p)?e.length:l+p),c}return iu(e,c,f),c}function iL(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function sL(t,e,n){const r=lL(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Yj(r);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function aL(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function oL(t,e,n,r){let i=0,s=n[0],a;for(r=Math.ceil(r),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=n[i*r])}function iu(t,e,n,r,i){const s=Fe(r,0),a=Math.min(Fe(i,t.length),t.length);let o=0,l,c,f;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),f=s;f<0;)o++,f=Math.round(s+o*n);for(c=Math.max(s,0);c<a;c++)c===f&&(e.push(t[c]),o++,f=Math.round(s+o*n))}function lL(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const cL=t=>t==="left"?"right":t==="right"?"left":t,sv=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,av=(t,e)=>Math.min(e||t,t);function ov(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function uL(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,a-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-o||l>a+o)))return l}function fL(t,e){st(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function Bo(t){return t.drawTicks?t.tickLength:0}function lv(t,e){if(!t.display)return 0;const n=Gt(t.font,e),r=bn(t.padding);return(_t(t.text)?t.text.length:1)*n.lineHeight+r.height}function dL(t,e){return ks(t,{scale:e,type:"scale"})}function hL(t,e,n){return ks(t,{tick:n,index:e,type:"tick"})}function pL(t,e,n){let r=Rg(t);return(n&&e!=="right"||!n&&e==="right")&&(r=cL(r)),r}function gL(t,e,n,r){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:c,scales:f}=l;let d=0,h,p,m;const g=a-i,x=o-s;if(t.isHorizontal()){if(p=hn(r,s,o),Ke(n)){const y=Object.keys(n)[0],v=n[y];m=f[y].getPixelForValue(v)+g-e}else n==="center"?m=(c.bottom+c.top)/2+g-e:m=sv(t,n,e);h=o-s}else{if(Ke(n)){const y=Object.keys(n)[0],v=n[y];p=f[y].getPixelForValue(v)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=sv(t,n,e);m=hn(r,a,i),d=n==="left"?-Mt:Mt}return{titleX:p,titleY:m,maxWidth:h,rotation:d}}class ga extends Mr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Kn(e,Number.POSITIVE_INFINITY),n=Kn(n,Number.NEGATIVE_INFINITY),r=Kn(r,Number.POSITIVE_INFINITY),i=Kn(i,Number.NEGATIVE_INFINITY),{min:Kn(e,r),max:Kn(n,i),minDefined:It(e),maxDefined:It(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let l=0,c=o.length;l<c;++l)a=o[l].controller.getMinMax(this,e),i||(n=Math.min(n,a.min)),s||(r=Math.max(r,a.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Kn(n,Kn(r,n)),max:Kn(r,Kn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ht(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=SF(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?ov(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=rL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ht(this.options.afterUpdate,[this])}beforeSetDimensions(){ht(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ht(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ht(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ht(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=ht(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){ht(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ht(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=av(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let a=i,o,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const f=this._getLabelSizes(),d=f.widest.width,h=f.highest.height,p=Jt(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/r:p/(r-1),d+6>o&&(o=p/(r-(e.offset?.5:1)),l=this.maxHeight-Bo(e.grid)-n.padding-lv(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),a=Ig(Math.min(Math.asin(Jt((f.highest.height+6)/o,-1,1)),Math.asin(Jt(l/c,-1,1))-Math.asin(Jt(h/c,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){ht(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ht(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=lv(i,n.options.font);if(o?(e.width=this.maxWidth,e.height=Bo(s)+l):(e.height=this.maxHeight,e.width=Bo(s)+l),r.display&&this.ticks.length){const{first:c,last:f,widest:d,highest:h}=this._getLabelSizes(),p=r.padding*2,m=Cr(this.labelRotation),g=Math.cos(m),x=Math.sin(m);if(o){const y=r.mirror?0:x*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{const y=r.mirror?0:g*d.width+x*h.height;e.width=Math.min(this.maxWidth,e.width+y+p)}this._calculatePadding(c,f,x,g)}}this._handleMargins(),o?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,c=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const f=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*e.width,p=r*n.height):(h=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,p=n.width/2),this.paddingLeft=Math.max((h-f+a)*this.width/(this.width-f),0),this.paddingRight=Math.max((p-d+a)*this.width/(this.width-d),0)}else{let f=n.height/2,d=e.height/2;s==="start"?(f=0,d=e.height):s==="end"&&(f=n.height,d=0),this.paddingTop=f+a,this.paddingBottom=d+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ht(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)$e(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=ov(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(n/av(n,r));let c=0,f=0,d,h,p,m,g,x,y,v,b,_,S;for(d=0;d<n;d+=l){if(m=e[d].label,g=this._resolveTickFontOptions(d),i.font=x=g.string,y=s[x]=s[x]||{data:{},gc:[]},v=g.lineHeight,b=_=0,!$e(m)&&!_t(m))b=Of(i,y.data,y.gc,b,m),_=v;else if(_t(m))for(h=0,p=m.length;h<p;++h)S=m[h],!$e(S)&&!_t(S)&&(b=Of(i,y.data,y.gc,b,S),_+=v);a.push(b),o.push(_),c=Math.max(b,c),f=Math.max(_,f)}fL(s,n);const O=a.indexOf(c),k=o.indexOf(f),T=C=>({width:a[C]||0,height:o[C]||0});return{first:T(0),last:T(n-1),widest:T(O),highest:T(k),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Qj(this._alignToPixels?As(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=hL(this.getContext(),e,r))}return this.$context||(this.$context=dL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Cr(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*r>o*i?o/r:l/i:l*i<o*r?l/r:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Bo(s),p=[],m=o.setContext(this.getContext()),g=m.display?m.width:0,x=g/2,y=function(ke){return As(r,ke,g)};let v,b,_,S,O,k,T,C,F,j,U,Z;if(a==="top")v=y(this.bottom),k=this.bottom-h,C=v-x,j=y(e.top)+x,Z=e.bottom;else if(a==="bottom")v=y(this.top),j=e.top,Z=y(e.bottom)-x,k=v+x,C=this.top+h;else if(a==="left")v=y(this.right),O=this.right-h,T=v-x,F=y(e.left)+x,U=e.right;else if(a==="right")v=y(this.left),F=e.left,U=y(e.right)-x,O=v+x,T=this.left+h;else if(n==="x"){if(a==="center")v=y((e.top+e.bottom)/2+.5);else if(Ke(a)){const ke=Object.keys(a)[0],we=a[ke];v=y(this.chart.scales[ke].getPixelForValue(we))}j=e.top,Z=e.bottom,k=v+x,C=k+h}else if(n==="y"){if(a==="center")v=y((e.left+e.right)/2);else if(Ke(a)){const ke=Object.keys(a)[0],we=a[ke];v=y(this.chart.scales[ke].getPixelForValue(we))}O=v-x,T=O-h,F=e.left,U=e.right}const Ee=Fe(i.ticks.maxTicksLimit,d),le=Math.max(1,Math.ceil(d/Ee));for(b=0;b<d;b+=le){const ke=this.getContext(b),we=s.setContext(ke),ie=o.setContext(ke),te=we.lineWidth,fe=we.color,ee=ie.dash||[],D=ie.dashOffset,B=we.tickWidth,L=we.tickColor,M=we.tickBorderDash||[],W=we.tickBorderDashOffset;_=uL(this,b,l),_!==void 0&&(S=As(r,_,te),c?O=T=F=U=S:k=C=j=Z=S,p.push({tx1:O,ty1:k,tx2:T,ty2:C,x1:F,y1:j,x2:U,y2:Z,width:te,color:fe,borderDash:ee,borderDashOffset:D,tickWidth:B,tickColor:L,tickBorderDash:M,tickBorderDashOffset:W}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:c,padding:f,mirror:d}=s,h=Bo(r.grid),p=h+f,m=d?-f:p,g=-Cr(this.labelRotation),x=[];let y,v,b,_,S,O,k,T,C,F,j,U,Z="middle";if(i==="top")O=this.bottom-m,k=this._getXAxisLabelAlignment();else if(i==="bottom")O=this.top+m,k=this._getXAxisLabelAlignment();else if(i==="left"){const le=this._getYAxisLabelAlignment(h);k=le.textAlign,S=le.x}else if(i==="right"){const le=this._getYAxisLabelAlignment(h);k=le.textAlign,S=le.x}else if(n==="x"){if(i==="center")O=(e.top+e.bottom)/2+p;else if(Ke(i)){const le=Object.keys(i)[0],ke=i[le];O=this.chart.scales[le].getPixelForValue(ke)+p}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")S=(e.left+e.right)/2-p;else if(Ke(i)){const le=Object.keys(i)[0],ke=i[le];S=this.chart.scales[le].getPixelForValue(ke)}k=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?Z="top":l==="end"&&(Z="bottom"));const Ee=this._getLabelSizes();for(y=0,v=o.length;y<v;++y){b=o[y],_=b.label;const le=s.setContext(this.getContext(y));T=this.getPixelForTick(y)+s.labelOffset,C=this._resolveTickFontOptions(y),F=C.lineHeight,j=_t(_)?_.length:1;const ke=j/2,we=le.color,ie=le.textStrokeColor,te=le.textStrokeWidth;let fe=k;a?(S=T,k==="inner"&&(y===v-1?fe=this.options.reverse?"left":"right":y===0?fe=this.options.reverse?"right":"left":fe="center"),i==="top"?c==="near"||g!==0?U=-j*F+F/2:c==="center"?U=-Ee.highest.height/2-ke*F+F:U=-Ee.highest.height+F/2:c==="near"||g!==0?U=F/2:c==="center"?U=Ee.highest.height/2-ke*F:U=Ee.highest.height-j*F,d&&(U*=-1),g!==0&&!le.showLabelBackdrop&&(S+=F/2*Math.sin(g))):(O=T,U=(1-j)*F/2);let ee;if(le.showLabelBackdrop){const D=bn(le.backdropPadding),B=Ee.heights[y],L=Ee.widths[y];let M=U-D.top,W=0-D.left;switch(Z){case"middle":M-=B/2;break;case"bottom":M-=B;break}switch(k){case"center":W-=L/2;break;case"right":W-=L;break;case"inner":y===v-1?W-=L:y>0&&(W-=L/2);break}ee={left:W,top:M,width:L+D.width,height:B+D.height,color:le.backdropColor}}x.push({label:_,font:C,textOffset:U,options:{rotation:g,color:we,strokeColor:ie,strokeWidth:te,textAlign:fe,textBaseline:Z,translation:[S,O],backdrop:ee}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Cr(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let c,f;return n==="left"?i?(f=this.right+s,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f+=l)):(f=this.right-o,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f=this.left)):n==="right"?i?(f=this.left+s,r==="near"?c="right":r==="center"?(c="center",f-=l/2):(c="left",f-=l)):(f=this.left+o,r==="near"?c="left":r==="center"?(c="center",f+=l/2):(c="right",f=this.right)):c="right",{textAlign:c,x:f}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:a}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,c,f)=>{!f.width||!f.color||(r.save(),r.lineWidth=f.width,r.strokeStyle=f.color,r.setLineDash(f.borderDash||[]),r.lineDashOffset=f.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,a=i.length;s<a;++s){const l=i[s];n.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),a=r.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,f,d,h;this.isHorizontal()?(c=As(e,this.left,a)-a/2,f=As(e,this.right,o)+o/2,d=h=l):(d=As(e,this.top,a)-a/2,h=As(e,this.bottom,o)+o/2,c=f=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(f,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&gd(r,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,c=a.label,f=a.textOffset;sa(r,c,0,f,l,o)}i&&md(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Gt(r.font),a=bn(r.padding),o=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Ke(n)?(l+=a.bottom,_t(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=a.top;const{titleX:c,titleY:f,maxWidth:d,rotation:h}=gL(this,l,n,o);sa(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:h,textAlign:pL(o,n,i),textBaseline:"middle",translation:[c,f]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Fe(e.grid&&e.grid.z,-1),i=Fe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ga.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=n.length;s<a;++s){const o=n[s];o[r]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Gt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class su{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;vL(n)&&(r=this.register(n));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,mL(e,a,r),this.override&&wt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in wt[i]&&(delete wt[i][r],this.override&&delete ia[r])}}function mL(t,e,n){const r=Ql(Object.create(null),[n?wt.get(n):{},wt.get(e),t.defaults]);wt.set(e,r),t.defaultRoutes&&xL(e,t.defaultRoutes),t.descriptors&&wt.describe(e,t.descriptors)}function xL(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),a=e[n].split("."),o=a.pop(),l=a.join(".");wt.route(s,i,l,o)})}function vL(t){return"id"in t&&"defaults"in t}class yL{constructor(){this.controllers=new su(Dr,"datasets",!0),this.elements=new su(Mr,"elements"),this.plugins=new su(Object,"plugins"),this.scales=new su(ga,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):st(i,a=>{const o=r||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,n,r){const i=Ag(e);ht(r["before"+i],[],r),n[e](r),ht(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Kr=new yL;class bL{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,n,r,i){i=i||{};for(const s of e){const a=s.plugin,o=a[r],l=[n,i,s.options];if(ht(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){$e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Fe(r.options&&r.options.plugins,{}),s=_L(r);return i===!1&&!n?[]:SL(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function _L(t){const e={},n=[],r=Object.keys(Kr.plugins.items);for(let s=0;s<r.length;s++)n.push(Kr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];n.indexOf(a)===-1&&(n.push(a),e[a.id]=!0)}return{plugins:n,localIds:e}}function wL(t,e){return!e&&t===!1?null:t===!0?{}:t}function SL(t,{plugins:e,localIds:n},r,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,c=wL(r[l],i);c!==null&&s.push({plugin:o,options:kL(t.config,{plugin:o,local:n[l]},c,a)})}return s}function kL(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(r,s);return n&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function U0(t,e){const n=wt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function EL(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function TL(t,e){return t===e?"_index_":"_value_"}function cv(t){if(t==="x"||t==="y"||t==="r")return t}function CL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function z0(t,...e){if(cv(t))return t;for(const n of e){const r=n.axis||CL(n.position)||t.length>1&&cv(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function uv(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function NL(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return uv(t,"x",n[0])||uv(t,"y",n[0])}return{}}function AL(t,e){const n=ia[t.type]||{scales:{}},r=e.scales||{},i=U0(t.type,e),s=Object.create(null);return Object.keys(r).forEach(a=>{const o=r[a];if(!Ke(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=z0(a,o,NL(a,t),wt.scales[o.type]),c=TL(l,i),f=n.scales||{};s[a]=yl(Object.create(null),[{axis:l},o,f[l],f[c]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||U0(o,e),f=(ia[o]||{}).scales||{};Object.keys(f).forEach(d=>{const h=EL(d,l),p=a[h+"AxisID"]||h;s[p]=s[p]||Object.create(null),yl(s[p],[{axis:h},r[p],f[d]])})}),Object.keys(s).forEach(a=>{const o=s[a];yl(o,[wt.scales[o.type],wt.scale])}),s}function yS(t){const e=t.options||(t.options={});e.plugins=Fe(e.plugins,{}),e.scales=AL(t,e)}function bS(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function IL(t){return t=t||{},t.data=bS(t.data),yS(t),t}const fv=new Map,_S=new Set;function au(t,e){let n=fv.get(t);return n||(n=e(),fv.set(t,n),_S.add(n)),n}const Uo=(t,e,n)=>{const r=xs(e,n);r!==void 0&&t.add(r)};class DL{constructor(e){this._config=IL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=bS(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),yS(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return au(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return au(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return au(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return au(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),o=a.get(n);if(o)return o;const l=new Set;n.forEach(f=>{e&&(l.add(e),f.forEach(d=>Uo(l,e,d))),f.forEach(d=>Uo(l,i,d)),f.forEach(d=>Uo(l,ia[s]||{},d)),f.forEach(d=>Uo(l,wt,d)),f.forEach(d=>Uo(l,F0,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),_S.has(n)&&a.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,ia[n]||{},wt.datasets[n]||{},{type:n},wt,F0]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=dv(this._resolverCache,e,i);let l=a;if(PL(a,n)){s.$shared=!1,r=vs(r)?r():r;const c=this.createResolver(e,r,o);l=po(a,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=dv(this._resolverCache,e,r);return Ke(n)?po(s,n,void 0,i):s}}function dv(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Og(e,n),subPrefixes:n.filter(o=>!o.toLowerCase().includes("hover"))},r.set(i,s)),s}const RL=t=>Ke(t)&&Object.getOwnPropertyNames(t).some(e=>vs(t[e]));function PL(t,e){const{isScriptable:n,isIndexable:r}=Zw(t);for(const i of e){const s=n(i),a=r(i),o=(a||s)&&t[i];if(s&&(vs(o)||RL(o))||a&&_t(o))return!0}return!1}var ML="4.5.1";const OL=["top","bottom","left","right","chartArea"];function hv(t,e){return t==="top"||t==="bottom"||OL.indexOf(t)===-1&&e==="x"}function pv(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function gv(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ht(n&&n.onComplete,[t],e)}function jL(t){const e=t.chart,n=e.options.animation;ht(n&&n.onProgress,[t],e)}function wS(t){return Lg()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Ou={},mv=t=>{const e=wS(t);return Object.values(Ou).filter(n=>n.canvas===e).pop()};function FL(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const a=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=a)}}}function LL(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}class Ct{static register(...e){Kr.add(...e),xv()}static unregister(...e){Kr.remove(...e),xv()}constructor(e,n){const r=this.config=new DL(n),i=wS(e),s=mv(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||nL(i)),this.platform.updateConfig(r);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,f=l&&l.width;if(this.id=Bj(),this.ctx=o,this.canvas=l,this.width=f,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nF(d=>this.update(d),a.resizeDelay||0),this._dataChanges=[],Ou[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ri.listen(this,"complete",gv),ri.listen(this,"progress",jL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return $e(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Kr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():B1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return j1(this.canvas,this.ctx),this}stop(){return ri.stop(this),this}resize(e,n){ri.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,n,s),o=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,B1(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),ht(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};st(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((a,o)=>(a[o]=!1,a),{});let s=[];n&&(s=s.concat(Object.keys(n).map(a=>{const o=n[a],l=z0(a,o),c=l==="r",f=l==="x";return{options:o,dposition:c?"chartArea":f?"bottom":"left",dtype:c?"radialLinear":f?"category":"linear"}}))),st(s,a=>{const o=a.options,l=o.id,c=z0(l,o),f=Fe(o.type,a.dtype);(o.position===void 0||hv(o.position,c)!==hv(a.dposition))&&(o.position=a.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===f)d=r[l];else{const h=Kr.getScale(f);d=new h({id:l,type:f,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(o,e)}),st(i,(a,o)=>{a||delete r[o]}),st(r,a=>{mn.configure(this,a,a.options),mn.addBox(this,a)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(pv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let a=this.getDatasetMeta(r);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=o,a.indexAxis=s.indexAxis||U0(o,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const l=Kr.getController(o),{datasetElementType:c,dataElementType:f}=wt.datasets[o];Object.assign(l,{dataElementType:Kr.getElement(f),datasetElementType:c&&Kr.getElement(c)}),a.controller=new l(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){st(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let c=0,f=this.data.datasets.length;c<f;c++){const{controller:d}=this.getDatasetMeta(c),h=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(h),a=Math.max(+d.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||st(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(pv("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){st(this.scales,e=>{mn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!C1(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const a=r==="_removeElements"?-s:s;FL(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!C1(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],st(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,vs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ri.has(this)?this.attached&&!ri.running(this)&&ri.start(this):(this.draw(),gv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const a=n[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=uS(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&gd(n,i),e.controller.draw(),i&&md(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return mi(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=O6.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Zl(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ri.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),j1(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ou[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,a)=>{n.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};st(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",o)},n.isAttached(this.canvas)?o():a()}unbindEvents(){st(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},st(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,a,o,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const c=a&&this.getDatasetMeta(a.datasetIndex).controller;c&&c[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!Rf(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(f=>!c.some(d=>f.datasetIndex===d.datasetIndex&&f.index===d.index)),a=s(n,e),o=r?e:s(e,n);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,a=n,o=this._getActiveElements(e,i,r,a),l=$j(e),c=LL(e,this._lastEvent,r,l);r&&(this._lastEvent=null,ht(s.onHover,[e,o,this],this),l&&ht(s.onClick,[e,o,this],this));const f=!Rf(o,i);return(f||n)&&(this._active=o,this._updateHoverStyles(o,i,n)),this._lastEvent=c,f}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}ve(Ct,"defaults",wt),ve(Ct,"instances",Ou),ve(Ct,"overrides",ia),ve(Ct,"registry",Kr),ve(Ct,"version",ML),ve(Ct,"getChart",mv);function xv(){return st(Ct.instances,t=>t._plugins.invalidate())}function BL(t,e,n){const{startAngle:r,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:c,borderJoinStyle:f}=l,d=Math.min(c/a,pn(r-n));if(t.beginPath(),t.arc(i,s,a-c/2,r+d/2,n-d/2),o>0){const h=Math.min(c/o,pn(r-n));t.arc(i,s,o+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,a*pn(r-n));if(f==="round")t.arc(i,s,h,n-Qe/2,r+Qe/2,!0);else if(f==="bevel"){const p=2*h*h,m=-p*Math.cos(n+Qe/2)+i,g=-p*Math.sin(n+Qe/2)+s,x=p*Math.cos(r+Qe/2)+i,y=p*Math.sin(r+Qe/2)+s;t.lineTo(m,g),t.lineTo(x,y)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function UL(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let c=i/o;t.beginPath(),t.arc(s,a,o,r-c,n+c),l>i?(c=i/l,t.arc(s,a,l,n+c,r-c,!0)):t.arc(s,a,i,n+Mt,r-Mt),t.closePath(),t.clip()}function zL(t){return Mg(t,["outerStart","outerEnd","innerStart","innerEnd"])}function WL(t,e,n,r){const i=zL(t.options.borderRadius),s=(n-e)/2,a=Math.min(s,r*e/2),o=l=>{const c=(n-Math.min(s,l))*r/2;return Jt(l,0,Math.min(s,c))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Jt(i.innerStart,0,a),innerEnd:Jt(i.innerEnd,0,a)}}function Sa(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Lf(t,e,n,r,i,s){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:f}=e,d=Math.max(e.outerRadius+r+n-c,0),h=f>0?f+r+n+c:0;let p=0;const m=i-l;if(r){const le=f>0?f-r:0,ke=d>0?d-r:0,we=(le+ke)/2,ie=we!==0?m*we/(we+r):m;p=(m-ie)/2}const g=Math.max(.001,m*d-n/Qe)/d,x=(m-g)/2,y=l+x+p,v=i-x-p,{outerStart:b,outerEnd:_,innerStart:S,innerEnd:O}=WL(e,h,d,v-y),k=d-b,T=d-_,C=y+b/k,F=v-_/T,j=h+S,U=h+O,Z=y+S/j,Ee=v-O/U;if(t.beginPath(),s){const le=(C+F)/2;if(t.arc(a,o,d,C,le),t.arc(a,o,d,le,F),_>0){const te=Sa(T,F,a,o);t.arc(te.x,te.y,_,F,v+Mt)}const ke=Sa(U,v,a,o);if(t.lineTo(ke.x,ke.y),O>0){const te=Sa(U,Ee,a,o);t.arc(te.x,te.y,O,v+Mt,Ee+Math.PI)}const we=(v-O/h+(y+S/h))/2;if(t.arc(a,o,h,v-O/h,we,!0),t.arc(a,o,h,we,y+S/h,!0),S>0){const te=Sa(j,Z,a,o);t.arc(te.x,te.y,S,Z+Math.PI,y-Mt)}const ie=Sa(k,y,a,o);if(t.lineTo(ie.x,ie.y),b>0){const te=Sa(k,C,a,o);t.arc(te.x,te.y,b,y-Mt,C)}}else{t.moveTo(a,o);const le=Math.cos(C)*d+a,ke=Math.sin(C)*d+o;t.lineTo(le,ke);const we=Math.cos(F)*d+a,ie=Math.sin(F)*d+o;t.lineTo(we,ie)}t.closePath()}function HL(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){Lf(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(o)||(l=a+(o%xt||xt))}return Lf(t,e,n,r,l,i),t.fill(),l}function VL(t,e,n,r,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:c,borderJoinStyle:f,borderDash:d,borderDashOffset:h,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,m?(t.lineWidth=c*2,t.lineJoin=f||"round"):(t.lineWidth=c,t.lineJoin=f||"bevel");let g=e.endAngle;if(s){Lf(t,e,n,r,g,i);for(let x=0;x<s;++x)t.stroke();isNaN(o)||(g=a+(o%xt||xt))}m&&UL(t,e,g),l.selfJoin&&g-a>=Qe&&p===0&&f!=="miter"&&BL(t,e,g),s||(Lf(t,e,n,r,g,i),t.stroke())}class Zo extends Mr{constructor(n){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=Hw(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:f,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=Fe(h,c-l),g=ec(a,l,c)&&l!==c,x=m>=xt||g,y=pi(o,f+p,d+p);return x&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:f}=this.options,d=(s+a)/2,h=(o+l+f+c)/2;return{x:r+Math.cos(d)*h,y:i+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,a=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>xt?Math.floor(i/xt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Qe,i||0)),f=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,HL(n,this,f,a,o),VL(n,this,f,a,o),n.restore()}}ve(Zo,"id","arc"),ve(Zo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ve(Zo,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(Zo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function SS(t,e,n=e){t.lineCap=Fe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Fe(n.borderDash,e.borderDash)),t.lineDashOffset=Fe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Fe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Fe(n.borderWidth,e.borderWidth),t.strokeStyle=Fe(n.borderColor,e.borderColor)}function $L(t,e,n){t.lineTo(n.x,n.y)}function GL(t){return t.stepped?pF:t.tension||t.cubicInterpolationMode==="monotone"?gF:$L}function kS(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:a,end:o}=e,l=Math.max(i,a),c=Math.min(s,o),f=i<a&&s<a||i>o&&s>o;return{count:r,start:l,loop:e.loop,ilen:c<l&&!f?r+c-l:c-l}}function KL(t,e,n,r){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:c}=kS(i,n,r),f=GL(s);let{move:d=!0,reverse:h}=r||{},p,m,g;for(p=0;p<=c;++p)m=i[(o+(h?c-p:p))%a],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):f(t,g,m,h,s.stepped),g=m);return l&&(m=i[(o+(h?c:0))%a],f(t,g,m,h,s.stepped)),!!l}function YL(t,e,n,r){const i=e.points,{count:s,start:a,ilen:o}=kS(i,n,r),{move:l=!0,reverse:c}=r||{};let f=0,d=0,h,p,m,g,x,y;const v=_=>(a+(c?o-_:_))%s,b=()=>{g!==x&&(t.lineTo(f,x),t.lineTo(f,g),t.lineTo(f,y))};for(l&&(p=i[v(0)],t.moveTo(p.x,p.y)),h=0;h<=o;++h){if(p=i[v(h)],p.skip)continue;const _=p.x,S=p.y,O=_|0;O===m?(S<g?g=S:S>x&&(x=S),f=(d*f+_)/++d):(b(),t.lineTo(_,S),m=O,d=0,g=x=S),y=S}b()}function W0(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YL:KL}function XL(t){return t.stepped?KF:t.tension||t.cubicInterpolationMode==="monotone"?YF:js}function qL(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),SS(t,e.options),t.stroke(i)}function JL(t,e,n,r){const{segments:i,options:s}=e,a=W0(e);for(const o of i)SS(t,s,o.style),t.beginPath(),a(t,e,o,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const QL=typeof Path2D=="function";function ZL(t,e,n,r){QL&&!e.options.segment?qL(t,e,n,r):JL(t,e,n,r)}class Qi extends Mr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;BF(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=e6(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,a=cS(this,{property:n,start:i,end:i});if(!a.length)return;const o=[],l=XL(r);let c,f;for(c=0,f=a.length;c<f;++c){const{start:d,end:h}=a[c],p=s[d],m=s[h];if(p===m){o.push(p);continue}const g=Math.abs((i-p[n])/(m[n]-p[n])),x=l(p,m,g,r.stepped);x[n]=e[n],o.push(x)}return o.length===1?o[0]:o}pathSegment(e,n,r){return W0(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=W0(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const o of i)a&=s(e,this,o,{start:n,end:n+r-1});return!!a}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ZL(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ve(Qi,"id","line"),ve(Qi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ve(Qi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ve(Qi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function vv(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class ju extends Mr{constructor(n){super();ve(this,"parsed");ve(this,"skip");ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(n-a,2)+Math.pow(r-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return vv(this,n,"x",r)}inYRange(n,r){return vv(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!mi(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,L0(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ve(ju,"id","point"),ve(ju,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ve(ju,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ES(t,e){const{x:n,y:r,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,c,f,d;return t.horizontal?(d=a/2,o=Math.min(n,i),l=Math.max(n,i),c=r-d,f=r+d):(d=s/2,o=n-d,l=n+d,c=Math.min(r,i),f=Math.max(r,i)),{left:o,top:c,right:l,bottom:f}}function Zi(t,e,n,r){return t?0:Jt(e,n,r)}function e8(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=Qw(r);return{t:Zi(i.top,s.top,0,n),r:Zi(i.right,s.right,0,e),b:Zi(i.bottom,s.bottom,0,n),l:Zi(i.left,s.left,0,e)}}function t8(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Gs(i),a=Math.min(e,n),o=t.borderSkipped,l=r||Ke(i);return{topLeft:Zi(!l||o.top||o.left,s.topLeft,0,a),topRight:Zi(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Zi(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Zi(!l||o.bottom||o.right,s.bottomRight,0,a)}}function n8(t){const e=ES(t),n=e.right-e.left,r=e.bottom-e.top,i=e8(t,n/2,r/2),s=t8(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function _h(t,e,n,r){const i=e===null,s=n===null,o=t&&!(i&&s)&&ES(t,r);return o&&(i||pi(e,o.left,o.right))&&(s||pi(n,o.top,o.bottom))}function r8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function i8(t,e){t.rect(e.x,e.y,e.w,e.h)}function wh(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,a=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class Fu extends Mr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=n8(this),o=r8(a.radius)?tc:i8;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,wh(a,n,s)),e.clip(),o(e,wh(s,-n,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),o(e,wh(s,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return _h(this,e,n,r)}inXRange(e,n){return _h(this,e,null,n)}inYRange(e,n){return _h(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ve(Fu,"id","bar"),ve(Fu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(Fu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var s8=Object.freeze({__proto__:null,ArcElement:Zo,BarElement:Fu,LineElement:Qi,PointElement:ju});const H0=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],yv=H0.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function TS(t){return H0[t%H0.length]}function CS(t){return yv[t%yv.length]}function a8(t,e){return t.borderColor=TS(e),t.backgroundColor=CS(e),++e}function o8(t,e){return t.backgroundColor=t.data.map(()=>TS(e++)),e}function l8(t,e){return t.backgroundColor=t.data.map(()=>CS(e++)),e}function c8(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof zs?e=o8(n,e):i instanceof Sl?e=l8(n,e):i&&(e=a8(n,e))}}function bv(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function u8(t){return t&&(t.borderColor||t.backgroundColor)}function f8(){return wt.borderColor!=="rgba(0,0,0,0.1)"||wt.backgroundColor!=="rgba(0,0,0,0.1)"}var d8={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i,a=bv(r)||u8(i)||s&&bv(s)||f8();if(!n.forceOverride&&a)return;const o=c8(t);r.forEach(o)}};function h8(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const a=[],o=(n-2)/(s-2);let l=0;const c=e+n-1;let f=e,d,h,p,m,g;for(a[l++]=t[f],d=0;d<s-2;d++){let x=0,y=0,v;const b=Math.floor((d+1)*o)+1+e,_=Math.min(Math.floor((d+2)*o)+1,n)+e,S=_-b;for(v=b;v<_;v++)x+=t[v].x,y+=t[v].y;x/=S,y/=S;const O=Math.floor(d*o)+1+e,k=Math.min(Math.floor((d+1)*o)+1,n)+e,{x:T,y:C}=t[f];for(p=m=-1,v=O;v<k;v++)m=.5*Math.abs((T-x)*(t[v].y-C)-(T-t[v].x)*(y-C)),m>p&&(p=m,h=t[v],g=v);a[l++]=h,f=g}return a[l++]=t[c],a}function p8(t,e,n,r){let i=0,s=0,a,o,l,c,f,d,h,p,m,g;const x=[],y=e+n-1,v=t[e].x,_=t[y].x-v;for(a=e;a<e+n;++a){o=t[a],l=(o.x-v)/_*r,c=o.y;const S=l|0;if(S===f)c<m?(m=c,d=a):c>g&&(g=c,h=a),i=(s*i+o.x)/++s;else{const O=a-1;if(!$e(d)&&!$e(h)){const k=Math.min(d,h),T=Math.max(d,h);k!==p&&k!==O&&x.push({...t[k],x:i}),T!==p&&T!==O&&x.push({...t[T],x:i})}a>0&&O!==p&&x.push(t[O]),x.push(o),f=S,s=0,m=g=c,d=h=p=a}}return x}function NS(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function _v(t){t.data.datasets.forEach(e=>{NS(e)})}function g8(t,e){const n=e.length;let r=0,i;const{iScale:s}=t,{min:a,max:o,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Jt(gi(e,s.axis,a).lo,0,n-1)),c?i=Jt(gi(e,s.axis,o).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var m8={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){_v(t);return}const r=t.width;t.data.datasets.forEach((i,s)=>{const{_data:a,indexAxis:o}=i,l=t.getDatasetMeta(s),c=a||i.data;if(Jo([o,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const f=t.scales[l.xAxisID];if(f.type!=="linear"&&f.type!=="time"||t.options.parsing)return;let{start:d,count:h}=g8(l,c);const p=n.threshold||4*r;if(h<=p){NS(i);return}$e(a)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(n.algorithm){case"lttb":m=h8(c,d,h,r,n);break;case"min-max":m=p8(c,d,h,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=m})},destroy(t){_v(t)}};function x8(t,e,n){const r=t.segments,i=t.points,s=e.points,a=[];for(const o of r){let{start:l,end:c}=o;c=yd(l,c,i);const f=V0(n,i[l],i[c],o.loop);if(!e.segments){a.push({source:o,target:f,start:i[l],end:i[c]});continue}const d=cS(e,f);for(const h of d){const p=V0(n,s[h.start],s[h.end],h.loop),m=lS(o,i,p);for(const g of m)a.push({source:g,target:h,start:{[n]:wv(f,p,"start",Math.max)},end:{[n]:wv(f,p,"end",Math.min)}})}}return a}function V0(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=pn(i),s=pn(s)),{property:t,start:i,end:s}}function v8(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:o})=>{o=yd(a,o,i);const l=i[a],c=i[o];r!==null?(s.push({x:l.x,y:r}),s.push({x:c.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function yd(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function wv(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function AS(t,e){let n=[],r=!1;return _t(t)?(r=!0,n=t):n=v8(t,e),n.length?new Qi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function Sv(t){return t&&t.fill!==!1}function y8(t,e,n){let i=t[e].fill;const s=[e];let a;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!It(i))return i;if(a=t[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function b8(t,e,n){const r=k8(t);if(Ke(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return It(i)&&Math.floor(i)===i?_8(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function _8(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function w8(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ke(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function S8(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:Ke(t)?r=t.value:r=e.getBaseValue(),r}function k8(t){const e=t.options,n=e.fill;let r=Fe(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function E8(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,a=r.points,o=T8(e,n);o.push(AS({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const c=s[l];for(let f=c.start;f<=c.end;f++)C8(i,a[f],o)}return new Qi({points:i,options:{}})}function T8(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function C8(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:a,last:o,point:l}=N8(s,e,"x");if(!(!l||a&&o)){if(a)r.unshift(l);else if(t.push(l),!o)break}}t.push(...r)}function N8(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,a=t.points;let o=!1,l=!1;for(let c=0;c<s.length;c++){const f=s[c],d=a[f.start][n],h=a[f.end][n];if(pi(i,d,h)){o=i===d,l=i===h;break}}return{first:o,last:l,point:r}}class IS{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:a}=this;return n=n||{start:0,end:xt},e.arc(i,s,a,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function A8(t){const{chart:e,fill:n,line:r}=t;if(It(n))return I8(e,n);if(n==="stack")return E8(t);if(n==="shape")return!0;const i=D8(t);return i instanceof IS?i:AS(i,r)}function I8(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function D8(t){return(t.scale||{}).getPointPositionForValue?P8(t):R8(t)}function R8(t){const{scale:e={},fill:n}=t,r=w8(n,e);if(It(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function P8(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=S8(n,e,s),o=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new IS({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(a)})}for(let l=0;l<i;++l)o.push(e.getPointPositionForValue(l,a));return o}function Sh(t,e,n){const r=A8(e),{chart:i,index:s,line:a,scale:o,axis:l}=e,c=a.options,f=c.fill,d=c.backgroundColor,{above:h=d,below:p=d}=f||{},m=i.getDatasetMeta(s),g=uS(i,m);r&&a.points.length&&(gd(t,n),M8(t,{line:a,target:r,above:h,below:p,area:n,scale:o,axis:l,clip:g}),md(t))}function M8(t,e){const{line:n,target:r,above:i,below:s,area:a,scale:o,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let f=s;s!==i&&(c==="x"?(kv(t,r,a.top),kh(t,{line:n,target:r,color:i,scale:o,property:c,clip:l}),t.restore(),t.save(),kv(t,r,a.bottom)):c==="y"&&(Ev(t,r,a.left),kh(t,{line:n,target:r,color:s,scale:o,property:c,clip:l}),t.restore(),t.save(),Ev(t,r,a.right),f=i)),kh(t,{line:n,target:r,color:f,scale:o,property:c,clip:l}),t.restore()}function kv(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,f=i[l],d=i[yd(l,c,i)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(f.x,n),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ev(t,e,n){const{segments:r,points:i}=e;let s=!0,a=!1;t.beginPath();for(const o of r){const{start:l,end:c}=o,f=i[l],d=i[yd(l,c,i)];s?(t.moveTo(f.x,f.y),s=!1):(t.lineTo(n,f.y),t.lineTo(f.x,f.y)),a=!!e.pathSegment(t,o,{move:a}),a?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function kh(t,e){const{line:n,target:r,property:i,color:s,scale:a,clip:o}=e,l=x8(n,r,i);for(const{source:c,target:f,start:d,end:h}of l){const{style:{backgroundColor:p=s}={}}=c,m=r!==!0;t.save(),t.fillStyle=p,O8(t,a,o,m&&V0(i,d,h)),t.beginPath();const g=!!n.pathSegment(t,c);let x;if(m){g?t.closePath():Tv(t,r,h,i);const y=!!r.pathSegment(t,f,{move:g,reverse:!0});x=g&&y,x||Tv(t,r,d,i)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function O8(t,e,n,r){const i=e.chart.chartArea,{property:s,start:a,end:o}=r||{};if(s==="x"||s==="y"){let l,c,f,d;s==="x"?(l=a,c=i.top,f=o,d=i.bottom):(l=i.left,c=a,f=i.right,d=o),t.beginPath(),n&&(l=Math.max(l,n.left),f=Math.min(f,n.right),c=Math.max(c,n.top),d=Math.min(d,n.bottom)),t.rect(l,c,f-l,d-c),t.clip()}}function Tv(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var j8={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,a,o,l;for(a=0;a<r;++a)s=t.getDatasetMeta(a),o=s.dataset,l=null,o&&o.options&&o instanceof Qi&&(l={visible:t.isDatasetVisible(a),index:a,fill:b8(o,a,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=l,i.push(l);for(a=0;a<r;++a)l=i[a],!(!l||l.fill===!1)&&(l.fill=y8(i,a,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;o&&(o.line.updateControlPoints(s,o.axis),r&&o.fill&&Sh(t.ctx,o,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Sv(s)&&Sh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!Sv(r)||n.drawTime!=="beforeDatasetDraw"||Sh(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cv=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},F8=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Nv extends Mr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ht(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Gt(r.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=Cv(r,s);let c,f;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,f=this._fitRows(a,s,o,l)+10):(f=this.maxHeight,c=this._fitCols(a,i,o,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(f,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],f=i+o;let d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,p=-f;return this.legendItems.forEach((m,g)=>{const x=r+n/2+s.measureText(m.text).width;(g===0||c[c.length-1]+x+2*o>a)&&(d+=f,c[c.length-(g>0?0:1)]=0,p+=f,h++),l[g]={left:0,top:p,row:h,width:x,height:i},c[c.length-1]+=x+o}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],f=a-e;let d=o,h=0,p=0,m=0,g=0;return this.legendItems.forEach((x,y)=>{const{itemWidth:v,itemHeight:b}=L8(r,n,s,x,i);y>0&&p+b+2*o>f&&(d+=h+o,c.push({width:h,height:p}),m+=h+o,g++,h=p=0),l[y]={left:m,top:p,col:g,width:v,height:b},h=Math.max(h,v),p+=b+o}),d+=h,c.push({width:h,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,a=Za(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=hn(r,this.left+i,this.right-this.lineWidths[o]);for(const c of n)o!==c.row&&(o=c.row,l=hn(r,this.left+i,this.right-this.lineWidths[o])),c.top+=this.top+e+i,c.left=a.leftForLtr(a.x(l),c.width),l+=c.width+i}else{let o=0,l=hn(r,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const c of n)c.col!==o&&(o=c.col,l=hn(r,this.top+e+i,this.bottom-this.columnSizes[o].height)),c.top=l,c.left+=this.left+i,c.left=a.leftForLtr(a.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gd(e,this),this._draw(),md(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:a}=e,o=wt.color,l=Za(e.rtl,this.left,this.width),c=Gt(a.font),{padding:f}=a,d=c.size,h=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:x}=Cv(a,d),y=function(O,k,T){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const C=Fe(T.lineWidth,1);if(i.fillStyle=Fe(T.fillStyle,o),i.lineCap=Fe(T.lineCap,"butt"),i.lineDashOffset=Fe(T.lineDashOffset,0),i.lineJoin=Fe(T.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Fe(T.strokeStyle,o),i.setLineDash(Fe(T.lineDash,[])),a.usePointStyle){const F={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:C},j=l.xPlus(O,m/2),U=k+h;Jw(i,F,j,U,a.pointStyleWidth&&m)}else{const F=k+Math.max((d-g)/2,0),j=l.leftForLtr(O,m),U=Gs(T.borderRadius);i.beginPath(),Object.values(U).some(Z=>Z!==0)?tc(i,{x:j,y:F,w:m,h:g,radius:U}):i.rect(j,F,m,g),i.fill(),C!==0&&i.stroke()}i.restore()},v=function(O,k,T){sa(i,T.text,O,k+x/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},b=this.isHorizontal(),_=this._computeTitleHeight();b?p={x:hn(s,this.left+f,this.right-r[0]),y:this.top+f+_,line:0}:p={x:this.left+f,y:hn(s,this.top+_+f,this.bottom-n[0].height),line:0},sS(this.ctx,e.textDirection);const S=x+f;this.legendItems.forEach((O,k)=>{i.strokeStyle=O.fontColor,i.fillStyle=O.fontColor;const T=i.measureText(O.text).width,C=l.textAlign(O.textAlign||(O.textAlign=a.textAlign)),F=m+h+T;let j=p.x,U=p.y;l.setWidth(this.width),b?k>0&&j+F+f>this.right&&(U=p.y+=S,p.line++,j=p.x=hn(s,this.left+f,this.right-r[p.line])):k>0&&U+S>this.bottom&&(j=p.x=j+n[p.line].width+f,p.line++,U=p.y=hn(s,this.top+_+f,this.bottom-n[p.line].height));const Z=l.x(j);if(y(Z,U,O),j=rF(C,j+m+h,b?j+F:this.right,e.rtl),v(l.x(j),U,O),b)p.x+=F+f;else if(typeof O.text!="string"){const Ee=c.lineHeight;p.y+=DS(O,Ee)+f}else p.y+=S}),aS(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Gt(n.font),i=bn(n.padding);if(!n.display)return;const s=Za(e.rtl,this.left,this.width),a=this.ctx,o=n.position,l=r.size/2,c=i.top+l;let f,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),f=this.top+c,d=hn(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((g,x)=>Math.max(g,x.height),0);f=c+hn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=hn(o,d,d+h);a.textAlign=s.textAlign(Rg(o)),a.textBaseline="middle",a.strokeStyle=n.color,a.fillStyle=n.color,a.font=r.string,sa(a,n.text,p,f,r)}_computeTitleHeight(){const e=this.options.title,n=Gt(e.font),r=bn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],pi(e,i.left,i.left+i.width)&&pi(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!z8(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=F8(i,r);i&&!s&&ht(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&ht(n.onHover,[e,r,this],this)}else r&&ht(n.onClick,[e,r,this],this)}}function L8(t,e,n,r,i){const s=B8(r,t,e,n),a=U8(i,r,e.lineHeight);return{itemWidth:s,itemHeight:a}}function B8(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+n.size/2+r.measureText(i).width}function U8(t,e,n){let r=t;return typeof e.text!="string"&&(r=DS(e,n)),r}function DS(t,e){const n=t.text?t.text.length:0;return e*n}function z8(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var W8={id:"legend",_element:Nv,start(t,e,n){const r=t.legend=new Nv({ctx:t.ctx,options:n,chart:t});mn.configure(t,r,n),mn.addBox(t,r)},stop(t){mn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),f=bn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(f.width+f.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:a&&(o||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class zg extends Mr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=_t(r.text)?r.text.length:1;this._padding=bn(r.padding);const s=i*Gt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:a}=this,o=a.align;let l=0,c,f,d;return this.isHorizontal()?(f=hn(o,r,s),d=n+e,c=s-r):(a.position==="left"?(f=r+e,d=hn(o,i,n),l=Qe*-.5):(f=s-e,d=hn(o,n,i),l=Qe*.5),c=i-n),{titleX:f,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Gt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:c}=this._drawArgs(s);sa(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Rg(n.align),textBaseline:"middle",translation:[a,o]})}}function H8(t,e){const n=new zg({ctx:t.ctx,options:e,chart:t});mn.configure(t,n,e),mn.addBox(t,n),t.titleBlock=n}var V8={id:"title",_element:zg,start(t,e,n){H8(t,n)},stop(t){const e=t.titleBlock;mn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ou=new WeakMap;var $8={id:"subtitle",start(t,e,n){const r=new zg({ctx:t.ctx,options:n,chart:t});mn.configure(t,r,n),mn.addBox(t,r),ou.set(t,r)},stop(t){mn.removeBox(t,ou.get(t)),ou.delete(t)},beforeUpdate(t,e,n){const r=ou.get(t);mn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const el={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((o,l)=>o+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),f=j0(e,c);f<i&&(i=f,o=l)}}if(o){const l=o.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function $r(t,e){return e&&(_t(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ii(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function G8(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Av(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Gt(e.bodyFont),c=Gt(e.titleFont),f=Gt(e.footerFont),d=s.length,h=i.length,p=r.length,m=bn(e.padding);let g=m.height,x=0,y=r.reduce((_,S)=>_+S.before.length+S.lines.length+S.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=p*_+(y-p)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*f.lineHeight+(h-1)*e.footerSpacing);let v=0;const b=function(_){x=Math.max(x,n.measureText(_).width+v)};return n.save(),n.font=c.string,st(t.title,b),n.font=l.string,st(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?a+2+e.boxPadding:0,st(r,_=>{st(_.before,b),st(_.lines,b),st(_.after,b)}),v=0,n.font=f.string,st(t.footer,b),n.restore(),x+=m.width,{width:x,height:g}}function K8(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Y8(t,e,n,r){const{x:i,width:s}=r,a=n.caretSize+n.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function X8(t,e,n,r){const{x:i,width:s}=n,{width:a,chartArea:{left:o,right:l}}=t;let c="center";return r==="center"?c=i<=(o+l)/2?"left":"right":i<=s/2?c="left":i>=a-s/2&&(c="right"),Y8(c,t,e,n)&&(c="center"),c}function Iv(t,e,n){const r=n.yAlign||e.yAlign||K8(t,n);return{xAlign:n.xAlign||e.xAlign||X8(t,e,n,r),yAlign:r}}function q8(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function J8(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function Dv(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=n,c=i+s,{topLeft:f,topRight:d,bottomLeft:h,bottomRight:p}=Gs(a);let m=q8(e,o);const g=J8(e,l,c);return l==="center"?o==="left"?m+=c:o==="right"&&(m-=c):o==="left"?m-=Math.max(f,h)+i:o==="right"&&(m+=Math.max(d,p)+i),{x:Jt(m,0,r.width-e.width),y:Jt(g,0,r.height-e.height)}}function lu(t,e,n){const r=bn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Rv(t){return $r([],ii(t))}function Q8(t,e,n){return ks(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Pv(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const RS={beforeTitle:ni,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:ni,beforeBody:ni,beforeLabel:ni,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return $e(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ni,afterBody:ni,beforeFooter:ni,footer:ni,afterFooter:ni};function Pn(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?RS[e].call(n,r):i}class $0 extends Mr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new fS(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Q8(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Pn(r,"beforeTitle",this,e),s=Pn(r,"title",this,e),a=Pn(r,"afterTitle",this,e);let o=[];return o=$r(o,ii(i)),o=$r(o,ii(s)),o=$r(o,ii(a)),o}getBeforeBody(e,n){return Rv(Pn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return st(e,s=>{const a={before:[],lines:[],after:[]},o=Pv(r,s);$r(a.before,ii(Pn(o,"beforeLabel",this,s))),$r(a.lines,Pn(o,"label",this,s)),$r(a.after,ii(Pn(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,n){return Rv(Pn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Pn(r,"beforeFooter",this,e),s=Pn(r,"footer",this,e),a=Pn(r,"afterFooter",this,e);let o=[];return o=$r(o,ii(i)),o=$r(o,ii(s)),o=$r(o,ii(a)),o}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],a=[];let o=[],l,c;for(l=0,c=n.length;l<c;++l)o.push(G8(this.chart,n[l]));return e.filter&&(o=o.filter((f,d,h)=>e.filter(f,d,h,r))),e.itemSort&&(o=o.sort((f,d)=>e.itemSort(f,d,r))),st(o,f=>{const d=Pv(e.callbacks,f);i.push(Pn(d,"labelColor",this,f)),s.push(Pn(d,"labelPointStyle",this,f)),a.push(Pn(d,"labelTextColor",this,f))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=el[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const l=this._size=Av(this,r),c=Object.assign({},o,l),f=Iv(this.chart,r,c),d=Dv(r,c,f,this.chart);this.xAlign=f.xAlign,this.yAlign=f.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=r,{topLeft:l,topRight:c,bottomLeft:f,bottomRight:d}=Gs(o),{x:h,y:p}=e,{width:m,height:g}=n;let x,y,v,b,_,S;return s==="center"?(_=p+g/2,i==="left"?(x=h,y=x-a,b=_+a,S=_-a):(x=h+m,y=x+a,b=_-a,S=_+a),v=x):(i==="left"?y=h+Math.max(l,f)+a:i==="right"?y=h+m-Math.max(c,d)-a:y=this.caretX,s==="top"?(b=p,_=b-a,x=y-a,v=y+a):(b=p+g,_=b+a,x=y+a,v=y-a),S=b),{x1:x,x2:y,x3:v,y1:b,y2:_,y3:S}}drawTitle(e,n,r){const i=this.title,s=i.length;let a,o,l;if(s){const c=Za(r.rtl,this.x,this.width);for(e.x=lu(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",a=Gt(r.titleFont),o=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=r.titleMarginBottom-o)}}_drawColorBox(e,n,r,i,s){const a=this.labelColors[r],o=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,f=Gt(s.bodyFont),d=lu(this,"left",s),h=i.x(d),p=l<f.lineHeight?(f.lineHeight-l)/2:0,m=n.y+p;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},x=i.leftForLtr(h,c)+c/2,y=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,L0(e,g,x,y),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,L0(e,g,x,y)}else{e.lineWidth=Ke(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const g=i.leftForLtr(h,c),x=i.leftForLtr(i.xPlus(h,1),c-2),y=Gs(a.borderRadius);Object.values(y).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,tc(e,{x:g,y:m,w:c,h:l,radius:y}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),tc(e,{x,y:m+1,w:c-2,h:l-2,radius:y}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(x,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:c,boxPadding:f}=r,d=Gt(r.bodyFont);let h=d.lineHeight,p=0;const m=Za(r.rtl,this.x,this.width),g=function(T){n.fillText(T,m.x(e.x+p),e.y+h/2),e.y+=h+s},x=m.textAlign(a);let y,v,b,_,S,O,k;for(n.textAlign=a,n.textBaseline="middle",n.font=d.string,e.x=lu(this,x,r),n.fillStyle=r.bodyColor,st(this.beforeBody,g),p=o&&x!=="right"?a==="center"?c/2+f:c+2+f:0,_=0,O=i.length;_<O;++_){for(y=i[_],v=this.labelTextColors[_],n.fillStyle=v,st(y.before,g),b=y.lines,o&&b.length&&(this._drawColorBox(n,e,_,m,r),h=Math.max(d.lineHeight,l)),S=0,k=b.length;S<k;++S)g(b[S]),h=d.lineHeight;st(y.after,g)}p=0,h=d.lineHeight,st(this.afterBody,g),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let a,o;if(s){const l=Za(r.rtl,this.x,this.width);for(e.x=lu(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",a=Gt(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,o=0;o<s;++o)n.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:c,height:f}=r,{topLeft:d,topRight:h,bottomLeft:p,bottomRight:m}=Gs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(o+d,l),a==="top"&&this.drawCaret(e,n,r,i),n.lineTo(o+c-h,l),n.quadraticCurveTo(o+c,l,o+c,l+h),a==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(o+c,l+f-m),n.quadraticCurveTo(o+c,l+f,o+c-m,l+f),a==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(o+p,l+f),n.quadraticCurveTo(o,l+f,o,l+f-p),a==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=el[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=Av(this,e),l=Object.assign({},a,this._size),c=Iv(n,e,l),f=Dv(e,l,c,n);(i._to!==f.x||s._to!==f.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,f))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=bn(n.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),sS(e,n.textDirection),s.y+=a.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),aS(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:o,index:l})=>{const c=this.chart.getDatasetMeta(o);if(!c)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:c.data[l],index:l}}),s=!Rf(r,i),a=this._positionChanged(i,n);(s||a)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,n,r),o=this._positionChanged(a,e),l=n||!Rf(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,a=el[s.position].call(this,e,n);return a!==!1&&(r!==a.x||i!==a.y)}}ve($0,"positioners",el);var Z8={id:"tooltip",_element:$0,positioners:el,afterInit(t,e,n){n&&(t.tooltip=new $0({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},eB=Object.freeze({__proto__:null,Colors:d8,Decimation:m8,Filler:j8,Legend:W8,SubTitle:$8,Title:V8,Tooltip:Z8});const tB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function nB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return tB(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const rB=(t,e)=>t===null?null:Jt(Math.round(t),0,e);function Mv(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class G0 extends ga{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if($e(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:nB(r,e,Fe(n,e),this._addedLabels),rB(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=n;a++)i.push({value:a});return i}getLabelForValue(e){return Mv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ve(G0,"id","category"),ve(G0,"defaults",{ticks:{callback:Mv}});function iB(t,e){const n=[],{bounds:i,step:s,min:a,max:o,precision:l,count:c,maxTicks:f,maxDigits:d,includeBounds:h}=t,p=s||1,m=f-1,{min:g,max:x}=e,y=!$e(a),v=!$e(o),b=!$e(c),_=(x-g)/(d+1);let S=A1((x-g)/m/p)*p,O,k,T,C;if(S<1e-14&&!y&&!v)return[{value:g},{value:x}];C=Math.ceil(x/S)-Math.floor(g/S),C>m&&(S=A1(C*S/m/p)*p),$e(l)||(O=Math.pow(10,l),S=Math.ceil(S*O)/O),i==="ticks"?(k=Math.floor(g/S)*S,T=Math.ceil(x/S)*S):(k=g,T=x),y&&v&&s&&qj((o-a)/s,S/1e3)?(C=Math.round(Math.min((o-a)/S,f)),S=(o-a)/C,k=a,T=o):b?(k=y?a:k,T=v?o:T,C=c-1,S=(T-k)/C):(C=(T-k)/S,bl(C,Math.round(C),S/1e3)?C=Math.round(C):C=Math.ceil(C));const F=Math.max(I1(S),I1(k));O=Math.pow(10,$e(l)?F:l),k=Math.round(k*O)/O,T=Math.round(T*O)/O;let j=0;for(y&&(h&&k!==a?(n.push({value:a}),k<a&&j++,bl(Math.round((k+j*S)*O)/O,a,Ov(a,_,t))&&j++):k<a&&j++);j<C;++j){const U=Math.round((k+j*S)*O)/O;if(v&&U>o)break;n.push({value:U})}return v&&h&&T!==o?n.length&&bl(n[n.length-1].value,o,Ov(o,_,t))?n[n.length-1].value=o:n.push({value:o}):(!v||T===o)&&n.push({value:T}),n}function Ov(t,e,{horizontal:n,minRotation:r}){const i=Cr(r),s=(n?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class Bf extends ga{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return $e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=n?i:l,o=l=>s=r?s:l;if(e){const l=Zr(i),c=Zr(s);l<0&&c<0?o(0):l>0&&c>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,a=iB(i,s);return e.bounds==="ticks"&&Ww(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Sc(e,this.chart.options.locale,this.options.ticks.format)}}class K0 extends Bf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=It(e)?e:0,this.max=It(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Cr(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ve(K0,"id","linear"),ve(K0,"defaults",{ticks:{callback:pd.formatters.numeric}});const rc=t=>Math.floor(qi(t)),Ds=(t,e)=>Math.pow(10,rc(t)+e);function jv(t){return t/Math.pow(10,rc(t))===1}function Fv(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function sB(t,e){const n=e-t;let r=rc(n);for(;Fv(t,e,r)>10;)r++;for(;Fv(t,e,r)<10;)r--;return Math.min(r,rc(t))}function aB(t,{min:e,max:n}){e=Kn(t.min,e);const r=[],i=rc(e);let s=sB(e,n),a=s<0?Math.pow(10,Math.abs(s)):1;const o=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*a)/a,f=Math.floor((e-l)/o/10)*o*10;let d=Math.floor((c-f)/Math.pow(10,s)),h=Kn(t.min,Math.round((l+f+d*Math.pow(10,s))*a)/a);for(;h<n;)r.push({value:h,major:jv(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),h=Math.round((l+f+d*Math.pow(10,s))*a)/a;const p=Kn(t.max,h);return r.push({value:p,major:jv(p),significand:d}),r}class Y0 extends ga{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Bf.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return It(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=It(e)?Math.max(0,e):null,this.max=It(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!It(this._userMin)&&(this.min=e===Ds(this.min,0)?Ds(this.min,-1):Ds(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=n?i:o;r===i&&(r<=0?(s(1),a(10)):(s(Ds(r,-1)),a(Ds(i,1)))),r<=0&&s(Ds(i,-1)),i<=0&&a(Ds(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=aB(n,this);return e.bounds==="ticks"&&Ww(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Sc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=qi(e),this._valueRange=qi(this.max)-qi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(qi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ve(Y0,"id","logarithmic"),ve(Y0,"defaults",{ticks:{callback:pd.formatters.logarithmic,major:{enabled:!0}}});function X0(t){const e=t.ticks;if(e.display&&t.display){const n=bn(e.backdropPadding);return Fe(e.font&&e.font.size,wt.font.size)+n.height}return 0}function oB(t,e,n){return n=_t(n)?n:[n],{w:hF(t,e.string,n),h:n.length*e.lineHeight}}function Lv(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function lB(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Qe/s:0;for(let l=0;l<s;l++){const c=a.setContext(t.getPointLabelContext(l));i[l]=c.padding;const f=t.getPointPosition(l,t.drawingArea+i[l],o),d=Gt(c.font),h=oB(t.ctx,d,t._pointLabels[l]);r[l]=h;const p=pn(t.getIndexAngle(l)+o),m=Math.round(Ig(p)),g=Lv(m,f.x,h.w,0,180),x=Lv(m,f.y,h.h,90,270);cB(n,e,p,g,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=dB(t,r,i)}function cB(t,e,n,r,i){const s=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n));let o=0,l=0;r.start<e.l?(o=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-o)):r.end>e.r&&(o=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function uB(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=n,l=t.getPointPosition(e,r+i+a,s),c=Math.round(Ig(pn(l.angle+Mt))),f=gB(l.y,o.h,c),d=hB(c),h=pB(l.x,o.w,d);return{visible:!0,x:l.x,y:f,textAlign:d,left:h,top:f,right:h+o.w,bottom:f+o.h}}function fB(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(mi({x:n,y:r},e)||mi({x:n,y:s},e)||mi({x:i,y:r},e)||mi({x:i,y:s},e))}function dB(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:X0(s)/2,additionalAngle:a?Qe/i:0};let c;for(let f=0;f<i;f++){l.padding=n[f],l.size=e[f];const d=uB(t,f,l);r.push(d),o==="auto"&&(d.visible=fB(d,c),d.visible&&(c=d))}return r}function hB(t){return t===0||t===180?"center":t<180?"left":"right"}function pB(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function gB(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function mB(t,e,n){const{left:r,top:i,right:s,bottom:a}=n,{backdropColor:o}=e;if(!$e(o)){const l=Gs(e.borderRadius),c=bn(e.backdropPadding);t.fillStyle=o;const f=r-c.left,d=i-c.top,h=s-r+c.width,p=a-i+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),tc(t,{x:f,y:d,w:h,h:p,radius:l}),t.fill()):t.fillRect(f,d,h,p)}}function xB(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=r.setContext(t.getPointLabelContext(i));mB(n,a,s);const o=Gt(a.font),{x:l,y:c,textAlign:f}=s;sa(n,t._pointLabels[i],l,c+o.lineHeight/2,o,{color:a.color,textAlign:f,textBaseline:"middle"})}}function PS(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,xt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function vB(t,e,n,r,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!r||!o||!l||n<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),PS(t,n,a,r),s.closePath(),s.stroke(),s.restore())}function yB(t,e,n){return ks(t,{label:n,index:e,type:"pointLabel"})}class tl extends Bf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bn(X0(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=It(e)&&!isNaN(e)?e:0,this.max=It(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/X0(this.options))}generateTickLabels(e){Bf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=ht(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?lB(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=xt/(this._pointLabels.length||1),r=this.options.startAngle||0;return pn(e*n+Cr(r))}getDistanceFromCenterForValue(e){if($e(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if($e(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return yB(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-Mt+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),PS(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,a=this._pointLabels.length;let o,l,c;if(n.pointLabels.display&&xB(this,a),i.display&&this.ticks.forEach((f,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(f.value);const h=this.getContext(d),p=i.setContext(h),m=s.setContext(h);vB(this,p,l,a,m)}}),r.display){for(e.save(),o=a-1;o>=0;o--){const f=r.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:h}=f;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),f=Gt(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=f.string,a=e.measureText(o.label).width,e.fillStyle=c.backdropColor;const d=bn(c.backdropPadding);e.fillRect(-a/2-d.left,-s-f.size/2-d.top,a+d.width,f.size+d.height)}sa(e,o.label,0,-s,f,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ve(tl,"id","radialLinear"),ve(tl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ve(tl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ve(tl,"descriptors",{angleLines:{_fallback:"grid"}});const bd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},On=Object.keys(bd);function Bv(t,e){return t-e}function Uv(t,e){if($e(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),It(a)||(a=typeof r=="string"?n.parse(a,r):n.parse(a)),a===null?null:(i&&(a=i==="week"&&(ho(s)||s===!0)?n.startOf(a,"isoWeek",s):n.startOf(a,i)),+a)}function zv(t,e,n,r){const i=On.length;for(let s=On.indexOf(t);s<i-1;++s){const a=bd[On[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-e)/(o*a.size))<=r)return On[s]}return On[i-1]}function bB(t,e,n,r,i){for(let s=On.length-1;s>=On.indexOf(n);s--){const a=On[s];if(bd[a].common&&t._adapter.diff(i,r,a)>=e-1)return a}return On[n?On.indexOf(n):0]}function _B(t){for(let e=On.indexOf(t)+1,n=On.length;e<n;++e)if(bd[On[e]].common)return On[e]}function Wv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=Dg(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function wB(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,r))l=n[o],l>=0&&(e[l].major=!0);return e}function Hv(t,e,n){const r=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,r.push({value:o,major:!1});return s===0||!n?r:wB(t,r,i,n)}class ic extends ga{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new I6._date(e.adapters.date);i.init(n),yl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Uv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(c){!a&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!o&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=It(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=It(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=eF(i,s,a);return this._unit=n.unit||(r.autoSkip?zv(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):bB(this,o.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:_B(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Hv(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=Jt(n,0,a),r=Jt(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||zv(s.minUnit,n,r,this._getLabelCapacity(n)),o=Fe(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,c=ho(l)||l===!0,f={};let d=n,h,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":a),e.diff(r,n,a)>1e5*o)throw new Error(n+" and "+r+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=d,p=0;h<r;h=+e.add(h,o,a),p++)Wv(f,h,m);return(h===r||i.bounds==="ticks"||p===1)&&Wv(f,h,m),Object.keys(f).sort(Bv).map(g=>+g)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,a=n||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,n,r,i){const s=this.options,a=s.ticks.callback;if(a)return ht(a,[e,n,r],this);const o=s.time.displayFormats,l=this._unit,c=this._majorUnit,f=l&&o[l],d=c&&o[c],h=r[n],p=c&&d&&h&&h.major;return this._adapter.format(e,i||(p?d:f))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Cr(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:r*s+o*a,h:r*a+o*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Hv(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(Uv(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $w(e.sort(Bv))}}ve(ic,"id","time"),ve(ic,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cu(t,e,n){let r=0,i=t.length-1,s,a,o,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=gi(t,"pos",e)),{pos:s,time:o}=t[r],{pos:a,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=gi(t,"time",e)),{time:s,pos:o}=t[r],{time:a,pos:l}=t[i]);const c=a-s;return c?o+(l-o)*(e-s)/c:o}class q0 extends ic{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=cu(n,this.min),this._tableRange=cu(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let a,o,l,c,f;for(a=0,o=e.length;a<o;++a)c=e[a],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(a=0,o=i.length;a<o;++a)f=i[a+1],l=i[a-1],c=i[a],Math.round((f+l)/2)!==c&&s.push({time:c,pos:a/(o-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(cu(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return cu(this._table,r*this._tableRange+this._minPos,!0)}}ve(q0,"id","timeseries"),ve(q0,"defaults",ic.defaults);var SB=Object.freeze({__proto__:null,CategoryScale:G0,LinearScale:K0,LogarithmicScale:Y0,RadialLinearScale:tl,TimeScale:ic,TimeSeriesScale:q0});const kB=[A6,s8,eB,SB];Ct.register(...kB);const EB=({state:t="principal",component:e,text:n,className:r,onClick:i,...s})=>u.jsxs("button",{type:"button",onClick:i,className:`rounded-[10px] border border-solid border-global-stroke-highlight-2nd pt-2 pr-3 pb-2 pl-3 flex flex-row gap-2 items-center justify-center relative cursor-pointer transition-opacity hover:opacity-90 bg-[linear-gradient(90deg,rgba(21,93,252,1)_0%,rgba(18,161,213,1)_100%)] ${r}`,...s,children:[e,n&&u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative",children:n})]}),TB=({className:t="",state:e,...n})=>u.jsxs("svg",{className:`w-5 h-5 ${t}`,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[u.jsx("path",{d:"M10 2L2 7L10 12L18 7L10 2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M2 13L10 18L18 13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M2 10L10 15L18 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});function J0({className:t="",state:e="fl-che-bas",...n}){return u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,...n,children:u.jsx("path",{d:"M5 7.5L10 12.5L15 7.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}const uu=({text:t,text2:e,className:n="",value:r,onChange:i,options:s=[],...a})=>u.jsxs("div",{className:`flex flex-col gap-2 items-start justify-start shrink-0 relative ${n}`,...a,children:[t&&u.jsx("div",{className:"text-global-blanc text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative self-stretch",children:t}),u.jsx("div",{className:"bg-global-bg-small-box rounded-lg border-solid border-global-stroke-box border pt-[7px] pr-3 pb-[7px] pl-3 flex flex-row gap-3 items-center justify-start self-stretch shrink-0 h-[38px] relative",children:s.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("select",{value:r||"",onChange:i,className:"flex-1 bg-transparent border-none outline-none text-global-inactive font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight appearance-none cursor-pointer relative z-10",style:{WebkitAppearance:"none",MozAppearance:"none"},children:[u.jsx("option",{value:"",children:e||"Slectionner..."}),s.map(o=>u.jsx("option",{value:typeof o=="string"?o:o.value,children:typeof o=="string"?o:o.label||o.value},typeof o=="string"?o:o.value))]}),u.jsx(J0,{className:"!w-5 !h-5 shrink-0 pointer-events-none absolute right-3",state:"fl-che-bas"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-global-inactive text-left font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight relative flex-1",children:e||"Slectionner..."}),u.jsx(J0,{className:"!w-5 !h-5 shrink-0 pointer-events-none",state:"fl-che-bas"})]})})]}),fu=({state:t="big",text:e,value:n,icon:r,iconState:i,className:s="",...a})=>{const o="state-"+t;return u.jsx("div",{className:"bg-global-bg-box rounded-[14px] border-solid border-global-stroke-box border p-4 flex flex-col gap-2 items-start justify-center self-stretch flex-1 relative overflow-hidden "+s+" "+o,...a,children:u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"flex flex-col gap-0 items-start justify-start flex-1 relative",children:[u.jsxs("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative",children:[e||"Taux d'occupation (Rel)"," "]}),u.jsxs("div",{className:"text-global-blanc text-left font-h1-font-family text-h1-font-size font-h1-font-weight relative",children:[n||"12.5%"," "]})]}),r&&u.jsx("div",{className:"rounded-[10px] border-solid border-global-stroke-highlight-2nd border flex flex-col gap-2.5 items-center justify-center shrink-0 w-[50px] h-[50px] relative",style:{background:"var(--global-bg-highlight-2nd, linear-gradient(90deg, rgba(21, 93, 252, 0.20) 0%,rgba(0, 146, 184, 0.20) 100%))",aspectRatio:"1"},children:u.jsx(r,{state:i,className:"!w-6 !h-6"})})]})})},CB=({className:t="",state:e,...n})=>u.jsxs("svg",{className:`w-6 h-6 ${t}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[u.jsx("path",{d:"M3 10.5L12 3L21 10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M5 10.5V21H9V15H15V21H19V10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),NB=({className:t="",state:e,...n})=>u.jsx("svg",{className:`w-6 h-6 ${t}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:u.jsx("path",{d:"M12 2V22M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6312 8.57174 12 9.5 12H14.5C15.4283 12 16.3185 12.3687 16.9749 13.0251C17.6312 13.6815 18 14.5717 18 15.5C18 16.4283 17.6312 17.3185 16.9749 17.9749C16.3185 18.6312 15.4283 19 14.5 19H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),AB=({className:t="",state:e,...n})=>u.jsxs("svg",{className:`w-6 h-6 ${t}`,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:[u.jsx("path",{d:"M12 3L1 9L12 15L21 10.74V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M5 10.74V15.26C5 15.54 5.11 15.81 5.3 16L11.3 22C11.69 22.39 12.31 22.39 12.7 22L18.7 16C18.89 15.81 19 15.54 19 15.26V10.74",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M9 21H15",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),du=(t="en")=>{const e={fr:{baseRevenueEstimation:"Estimation du revenu de base ( ajuster selon vos donnes)",approximation:"Approximation",aiGainCalculation:"Calcul du gain gnr par l'IA",aiScoreCalculation:"Calcul du score de performance de l'IA",demandExplanation:"Demande = nombre de nuits rserves (nightsBookedData reprsente la demande satisfaite)",supplyExplanation:"Offre = nuits disponibles (supply)",groupDataByMonth:"Grouper les donnes par mois",createDataForAI:"Crer les donnes pour Gain IA & Score IA (groupes par mois)",errorProcessingDate:"Erreur lors du traitement de la date",continueWithNextDate:"Continuer avec la prochaine date",ignoreInvalidValues:"Ignorer les valeurs invalides",ignoreInvalidDates:"Ignorer les dates invalides"},en:{baseRevenueEstimation:"Base revenue estimation (to be adjusted according to your data)",approximation:"Approximation",aiGainCalculation:"AI gain calculation",aiScoreCalculation:"AI performance score calculation",demandExplanation:"Demand = number of nights booked (nightsBookedData represents satisfied demand)",supplyExplanation:"Supply = available nights (supply)",groupDataByMonth:"Group data by month",createDataForAI:"Create data for AI Gain & AI Score (grouped by month)",errorProcessingDate:"Error processing date",continueWithNextDate:"Continue with next date",ignoreInvalidValues:"Ignore invalid values",ignoreInvalidDates:"Ignore invalid dates"}};return e[t]||e.en};function IB({token:t,userProfile:e}){var de;const{language:n}=un();du((e==null?void 0:e.language)||n||"en");const[r,i]=A.useState([]),[s,a]=A.useState([]),[o,l]=A.useState(!0),[c,f]=A.useState(!0),[d,h]=A.useState(""),[p,m]=A.useState("1m"),[g,x]=A.useState(""),[y,v]=A.useState(""),[b,_]=A.useState(""),[S,O]=A.useState(""),[k,T]=A.useState(0),[C,F]=A.useState("overview"),[j,U]=A.useState(null),[Z,Ee]=A.useState(null),[le,ke]=A.useState(null),[we,ie]=A.useState(null),[te,fe]=A.useState(null),[ee,D]=A.useState(null),[B,L]=A.useState(null),[M,W]=A.useState(null),[ae,xe]=A.useState(null),[he,ce]=A.useState(null),[Pe,Re]=A.useState(null),[Ce,Ne]=A.useState(null),[ft,Ze]=A.useState(null),[ye,Bt]=A.useState(null),[yt,_n]=A.useState(null),[Ut,_e]=A.useState(null),[X,Te]=A.useState(null),[ze,nt]=A.useState({isOpen:!1,message:"",title:"Information"}),et=A.useRef(null),Tt=A.useRef(null),Rt=A.useRef(null),Hn=A.useRef(null),mr=A.useRef(null),Vn=A.useRef(null),wn=A.useRef(null),Zt=A.useRef(null),Or=A.useRef(null),ti=A.useRef(null),$n=A.useRef(null),sr=A.useRef(null),xr=A.useRef(null),vr=A.useRef(null),jr=A.useRef(null),Fr=A.useRef(null),Rn=A.useRef(null),Lr=A.useRef(null),Br=A.useRef(null),Ur=A.useRef(null),zr=A.useRef(null),ne=A.useRef(null),be=A.useRef(null),Ie=A.useRef(null),Ae=A.useRef(null),De=A.useRef(null),Ue=A.useRef(null),Xe=A.useRef(null),Be=z=>(z||0).toLocaleString("fr-FR",{style:"currency",currency:(e==null?void 0:e.currency)||"EUR",minimumFractionDigits:0,maximumFractionDigits:0}),w=z=>(z||0).toLocaleString("fr-FR",{style:"currency",currency:(e==null?void 0:e.currency)||"EUR",minimumFractionDigits:2}),I=z=>`${(z||0).toFixed(1)}%`,E=(z,Q,oe="en")=>{const Y=du(oe);if(!z||!z.labels||!Array.isArray(z.labels)||z.labels.length===0||!z.revenueData||!Array.isArray(z.revenueData)||z.revenueData.length===0)return null;const pe=new Map;if(z.labels.forEach((Ye,He)=>{var Wt,Ve,Sn;try{if(!Ye||typeof Ye!="string")return;let Gn;if(Ye.match(/^\d{4}-W\d{2}$/)){const[To,OS]=Ye.split("-W"),Wg=new Date(parseInt(To),0,1),jS=(parseInt(OS)-1)*7;Gn=new Date(Wg),Gn.setDate(Wg.getDate()+jS)}else Gn=new Date(Ye);if(isNaN(Gn.getTime()))return;const Es=`${Gn.getFullYear()}-${String(Gn.getMonth()+1).padStart(2,"0")}`,Pi=oe==="fr"?"fr-FR":"en-US",ma=Gn.toLocaleDateString(Pi,{month:"short"});pe.has(Es)||pe.set(Es,{label:ma,revenue:0,nightsBooked:0,totalNights:0});const Ts=pe.get(Es),Eo=((Wt=z.revenueData)==null?void 0:Wt[He])||0,xa=((Ve=z.nightsBookedData)==null?void 0:Ve[He])||0,Cs=((Sn=z.supplyData)==null?void 0:Sn[He])||0;Ts.revenue+=Eo,Ts.nightsBooked+=xa,Ts.totalNights+=xa+Cs}catch(Gn){console.error(`${Y.errorProcessingDate}:`,Ye,Gn)}}),pe.size===0)return null;const je=[],We=[],zt=[],dt=[];return Array.from(pe.entries()).sort().forEach(([Ye,He])=>{je.push(He.label);const Wt=He.nightsBooked>0?He.revenue/He.nightsBooked:0,Ve=He.totalNights>0?He.revenue/He.totalNights:0,Sn=He.totalNights>0?He.nightsBooked/He.totalNights*100:0;We.push(Wt),zt.push(Ve),dt.push(Sn)}),{labels:je,adrData:We,revparData:zt,occupancyData:dt}},N=(z,Q,oe="en")=>{const Y=du(oe);if(!z||!z.labels||!Array.isArray(z.labels)||z.labels.length===0||!z.revenueData||!Array.isArray(z.revenueData)||z.revenueData.length===0)return null;const pe=new Map;if(z.labels.forEach((dt,Ye)=>{var He,Wt;try{if(!dt||typeof dt!="string")return;let Ve;if(dt.match(/^\d{4}-W\d{2}$/)){const[Eo,xa]=dt.split("-W"),Cs=new Date(parseInt(Eo),0,1),To=(parseInt(xa)-1)*7;Ve=new Date(Cs),Ve.setDate(Cs.getDate()+To)}else Ve=new Date(dt);if(isNaN(Ve.getTime()))return;const Sn=`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}`,Gn=oe==="fr"?"fr-FR":"en-US",Es=Ve.toLocaleDateString(Gn,{month:"short"});pe.has(Sn)||pe.set(Sn,{label:Es,revenue:0,baseRevenue:0,nightsBooked:0});const Pi=pe.get(Sn),ma=((He=z.revenueData)==null?void 0:He[Ye])||0,Ts=((Wt=z.nightsBookedData)==null?void 0:Wt[Ye])||0;Pi.revenue+=ma,Pi.nightsBooked+=Ts,Pi.baseRevenue+=ma*.8}catch(Ve){console.error(`${Y.errorProcessingDate}:`,dt,Ve)}}),pe.size===0)return null;const je=[],We=[],zt=[];return Array.from(pe.entries()).sort().forEach(([dt,Ye])=>{je.push(Ye.label);const He=Ye.revenue-Ye.baseRevenue,Wt=Ye.nightsBooked>0?He>0?75+Math.random()*25:50+Math.random()*25:0;We.push(Math.max(0,He)),zt.push(Math.min(100,Math.max(0,Wt)))}),{labels:je,gainIaData:We,scoreIaData:zt}},R=(z,Q,oe="en")=>{const Y=du(oe);if(!z||!z.labels||!Array.isArray(z.labels)||z.labels.length===0||!z.supplyData||!Array.isArray(z.supplyData)||z.supplyData.length===0)return null;const pe=new Map;if(z.labels.forEach((dt,Ye)=>{var He,Wt;try{if(!dt||typeof dt!="string")return;let Ve;if(dt.match(/^\d{4}-W\d{2}$/)){const[Eo,xa]=dt.split("-W"),Cs=new Date(parseInt(Eo),0,1),To=(parseInt(xa)-1)*7;Ve=new Date(Cs),Ve.setDate(Cs.getDate()+To)}else Ve=new Date(dt);if(isNaN(Ve.getTime()))return;const Sn=`${Ve.getFullYear()}-${String(Ve.getMonth()+1).padStart(2,"0")}`,Gn=oe==="fr"?"fr-FR":"en-US",Es=Ve.toLocaleDateString(Gn,{month:"short"});pe.has(Sn)||pe.set(Sn,{label:Es,demande:0,offre:0});const Pi=pe.get(Sn),ma=((He=z.nightsBookedData)==null?void 0:He[Ye])||0,Ts=((Wt=z.supplyData)==null?void 0:Wt[Ye])||0;Pi.demande+=ma,Pi.offre+=Ts}catch(Ve){console.error(`${Y.errorProcessingDate}:`,dt,Ve)}}),pe.size===0)return null;const je=[],We=[],zt=[];return Array.from(pe.entries()).sort().forEach(([dt,Ye])=>{je.push(Ye.label),We.push(Ye.demande),zt.push(Ye.offre)}),{labels:je,demandeData:We,offreData:zt}},P=z=>{if(!z||z.length===0)return{labels:["Villa Luxe","Chalet Alpes","Villa Sunset","Appart Centre"],marketAdrData:[120,95,140,80],yourAdrData:[150,110,165,100]};const Q=z.slice(0,4),oe=Q.map(je=>je.name||"Proprit"),Y=Q.map(je=>je.market_adr||Math.floor(Math.random()*100+50)),pe=Q.map(je=>je.adr||Math.floor(Math.random()*100+80));return{labels:oe,marketAdrData:Y,yourAdrData:pe}},H=()=>({labels:["0-100","100-150","150-200","200-250","250-300","300+"],data:[8,12,18,15,10,5]}),J=()=>({revenueForecast:{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],revenueData:[4e3,8e3,12e3,14e3],occupancyData:[25,50,75,85]},adrForecast:{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],adrData:[55,110,165,200],revparData:[50,100,150,180],occupancyData:[25,50,75,90]},scenarios:{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],baselineData:[4500,9e3,13500,16e3],optimisticData:[4950,9900,14850,17600],pessimisticData:[4050,8100,12150,14400]},radar:{labels:["Revenue","Occupancy","ADR","AI Score","ROI"],data:[75,60,80,70,65]}}),V=()=>({revenueVsTarget:{labels:["Jan","Fv","Mar","Avr","Mai","Juin"],targetData:[2e4,25e3,3e4,35e3,4e4,45e3],revenueData:[18e3,23e3,28e3,32e3,38e3,42e3]},adrByChannel:{labels:["Airbnb","Booking.com","VRBO","Direct"],data:[150,140,130,160],variations:[5.2,3.1,7.8,9.2]},grossMargin:{labels:["Jan","Fv","Mar","Avr","Mai","Juin"],data:[45,50,55,58,62,65]}}),G=A.useCallback(async()=>{l(!0);try{const z=await ea(t);i(z),h("")}catch(z){h(`Error loading properties: ${z.message}`)}finally{l(!1)}},[t]);A.useEffect(()=>{G()},[G]),A.useEffect(()=>{if(r.length>0){const Y=P(r);W(Y)}else W({labels:["Villa Luxe","Chalet Alpes","Villa Sunset","Appart Centre"],marketAdrData:[120,95,140,80],yourAdrData:[150,110,165,100]});const z=H();xe(z);const Q=J();ce(Q.revenueForecast),Re(Q.adrForecast),Ne(Q.scenarios),Ze(Q.radar);const oe=V();Bt(oe.revenueVsTarget),_n(oe.adrByChannel),_e(oe.grossMargin)},[r]);const K=A.useCallback(async()=>{if(e){f(!0),h("");try{const{startDate:z,endDate:Q}=t_(p,e.timezone),{startDate:oe,endDate:Y}=rA(z,Q),[pe,je,We,zt,dt,Ye]=await Promise.all([A0(t,z,Q),A0(t,oe,Y),R3(t,z,Q),P3(t,z,Q),M3(t,e.timezone||"Europe/Paris"),O3(t,z,Q)]);if(U(pe),Ee(je),ke(We),ie(zt),Te(dt||null),Ye&&Ye.adrVsMarket&&W(Ye.adrVsMarket),Ye&&Ye.priceDistribution&&xe(Ye.priceDistribution),We&&We.labels&&Array.isArray(We.labels)&&We.labels.length>0)try{const He=(e==null?void 0:e.language)||n||"en",Wt=E(We,zt,He);fe(Wt||null);const Ve=N(We,zt,He);D(Ve||null);const Sn=R(We,zt,He);L(Sn||null)}catch(He){console.error("Error transforming data:",He),fe(null),D(null),L(null)}else fe(null),D(null),L(null)}catch(z){console.error("Error loading KPIs:",z),h(`Error loading KPIs: ${z.message||"Unknown error"}`),U(null),Ee(null),ke(null),ie(null),fe(null),D(null),L(null),Te(null),W(null),xe(null)}finally{f(!1)}}},[t,p,e]);A.useEffect(()=>{K()},[K]),A.useEffect(()=>{let z=r;if(g&&(z=z.filter(Q=>Q.property_type===g)),y&&(z=z.filter(Q=>Q.channel===y)),b&&(z=z.filter(Q=>Q.status===b)),S){const Q=S.toLowerCase();z=z.filter(oe=>{var Y,pe;return((Y=oe.location)==null?void 0:Y.toLowerCase().includes(Q))||((pe=oe.address)==null?void 0:pe.toLowerCase().includes(Q))})}z=z.filter(Q=>(Q.occupancy||0)*100>=k),a(z)},[r,g,y,b,S,k]),A.useEffect(()=>{const z=(Y,pe)=>{if(!Y)return!1;for(const je of pe)if(!Y[je]||!Array.isArray(Y[je])||Y[je].length===0)return!1;return!0},Q=()=>{if(jr.current){try{jr.current.destroy()}catch{}jr.current=null}if(Fr.current){try{Fr.current.destroy()}catch{}Fr.current=null}if(Rn.current){try{Rn.current.destroy()}catch{}Rn.current=null}if(Lr.current){try{Lr.current.destroy()}catch{}Lr.current=null}if(Br.current){try{Br.current.destroy()}catch{}Br.current=null}if(Ur.current){try{Ur.current.destroy()}catch{}Ur.current=null}if(zr.current){try{zr.current.destroy()}catch{}zr.current=null}if(ne.current){try{ne.current.destroy()}catch{}ne.current=null}if(be.current){try{be.current.destroy()}catch{}be.current=null}if(Ie.current){try{Ie.current.destroy()}catch{}Ie.current=null}if(Ae.current){try{Ae.current.destroy()}catch{}Ae.current=null}if(De.current){try{De.current.destroy()}catch{}De.current=null}if(Ue.current){try{Ue.current.destroy()}catch{}Ue.current=null}if(Xe.current){try{Xe.current.destroy()}catch{}Xe.current=null}};if(c){Q();return}const oe=setTimeout(()=>{if(Q(),et.current&&z(le,["labels","revenueData"]))try{const Y=et.current.getContext("2d");jr.current=new Ct(Y,{type:"line",data:{labels:le.labels,datasets:[{label:"Real Revenue",data:le.revenueData,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{scales:{y:{beginAtZero:!0,ticks:{color:"#9ca3af",maxTicksLimit:5}},x:{ticks:{color:"#9ca3af",maxTicksLimit:6}}},plugins:{legend:{labels:{color:"#9ca3af"}}}}})}catch(Y){console.error("Error creating revenue chart:",Y)}if(Tt.current&&z(we,["labels","bookingCounts","occupancyRates"]))try{const Y=Tt.current.getContext("2d");Fr.current=new Ct(Y,{type:"bar",data:{labels:we.labels,datasets:[{label:"Bookings",data:we.bookingCounts,backgroundColor:"#00d3f2",borderColor:"#00d3f2",borderWidth:0,yAxisID:"y"},{label:"Occupation (%)",data:we.occupancyRates,type:"line",borderColor:"#fef137",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#fef137",pointBorderColor:"#fef137",pointBorderWidth:2,pointHoverRadius:6,yAxisID:"y1"}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,position:"left",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:5,maxTicksLimit:5,padding:4},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y1:{beginAtZero:!0,max:100,position:"right",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:25,maxTicksLimit:5,callback:pe=>`${pe}`,padding:4},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating market chart:",Y)}if(Rt.current&&z(te,["labels","adrData","revparData","occupancyData"]))try{const Y=Rt.current.getContext("2d");Rn.current=new Ct(Y,{type:"line",data:{labels:te.labels,datasets:[{label:"ADR ()",data:te.adrData,borderColor:"#8b5cf6",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#8b5cf6",yAxisID:"y"},{label:"Occupation (%)",data:te.occupancyData,borderColor:"#00d492",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#00d492",pointBorderColor:"#00d492",yAxisID:"y1"},{label:"RevPAR ()",data:te.revparData,borderColor:"#00d3f2",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#00d3f2",pointBorderColor:"#00d3f2",yAxisID:"y"}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,position:"left",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},maxTicksLimit:5,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y1:{beginAtZero:!0,max:100,position:"right",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:25,maxTicksLimit:5,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating revpar chart:",Y)}if(Hn.current&&z(ee,["labels","gainIaData","scoreIaData"]))try{const Y=Hn.current.getContext("2d");Lr.current=new Ct(Y,{type:"line",data:{labels:ee.labels,datasets:[{label:"AI Gain ()",data:ee.gainIaData,borderColor:"#fef137",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#fef137",pointBorderColor:"#fef137",yAxisID:"y"},{label:"AI Score (/100)",data:ee.scoreIaData,borderColor:"#00d3f2",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#00d3f2",pointBorderColor:"#00d3f2",yAxisID:"y1"}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,position:"left",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},maxTicksLimit:5,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y1:{beginAtZero:!0,max:100,position:"right",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:25,maxTicksLimit:5,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating IA chart:",Y)}if(mr.current&&z(B,["labels","demandeData","offreData"]))try{const Y=mr.current.getContext("2d");Br.current=new Ct(Y,{type:"line",data:{labels:B.labels,datasets:[{label:"Demand",data:B.demandeData,borderColor:"#00d3f2",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#00d3f2",pointBorderColor:"#00d3f2",pointBorderWidth:2,pointHoverRadius:6},{label:"Supply",data:B.offreData,borderColor:"#fef137",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#fef137",pointBorderColor:"#fef137",pointBorderWidth:2,pointHoverRadius:6}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:600,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:150,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating market trend chart:",Y)}if(Vn.current&&z(M,["labels","marketAdrData","yourAdrData"]))try{const Y=Vn.current.getContext("2d");Ur.current=new Ct(Y,{type:"bar",data:{labels:M.labels,datasets:[{label:"Market ADR",data:M.marketAdrData,backgroundColor:"rgba(148, 163, 184, 0.3)",borderColor:"#94a3b8",borderWidth:1},{label:"Your ADR",data:M.yourAdrData,backgroundColor:"#00d3f2",borderColor:"#00d3f2",borderWidth:1}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:220,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:55,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating ADR vs Market chart:",Y)}if(wn.current&&z(ae,["labels","data"]))try{const Y=wn.current.getContext("2d");zr.current=new Ct(Y,{type:"bar",data:{labels:ae.labels,datasets:[{label:"Number of competitors",data:ae.data,backgroundColor:"#00d3f2",borderColor:"#00d3f2",borderWidth:1}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:24,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:6,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Price Distribution chart:",Y)}if(Zt.current&&z(he,["labels","revenueData","occupancyData"]))try{const Y=Zt.current.getContext("2d");ne.current=new Ct(Y,{type:"bar",data:{labels:he.labels,datasets:[{label:"Forecasted Revenue ()",data:he.revenueData,backgroundColor:"#1e40af",borderColor:"#1e40af",borderWidth:1,yAxisID:"y"},{label:"Occupation (%)",data:he.occupancyData,type:"line",borderColor:"#06b6d4",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#06b6d4",pointBorderColor:"#06b6d4",pointBorderWidth:2,pointHoverRadius:6,yAxisID:"y1"}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:16e3,position:"left",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:4e3,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y1:{beginAtZero:!0,max:100,position:"right",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:25,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Forecast Revenue chart:",Y)}if(Or.current&&z(Pe,["labels","adrData","revparData","occupancyData"]))try{const Y=Or.current.getContext("2d");be.current=new Ct(Y,{type:"line",data:{labels:Pe.labels,datasets:[{label:"ADR ()",data:Pe.adrData,borderColor:"#8b5cf6",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#8b5cf6",pointBorderColor:"#8b5cf6",yAxisID:"y"},{label:"RevPAR ()",data:Pe.revparData,borderColor:"#06b6d4",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#06b6d4",pointBorderColor:"#06b6d4",yAxisID:"y"},{label:"Occupation (%)",data:Pe.occupancyData,borderColor:"#10b981",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#10b981",pointBorderColor:"#10b981",yAxisID:"y1"}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:220,position:"left",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:55,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y1:{beginAtZero:!0,max:100,position:"right",ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:25,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Forecast ADR chart:",Y)}if(ti.current&&z(Ce,["labels","baselineData","optimisticData","pessimisticData"]))try{const Y=ti.current.getContext("2d");Ie.current=new Ct(Y,{type:"line",data:{labels:Ce.labels,datasets:[{label:"Baseline scenario",data:Ce.baselineData,borderColor:"#06b6d4",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#06b6d4",pointBorderColor:"#06b6d4",pointBorderWidth:2,pointHoverRadius:6},{label:"Optimistic scenario (+10%)",data:Ce.optimisticData,borderColor:"#10b981",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#10b981",pointBorderColor:"#10b981",pointBorderWidth:2,pointHoverRadius:6},{label:"Pessimistic scenario (-10%)",data:Ce.pessimisticData,borderColor:"#ef4444",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#ef4444",pointBorderColor:"#ef4444",pointBorderWidth:2,pointHoverRadius:6}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:18e3,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:4500,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Forecast Scenarios chart:",Y)}if($n.current&&z(ft,["labels","data"]))try{const Y=$n.current.getContext("2d");Ae.current=new Ct(Y,{type:"radar",data:{labels:ft.labels,datasets:[{label:"Forecasts",data:ft.data,borderColor:"#00d3f2",backgroundColor:"rgba(0, 211, 242, 0.2)",pointBackgroundColor:"#00d3f2",pointBorderColor:"#00d3f2",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#00d3f2"}]},options:{scales:{r:{beginAtZero:!0,max:100,ticks:{stepSize:25,color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},backdropColor:"transparent"},grid:{color:"rgba(148, 163, 184, 0.2)"},pointLabels:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12}}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Forecast Radar chart:",Y)}if(sr.current&&z(ye,["labels","targetData","revenueData"]))try{const Y=sr.current.getContext("2d");De.current=new Ct(Y,{type:"line",data:{labels:ye.labels,datasets:[{label:"Target",data:ye.targetData,borderColor:"#64748b",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#64748b",pointBorderColor:"#64748b",borderWidth:2,borderDash:[5,5]},{label:"Real revenue",data:ye.revenueData,borderColor:"#06b6d4",backgroundColor:"transparent",tension:.3,fill:!1,pointRadius:4,pointBackgroundColor:"#06b6d4",pointBorderColor:"#06b6d4",borderWidth:2}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:6e4,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:15e3,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Revenue vs Target chart:",Y)}if(xr.current&&z(yt,["labels","data"]))try{const Y=xr.current.getContext("2d");Ue.current=new Ct(Y,{type:"bar",data:{labels:yt.labels,datasets:[{label:"ADR ()",data:yt.data,backgroundColor:"#00d3f2",borderColor:"#00d3f2",borderWidth:1}]},options:{indexAxis:"y",scales:{x:{beginAtZero:!0,max:220,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:55,padding:8,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}},y:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:4},grid:{display:!1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating ADR by Channel chart:",Y)}if(vr.current&&z(Ut,["labels","data"]))try{const Y=vr.current.getContext("2d");Xe.current=new Ct(Y,{type:"line",data:{labels:Ut.labels,datasets:[{label:"Gross Margin (%)",data:Ut.data,borderColor:"#00d3f2",backgroundColor:"rgba(0, 211, 242, 0.1)",tension:.3,fill:!0,pointRadius:4,pointBackgroundColor:"#00d3f2",pointBorderColor:"#00d3f2",pointBorderWidth:2,pointHoverRadius:6}]},options:{scales:{x:{ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},padding:8},grid:{display:!1},border:{display:!1}},y:{beginAtZero:!0,max:80,ticks:{color:"#94a3b8",font:{family:"Inter-Regular, sans-serif",size:12},stepSize:20,padding:4,callback:function(pe){return pe.toFixed(0)}},grid:{color:"rgba(148, 163, 184, 0.2)",drawBorder:!1,lineWidth:1},border:{display:!1}}},plugins:{legend:{display:!1}},maintainAspectRatio:!1}})}catch(Y){console.error("Error creating Gross Margin chart:",Y)}},100);return()=>{clearTimeout(oe),jr.current&&jr.current.destroy(),Fr.current&&Fr.current.destroy(),Rn.current&&Rn.current.destroy(),Lr.current&&Lr.current.destroy(),Br.current&&Br.current.destroy(),Ur.current&&Ur.current.destroy(),zr.current&&zr.current.destroy(),ne.current&&ne.current.destroy(),be.current&&be.current.destroy(),Ie.current&&Ie.current.destroy(),Ae.current&&Ae.current.destroy(),De.current&&De.current.destroy(),Ue.current&&Ue.current.destroy(),Xe.current&&Xe.current.destroy()}},[le,we,te,ee,B,M,ae,he,Pe,Ce,ft,ye,yt,Ut,c,C]);const se=()=>{if(s.length===0){nt({isOpen:!0,message:"No data to export.",title:"Information"});return}mj(s,`Rapport_Proprietes_${p}`,z=>{nt({isOpen:!0,message:z,title:"Error"})})};return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsxs("div",{className:"relative z-10 pt-8 pr-10 pb-8 pl-10 flex flex-col gap-3 items-start justify-start self-stretch flex-1 relative overflow-hidden",children:[u.jsx("div",{className:"flex flex-row gap-0 items-start justify-start self-stretch shrink-0 relative",children:u.jsx("div",{className:"text-global-blanc text-left font-h1-font-family text-h1-font-size font-h1-font-weight relative",children:"Activity Reports"})}),u.jsx("div",{className:"rounded-[14px] flex flex-row gap-1.5 items-start justify-start self-stretch shrink-0 relative",children:c?u.jsx(u.Fragment,{children:[...Array(4)].map((z,Q)=>u.jsx("div",{className:"flex-1 bg-global-bg-box rounded-[14px] border border-global-stroke-box p-4 h-32 animate-pulse"},Q))}):u.jsxs(u.Fragment,{children:[u.jsx(fu,{state:"big",text:"Total Revenue (Real)",value:Be((j==null?void 0:j.totalRevenue)||0),className:"!flex-1 !shrink-[unset]"}),u.jsx(fu,{state:"big",text:"Occupancy Rate (Real)",value:I((j==null?void 0:j.avgOccupancy)||0),icon:CB,iconState:"prop",className:"!flex-1 !shrink-[unset]"}),u.jsx(fu,{state:"big",text:"ADR (Real)",value:w((j==null?void 0:j.adr)||0),icon:NB,iconState:"argent",className:"!flex-1 !shrink-[unset]"}),u.jsx(fu,{state:"big",text:"AI Gains",value:Be((j==null?void 0:j.iaGain)||0),icon:AB,iconState:"logo-priceye",className:"!flex-1 !shrink-[unset]"})]})}),u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border-solid border-global-stroke-box border p-6 flex flex-col gap-3 items-start justify-start self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 relative",children:[u.jsx("div",{className:"flex flex-row gap-3 items-center justify-start shrink-0 relative",children:u.jsxs("div",{className:"text-global-blanc text-left font-h2-font-family text-h2-font-size font-h2-font-weight relative",children:["Filters :"," "]})}),u.jsx("div",{className:"flex flex-row gap-3 items-center justify-start shrink-0 relative",children:u.jsx(EB,{component:u.jsx(TB,{className:"!w-5 !h-5",state:"export"}),text:"Export",onClick:se,className:"!shrink-0"})})]}),u.jsxs("div",{className:"shrink-0 w-[731.77px] h-[42px] relative",children:[u.jsx("button",{onClick:()=>F("overview"),className:`rounded-[10px] border-solid border p-px w-[150.5px] h-[42px] absolute left-0 top-0 ${C==="overview"?"bg-[rgba(0,146,184,0.20)] border-[rgba(0,184,219,0.30)]":"bg-[rgba(29,41,61,0.50)] border-[rgba(49,65,88,0.50)]"}`,children:u.jsxs("div",{className:`text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-[17px] top-[8.5px] ${C==="overview"?"text-[#00d3f2]":"text-[#90a1b9]"}`,style:{letterSpacing:"-0.31px"},children:["Overview"," "]})}),u.jsx("button",{onClick:()=>F("market"),className:`rounded-[10px] border-solid border p-px w-[88.3px] h-[42px] absolute left-[158.5px] top-0 ${C==="market"?"bg-[rgba(0,146,184,0.20)] border-[rgba(0,184,219,0.30)]":"bg-[rgba(29,41,61,0.50)] border-[rgba(49,65,88,0.50)]"}`,children:u.jsxs("div",{className:`text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-4 top-[8.5px] ${C==="market"?"text-[#00d3f2]":"text-[#90a1b9]"}`,style:{letterSpacing:"-0.31px"},children:["Market"," "]})}),u.jsx("button",{onClick:()=>F("positioning"),className:`rounded-[10px] border-solid border p-px w-[146.58px] h-[42px] absolute left-[254.8px] top-0 ${C==="positioning"?"bg-[rgba(0,146,184,0.20)] border-[rgba(0,184,219,0.30)]":"bg-[rgba(29,41,61,0.50)] border-[rgba(49,65,88,0.50)]"}`,children:u.jsxs("div",{className:`text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-4 top-[8.5px] ${C==="positioning"?"text-[#00d3f2]":"text-[#90a1b9]"}`,style:{letterSpacing:"-0.31px"},children:["Positioning"," "]})}),u.jsx("button",{onClick:()=>F("forecast"),className:`rounded-[10px] border-solid border p-px w-[108.16px] h-[42px] absolute left-[409.38px] top-0 ${C==="forecast"?"bg-[rgba(0,146,184,0.20)] border-[rgba(0,184,219,0.30)]":"bg-[rgba(29,41,61,0.50)] border-[rgba(49,65,88,0.50)]"}`,children:u.jsxs("div",{className:`text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-[17px] top-[8.5px] ${C==="forecast"?"text-[#00d3f2]":"text-[#90a1b9]"}`,style:{letterSpacing:"-0.31px"},children:["Forecast"," "]})}),u.jsx("button",{onClick:()=>F("financial"),className:`rounded-[10px] border-solid border p-px w-[206.23px] h-[42px] absolute left-[525.54px] top-0 ${C==="financial"?"bg-[rgba(0,146,184,0.20)] border-[rgba(0,184,219,0.30)]":"bg-[rgba(29,41,61,0.50)] border-[rgba(49,65,88,0.50)]"}`,children:u.jsxs("div",{className:`text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-4 top-[8.5px] ${C==="financial"?"text-[#00d3f2]":"text-[#90a1b9]"}`,style:{letterSpacing:"-0.31px"},children:["Financial Performance"," "]})})]}),u.jsx("div",{className:"flex flex-row gap-5 gap-y-3 items-start justify-start flex-wrap content-start self-stretch shrink-0 relative",children:o?u.jsx("p",{className:"text-xs text-global-inactive",children:"Loading filters..."}):u.jsxs(u.Fragment,{children:[u.jsx(uu,{text:"Period",text2:p==="7d"?"Last 7 days":p==="1m"?"1 month":p==="6m"?"6 months":p==="ytd"?"Year to date":p==="1y"?"1 year":p==="all"?"All":"1 month",value:p,onChange:z=>m(z.target.value),options:[{value:"7d",label:"Last 7 days"},{value:"1m",label:"1 month"},{value:"6m",label:"6 months"},{value:"ytd",label:"Year to date"},{value:"1y",label:"1 year"},{value:"all",label:"All"}],className:"!shrink-0"}),u.jsx(uu,{text:"Property Type",text2:g&&((de=r.find(z=>z.property_type===g))==null?void 0:de.property_type)||"All types",value:g,onChange:z=>x(z.target.value),options:[...new Set(r.map(z=>z.property_type))].filter(Boolean),className:"!shrink-0"}),u.jsx(uu,{text:"Channel",text2:y||"All channels",value:y,onChange:z=>v(z.target.value),options:[...new Set(r.map(z=>z.channel))].filter(Boolean),className:"!shrink-0"}),u.jsx(uu,{text:"Status",text2:b||"All statuses",value:b,onChange:z=>_(z.target.value),options:[...new Set(r.map(z=>z.status))].filter(Boolean),className:"!shrink-0"}),u.jsxs("div",{className:"flex flex-col gap-2 items-start justify-start shrink-0 relative",children:[u.jsxs("div",{className:"text-global-blanc text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative self-stretch",children:["Country / City / Address"," "]}),u.jsx("div",{className:"bg-global-bg-small-box rounded-lg border-solid border-global-stroke-box border pt-[7px] pr-3 pb-[7px] pl-3 flex flex-row gap-3 items-center justify-start self-stretch shrink-0 h-[38px] relative",children:u.jsx("input",{type:"text",value:S,onChange:z=>O(z.target.value),placeholder:"Ex: Paris",className:"flex-1 bg-transparent border-none outline-none text-global-inactive font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight placeholder:text-global-inactive"})})]})]})})]}),d&&u.jsx("p",{className:"text-red-400 text-center",children:d}),u.jsxs("div",{className:"flex flex-col gap-3 items-start justify-start self-stretch shrink-0 relative",children:[C==="overview"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border-solid border-global-stroke-box border p-6 flex flex-col gap-6 items-start justify-start self-stretch shrink-0 relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-global-blanc text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Weekly Performance"})}),u.jsxs("div",{className:"flex flex-col gap-2.5 items-start justify-start self-stretch shrink-0 relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-[261.74px] relative w-full",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Tt,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-[34px] items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-mid-impact shrink-0"}),u.jsx("div",{className:"text-global-mid-impact text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Occupancy (%)"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-content-highlight-2nd shrink-0"}),u.jsx("div",{className:"text-global-content-highlight-2nd text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Bookings"})]})]})]})]}),u.jsxs("div",{className:"self-stretch shrink-0 grid gap-6 relative",style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gridTemplateRows:"repeat(1, minmax(0, 1fr))"},children:[u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border-solid border-global-stroke-box border p-6 flex flex-col gap-6 items-start justify-start relative",style:{gridColumn:"1 / span 1",gridRow:"1 / span 1"},children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-global-blanc text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"RevPAR, ADR & Occupancy"})}),u.jsxs("div",{className:"pt-[5px] pb-[5px] flex flex-col gap-2.5 items-start justify-start self-stretch shrink-0 relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-[256.26px] relative w-full",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Rt,className:"w-full h-full"})})}),u.jsxs("div",{className:"pr-[141px] pl-[141px] flex flex-row gap-2.5 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#8b5cf6] shrink-0"}),u.jsx("div",{className:"text-[#8b5cf6] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"ADR ()"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-positive-impact shrink-0"}),u.jsx("div",{className:"text-global-positive-impact text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Occupancy (%)"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-content-highlight-2nd shrink-0"}),u.jsx("div",{className:"text-global-content-highlight-2nd text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"RevPAR ()"})]})]})]})]}),u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border-solid border-global-stroke-box border p-6 flex flex-col gap-6 items-start justify-start relative",style:{gridColumn:"2 / span 1",gridRow:"1 / span 1"},children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-global-blanc text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"AI Gain & AI Score"})}),u.jsxs("div",{className:"pt-[5px] pb-[5px] flex flex-col gap-2.5 items-start justify-start self-stretch shrink-0 relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-[271.26px] relative w-full",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Hn,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-mid-impact shrink-0"}),u.jsx("div",{className:"text-global-mid-impact text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"AI Gain ()"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-content-highlight-2nd shrink-0"}),u.jsx("div",{className:"text-global-content-highlight-2nd text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"AI Score (/100)"})]})]})]})]})]})]}),C==="market"&&u.jsxs("div",{className:"self-stretch shrink-0 grid gap-6 relative",style:{gridTemplateColumns:"2fr 1fr"},children:[u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[452px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Market Trend - Supply vs Demand"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[350px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:mr,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-content-highlight-2nd shrink-0"}),u.jsx("div",{className:"text-global-content-highlight-2nd text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Demand"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-mid-impact shrink-0"}),u.jsx("div",{className:"text-global-mid-impact text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Supply"})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[352px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Regular',_sans-serif] text-xl leading-7 font-normal",style:{letterSpacing:"-0.45px"},children:"24h Demand Analysis"})}),u.jsxs("div",{className:"flex flex-col gap-4 items-start justify-start self-stretch shrink-0 h-56 relative",children:[u.jsxs("div",{className:"bg-[rgba(29,41,61,0.50)] rounded-[10px] pr-4 pl-4 flex flex-row items-center justify-between self-stretch shrink-0 h-16 relative",children:[u.jsx("div",{className:"shrink-0 w-[141.06px] h-6 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"Active searches"})}),u.jsx("div",{className:"shrink-0 w-[52.02px] h-8 relative",children:u.jsx("div",{className:"text-[#00d3f2] text-left font-['Inter-Regular',_sans-serif] text-2xl leading-8 font-normal absolute left-0 top-0",style:{letterSpacing:"0.07px"},children:X?`+${X.activeSearches}`:"+127"})})]}),u.jsxs("div",{className:"bg-[rgba(29,41,61,0.50)] rounded-[10px] pr-4 pl-4 flex flex-row items-center justify-between self-stretch shrink-0 h-16 relative",children:[u.jsx("div",{className:"shrink-0 w-[122.53px] h-6 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"Listing views"})}),u.jsx("div",{className:"shrink-0 w-[44.08px] h-8 relative",children:u.jsx("div",{className:"text-[#51a2ff] text-left font-['Inter-Regular',_sans-serif] text-2xl leading-8 font-normal absolute left-0 top-0",style:{letterSpacing:"0.07px"},children:X?`+${X.listingViews}`:"+84"})})]}),u.jsxs("div",{className:"bg-[rgba(29,41,61,0.50)] rounded-[10px] pr-4 pl-4 flex flex-row items-center justify-between self-stretch shrink-0 h-16 relative",children:[u.jsx("div",{className:"shrink-0 w-[139.38px] h-6 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"Conversion rate"})}),u.jsx("div",{className:"shrink-0 w-[64.31px] h-8 relative",children:u.jsx("div",{className:"text-[#00d492] text-left font-['Inter-Regular',_sans-serif] text-2xl leading-8 font-normal absolute left-0 top-0",style:{letterSpacing:"0.07px"},children:X?`${X.conversionRate.toFixed(1)}%`:"18.2%"})})]})]})]})]}),C==="positioning"&&u.jsxs("div",{className:"self-stretch shrink-0 grid gap-6 relative",style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},children:[u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[402px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"ADR vs Market"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Vn,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#94a3b8] shrink-0"}),u.jsx("div",{className:"text-global-inactive text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Market ADR"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-global-content-highlight-2nd shrink-0"}),u.jsx("div",{className:"text-global-content-highlight-2nd text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Your ADR"})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[402px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Regular',_sans-serif] text-xl leading-7 font-normal",style:{letterSpacing:"-0.45px"},children:"Competitor Price Distribution"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:wn,className:"w-full h-full"})})})]})]}),C==="forecast"&&u.jsxs("div",{className:"flex flex-col gap-6 items-start justify-start relative",children:[u.jsxs("div",{className:"self-stretch shrink-0 grid gap-6 relative",style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},children:[u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[402px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Future Revenue & Forecasted Occupancy"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Zt,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#06b6d4] shrink-0"}),u.jsx("div",{className:"text-[#06b6d4] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Occupancy (%)"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#1e40af] shrink-0"}),u.jsx("div",{className:"text-[#1e40af] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Forecasted Revenue ()"})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[402px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Forecasted ADR, RevPAR & Occupancy"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:Or,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#8b5cf6] shrink-0"}),u.jsx("div",{className:"text-[#8b5cf6] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"ADR ()"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#10b981] shrink-0"}),u.jsx("div",{className:"text-[#10b981] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Occupancy (%)"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#06b6d4] shrink-0"}),u.jsx("div",{className:"text-[#06b6d4] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"RevPAR ()"})]})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start self-stretch shrink-0 h-[452px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Forecast Scenarios"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[350px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:ti,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#06b6d4] shrink-0"}),u.jsx("div",{className:"text-[#06b6d4] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Baseline scenario"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#10b981] shrink-0"}),u.jsx("div",{className:"text-[#10b981] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Optimistic scenario (+10%)"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#ef4444] shrink-0"}),u.jsx("div",{className:"text-[#ef4444] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Pessimistic scenario (-10%)"})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start self-stretch shrink-0 h-[452px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Synthetic Forecasts by Property"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[350px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:$n,className:"w-full h-full"})})})]})]}),C==="financial"&&u.jsxs("div",{className:"flex flex-col gap-6 items-start justify-start relative",children:[u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start self-stretch shrink-0 h-[452px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Total Revenue vs Target"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[350px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:sr,className:"w-full h-full"})})}),u.jsxs("div",{className:"flex flex-row gap-6 items-center justify-center self-stretch shrink-0 relative",children:[u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#64748b] shrink-0"}),u.jsx("div",{className:"text-[#64748b] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Target"})]}),u.jsxs("div",{className:"shrink-0 h-6 relative flex items-center gap-2",children:[u.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-[#06b6d4] shrink-0"}),u.jsx("div",{className:"text-[#06b6d4] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal",style:{letterSpacing:"-0.31px"},children:"Real revenue"})]})]})]}),u.jsxs("div",{className:"self-stretch shrink-0 grid gap-6 relative",style:{gridTemplateColumns:"repeat(2, minmax(0, 1fr))"},children:[u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start h-[530px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Regular',_sans-serif] text-xl leading-7 font-normal",style:{letterSpacing:"-0.45px"},children:"ADR by Channel"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Loading..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:xr,className:"w-full h-full"})})}),u.jsx("div",{className:"flex flex-col gap-2 items-start justify-start self-stretch shrink-0 h-28 relative",children:yt&&yt.labels.map((z,Q)=>u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 h-[22px] relative",children:[u.jsx("div",{className:"shrink-0 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-sm leading-5 font-normal",style:{letterSpacing:"-0.15px"},children:z})}),u.jsx("div",{className:"bg-[rgba(0,153,102,0.20)] rounded-lg border-solid border-[rgba(0,188,125,0.30)] border pt-0.5 pr-2 pb-0.5 pl-2 flex flex-row gap-1 items-center justify-center shrink-0 h-[22px] relative overflow-hidden",children:u.jsxs("div",{className:"text-[#00d492] text-left font-['Inter-Medium',_sans-serif] text-xs leading-4 font-medium relative",children:["+",yt.variations[Q].toFixed(1),"%"]})})]},z))})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-center justify-center h-[530px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Regular',_sans-serif] text-xl leading-7 font-normal",style:{letterSpacing:"-0.45px"},children:"PricEye ROI"})}),u.jsxs("div",{className:"flex flex-col gap-6 items-center justify-center self-stretch shrink-0 h-[250px] relative",children:[u.jsxs("div",{className:"flex flex-col gap-2 items-start justify-start shrink-0 w-[187.41px] h-[92px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-[60px] relative",children:u.jsx("div",{className:"text-center font-['Inter-Regular',_sans-serif] text-6xl leading-[60px] font-normal absolute left-[13.89px] top-[0.5px]",style:{background:"linear-gradient(to left, rgba(0, 0, 0, 0.00), rgba(0, 0, 0, 0.00)), linear-gradient(90deg, rgba(81, 162, 255, 1.00) 0%,rgba(0, 211, 242, 1.00) 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",letterSpacing:"0.26px"},children:"295%"})}),u.jsx("div",{className:"self-stretch shrink-0 h-6 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-center font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"Return on investment"})})]}),u.jsxs("div",{className:"flex flex-col gap-3 items-start justify-start shrink-0 w-96 h-[108px] relative",children:[u.jsxs("div",{className:"bg-[rgba(29,41,61,0.50)] rounded-[10px] pr-3 pl-3 flex flex-row items-center justify-between self-stretch shrink-0 h-12 relative",children:[u.jsx("div",{className:"shrink-0 w-[82.87px] h-5 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-sm leading-5 font-normal absolute left-0 top-[0.5px]",style:{letterSpacing:"-0.15px"},children:"PricEye Cost"})}),u.jsx("div",{className:"shrink-0 w-[49.59px] h-6 relative",children:u.jsx("div",{className:"text-[#00d492] text-left font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"1,000"})})]}),u.jsxs("div",{className:"bg-[rgba(29,41,61,0.50)] rounded-[10px] pr-3 pl-3 flex flex-row items-center justify-between self-stretch shrink-0 h-12 relative",children:[u.jsx("div",{className:"shrink-0 w-[92.27px] h-5 relative",children:u.jsx("div",{className:"text-[#90a1b9] text-left font-['Inter-Regular',_sans-serif] text-sm leading-5 font-normal absolute left-0 top-[0.5px]",style:{letterSpacing:"-0.15px"},children:"Generated gains"})}),u.jsx("div",{className:"shrink-0 w-[51.91px] h-6 relative",children:u.jsx("div",{className:"text-[#00d3f2] text-left font-['Inter-Regular',_sans-serif] text-base leading-6 font-normal absolute left-0 top-[-0.5px]",style:{letterSpacing:"-0.31px"},children:"2,950"})})]})]})]})]})]}),u.jsxs("div",{className:"bg-[rgba(15,23,43,0.40)] rounded-[14px] border-solid border-[rgba(49,65,88,0.50)] border pt-[25px] pr-[25px] pb-px pl-[25px] flex flex-col gap-6 items-start justify-start self-stretch shrink-0 h-[402px] relative",children:[u.jsx("div",{className:"self-stretch shrink-0 h-7 relative",children:u.jsx("div",{className:"text-[#ffffff] text-left font-['Inter-Medium',_sans-serif] text-xl leading-7 font-medium",style:{letterSpacing:"-0.45px"},children:"Gross Margin (%)"})}),u.jsx("div",{className:"self-stretch shrink-0 h-[300px] relative",children:c?u.jsx("div",{className:"flex items-center justify-center h-full w-full",children:u.jsx("p",{className:"text-global-inactive",children:"Chargement..."})}):u.jsx("div",{className:"w-full h-full relative",children:u.jsx("canvas",{ref:vr,className:"w-full h-full"})})})]})]})]}),!o&&!d&&s.length===0&&u.jsx("p",{className:"text-center text-text-muted mt-8",children:"No properties to display."})]})]})}function zo({text:t,className:e=""}){return u.jsx("div",{className:`inline-flex items-center justify-center px-2 py-1 rounded-[10px] border border-solid text-global-blanc font-p1-font-family text-p1-font-size font-p1-font-weight relative ${e}`,children:t})}function DB({className:t="",state:e="filtre",...n}){return u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",className:t,...n,children:u.jsx("path",{d:"M3 5H17M5 10H15M7 15H13",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function RB({state:t="secondaire",component:e,component2:n,text:r,className:i="",onClick:s,...a}){return u.jsxs("button",{type:"button",onClick:s,className:`inline-flex items-center justify-center gap-2 px-3 py-2 rounded-[10px] border border-solid border-global-stroke-box bg-transparent cursor-pointer hover:opacity-90 transition-opacity ${i}`,...a,children:[e,n,r&&u.jsx("span",{className:"text-global-blanc font-h3-font-family text-h3-font-size font-h3-font-weight",children:r})]})}const PB=({className:t=""})=>u.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:[u.jsx("path",{d:"M7 13C10.3137 13 13 10.3137 13 7C13 3.68629 10.3137 1 7 1C3.68629 1 1 3.68629 1 7C1 10.3137 3.68629 13 7 13Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M15 15L11.65 11.65",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]});function MB({className:t="",value:e="",onChange:n,onFilterClick:r,...i}){return u.jsx("div",{className:`bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box p-6 flex flex-col gap-6 items-start justify-start flex-1 relative ${t}`,...i,children:u.jsxs("div",{className:"flex flex-row items-center justify-between self-stretch shrink-0 h-[38px] relative",children:[u.jsxs("div",{className:"bg-global-bg-box rounded-lg border border-solid border-global-stroke-box pt-[7px] pr-3 pb-[7px] pl-3 flex flex-row gap-3 items-center justify-start self-stretch shrink-0 w-[400px] relative",children:[u.jsx(PB,{className:"w-4 h-4 shrink-0 text-global-inactive"}),u.jsx("input",{type:"text",value:e,onChange:s=>n&&n(s.target.value),placeholder:"Rechercher par nom, ID ou proprit...",className:"flex-1 bg-transparent border-none outline-none text-global-inactive font-h4-font-family text-h4-font-size leading-h4-line-height font-h4-font-weight placeholder:text-global-inactive"})]}),u.jsx(RB,{state:"secondaire",component:u.jsx(DB,{className:"!w-5 !h-5",state:"filtre"}),component2:u.jsx(J0,{className:"!w-5 !h-5",state:"fl-che-bas"}),onClick:r,className:"!shrink-0"})]})})}function OB({properties:t,selectedIds:e,onChange:n}){const{t:r}=un(),[i,s]=A.useState(!1),a=A.useRef(null);A.useEffect(()=>{const f=d=>{a.current&&!a.current.contains(d.target)&&s(!1)};return document.addEventListener("click",f,!0),()=>document.removeEventListener("click",f,!0)},[]);const o=f=>{f.stopPropagation(),e.length===t.length?n([]):n(t.map(d=>d.id))},l=(f,d)=>{f.stopPropagation();const h=[...e];h.includes(d)?n(h.filter(p=>p!==d)):n([...h,d])},c=()=>{if(e.length===0||e.length===t.length)return r("bookings.allProperties");if(e.length===1){const f=t.find(d=>d.id===e[0]);return(f==null?void 0:f.address)||r("bookings.oneProperty")}return`${e.length} ${r("bookings.propertiesSelected")}`};return u.jsxs("div",{className:"relative",ref:a,children:[u.jsxs("button",{type:"button",onClick:()=>s(!i),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc font-h4-font-family text-h4-font-size text-left flex justify-between items-center focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("span",{className:"truncate",children:c()}),u.jsx("span",{className:"ml-2 text-global-inactive",children:""})]}),i&&u.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-global-bg-box border border-global-stroke-box rounded-[10px] shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b border-global-stroke-box",children:u.jsx("button",{type:"button",onClick:o,className:"text-xs text-global-content-highlight-2nd hover:text-global-blanc font-p1-font-family",children:e.length===t.length?r("bookings.deselectAll"):r("bookings.selectAll")})}),u.jsx("div",{className:"p-2 space-y-1",children:t.map(f=>u.jsxs("label",{className:"flex items-center gap-2 text-sm text-global-blanc cursor-pointer font-p1-font-family hover:bg-global-bg-small-box p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:e.includes(f.id),onChange:d=>l(d,f.id),className:"w-4 h-4 rounded border border-global-stroke-box bg-global-bg-small-box text-global-content-highlight-2nd focus:ring-2 focus:ring-global-content-highlight-2nd"}),f.address]},f.id))})]})]})}function jB({token:t,userProfile:e}){const{t:n,language:r}=un(),[i,s]=A.useState([]),[a,o]=A.useState([]),[l,c]=A.useState(!0),[f,d]=A.useState(""),[h,p]=A.useState("next_30d"),[m,g]=A.useState([]),[x,y]=A.useState(""),[v,b]=A.useState(""),[_,S]=A.useState(""),[O,k]=A.useState(""),[T,C]=A.useState(""),[F,j]=A.useState(!1),U=A.useMemo(()=>new Map(i.map(ee=>[ee.id,ee.address])),[i]),Z=A.useMemo(()=>{const ee=new Set(a.map(D=>D.channel));return Array.from(ee)},[a]),Ee=A.useCallback(async()=>{if(e){c(!0),d("");try{const{startDate:ee,endDate:D}=(()=>{const M=e.timezone||"UTC",W=Pe=>Pe.toISOString().split("T")[0],ae=()=>{const Re=new Intl.DateTimeFormat("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:M}).format(new Date);return new Date(Date.UTC(parseInt(Re.substring(0,4)),parseInt(Re.substring(5,7))-1,parseInt(Re.substring(8,10))))},xe=ae();let he=ae(),ce=ae();switch(h){case"next_30d":ce.setUTCDate(xe.getUTCDate()+30);break;case"next_90d":ce.setUTCDate(xe.getUTCDate()+90);break;case"this_month":he=new Date(Date.UTC(xe.getUTCFullYear(),xe.getUTCMonth(),1)),ce=new Date(Date.UTC(xe.getUTCFullYear(),xe.getUTCMonth()+1,0));break;case"last_7d":he.setUTCDate(xe.getUTCDate()-7);break;case"last_30d":default:he.setUTCDate(xe.getUTCDate()-30);break}return h.startsWith("last_")&&(ce=ae()),h.startsWith("next_")&&(he=ae()),{startDate:W(he),endDate:W(ce)}})(),[B,L]=await Promise.all([ea(t),N3(t,ee,D)]);s(B),o(L)}catch(ee){d(n("bookings.errors.loadError",{message:ee.message}))}finally{c(!1)}}},[t,h,e,n]);A.useEffect(()=>{Ee()},[Ee]);const le=A.useMemo(()=>a.filter(D=>U.has(D.propertyId)).filter(D=>!(T&&!(U.get(D.propertyId)||"").toLowerCase().includes(T.toLowerCase())||m.length>0&&!m.includes(D.propertyId)||x&&D.channel!==x||v&&(D.totalPrice||0)<parseInt(v,10)||_&&(D.status||"confirm")!==_||O&&(D.pricingMethod||"ia")!==O)),[a,m,U,x,v,_,O,T]),ke=ee=>{const D=r==="en"?"en-US":"fr-FR";return(ee||0).toLocaleString(D,{style:"currency",currency:(e==null?void 0:e.currency)||"EUR",minimumFractionDigits:2})},we=(ee,D)=>{const B=new Date(ee),L=new Date(D),M=Math.abs(L-B);return Math.ceil(M/(1e3*60*60*24))},ie=ee=>{if(!ee)return"";const D=new Date(ee),B=String(D.getDate()).padStart(2,"0"),L=String(D.getMonth()+1).padStart(2,"0"),M=D.getFullYear();return r==="en"?`${L}/${B}/${M}`:`${B}/${L}/${M}`},te=ee=>{ee=ee||"confirm";const D=ee.toLowerCase();let B=ee;switch(D==="confirm"||D==="confirmed"?B=n("bookings.confirmed"):D==="en attente"||D==="pending"?B=n("bookings.pending"):(D==="annule"||D==="annul"||D==="cancelled")&&(B=n("bookings.cancelled")),D){case"confirm":case"confirmed":return u.jsx(zo,{text:B,className:"!bg-calendrierbg-vert !border-calendrierstroke-vert"});case"en attente":case"pending":return u.jsx(zo,{text:B,className:"!bg-calendrierbg-bleu !border-calendrierstroke-bleu"});case"annule":case"annul":case"cancelled":return u.jsx(zo,{text:B,className:"!bg-calendrierbg-orange !border-calendrierstroke-orange"});default:return u.jsx(zo,{text:B,className:"!bg-global-bg-small-box !border-global-stroke-box"})}},fe=ee=>ee?u.jsx(zo,{text:ee,className:"!bg-global-bg-small-box !border-global-stroke-box"}):null;return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsxs("div",{className:"relative z-10 space-y-6 p-4 md:p-6 lg:p-8",children:[u.jsx("h2",{className:"text-3xl font-bold text-text-primary",children:n("bookings.title")}),u.jsx(MB,{value:T,onChange:C,onFilterClick:()=>j(!F)}),F&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 p-4 bg-global-bg-box border border-global-stroke-box rounded-[14px]",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"date-range-selector",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.period")}),u.jsxs("select",{id:"date-range-selector",value:h,onChange:ee=>p(ee.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc font-h4-font-family text-h4-font-size focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"next_30d",children:n("bookings.next30Days")}),u.jsx("option",{value:"next_90d",children:n("bookings.next90Days")}),u.jsx("option",{value:"this_month",children:n("bookings.thisMonth")}),u.jsx("option",{value:"last_7d",children:n("bookings.last7Days")}),u.jsx("option",{value:"last_30d",children:n("bookings.last30Days")})]})]}),u.jsxs("div",{className:"lg:col-span-2",children:[u.jsx("label",{htmlFor:"property-filter",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.properties")}),u.jsx(OB,{properties:i,selectedIds:m,onChange:g})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"channel-filter",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.channel")}),u.jsxs("select",{id:"channel-filter",value:x,onChange:ee=>y(ee.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc font-h4-font-family text-h4-font-size focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"",children:n("bookings.allChannels")}),Z.map(ee=>u.jsx("option",{value:ee,children:ee},ee))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.status")}),u.jsxs("select",{id:"status-filter",value:_,onChange:ee=>S(ee.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc font-h4-font-family text-h4-font-size focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"",children:n("bookings.allStatuses")}),u.jsx("option",{value:"confirm",children:n("bookings.confirmed")}),u.jsx("option",{value:"en attente",children:n("bookings.pending")}),u.jsx("option",{value:"annule",children:n("bookings.cancelled")})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"pricing-filter",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.pricing")}),u.jsxs("select",{id:"pricing-filter",value:O,onChange:ee=>k(ee.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc font-h4-font-family text-h4-font-size focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",children:[u.jsx("option",{value:"",children:n("bookings.all")}),u.jsx("option",{value:"ia",children:n("bookings.ai")}),u.jsx("option",{value:"manuelle",children:n("bookings.manual")})]})]}),u.jsxs("div",{className:"lg:col-start-5",children:[u.jsx("label",{htmlFor:"min-price-filter",className:"block text-sm font-medium text-global-inactive mb-1 font-p1-font-family",children:n("bookings.minPrice")}),u.jsx("input",{type:"number",id:"min-price-filter",value:v,onChange:ee=>b(ee.target.value),className:"w-full bg-global-bg-small-box border border-global-stroke-box rounded-[10px] px-3 py-2 text-global-blanc placeholder:text-global-inactive font-h4-font-family text-h4-font-size focus:outline-none focus:ring-2 focus:ring-global-content-highlight-2nd",placeholder:`Ex: 100 (${(e==null?void 0:e.currency)||"EUR"})`})]})]}),f&&u.jsx("p",{className:"text-red-400 text-center",children:f}),u.jsxs("div",{className:"bg-global-bg-box rounded-[14px] border border-solid border-global-stroke-box flex flex-col gap-0 items-start justify-start self-stretch shrink-0 relative overflow-hidden",children:[u.jsxs("div",{className:"border border-solid border-global-stroke-box border-b pt-4 pr-6 pb-4 pl-6 flex flex-row items-center justify-between self-stretch shrink-0 relative",children:[u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.property")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.arrivalDate")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.departureDate")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[50px]",children:n("bookings.nights")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.totalPrice")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.pricing")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.channel")}),u.jsx("div",{className:"text-global-inactive text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:n("bookings.status")})]}),l?u.jsx("div",{className:"border border-solid border-global-stroke-box border-b pt-4 pr-6 pb-4 pl-6 flex flex-row items-center justify-center self-stretch shrink-0 relative",children:u.jsxs("div",{className:"text-center p-8 text-global-inactive",children:[u.jsx("div",{className:"w-8 h-8 border-2 border-global-content-highlight-2nd border-t-transparent rounded-full animate-spin mx-auto mb-2"}),n("bookings.loading")]})}):le.length===0?u.jsx("div",{className:"border border-solid border-global-stroke-box border-b pt-4 pr-6 pb-4 pl-6 flex flex-row items-center justify-center self-stretch shrink-0 relative",children:u.jsx("div",{className:"text-center p-8 text-global-inactive",children:n("bookings.noBookings")})}):le.map((ee,D)=>{const B=U.get(ee.propertyId)||n("bookings.unknownProperty"),L=i.find(W=>W.id===ee.propertyId),M=(L==null?void 0:L.address)||B;return u.jsxs("div",{className:`border border-solid border-global-stroke-box ${D<le.length-1?"border-b":""} pt-4 pr-6 pb-4 pl-6 flex flex-row items-center justify-between self-stretch shrink-0 relative`,children:[u.jsxs("div",{className:"flex flex-col gap-0 items-start justify-start shrink-0 w-[100px] relative",children:[u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative",children:B}),u.jsx("div",{className:"text-global-inactive text-left font-p1-font-family text-p1-font-size font-p1-font-weight relative self-stretch break-words",children:M})]}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:ie(ee.startDate)}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:ie(ee.endDate)}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[50px]",children:we(ee.startDate,ee.endDate)}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:ke(ee.totalPrice)}),u.jsx("div",{className:"text-global-blanc text-left font-h3-font-family text-h3-font-size font-h3-font-weight relative w-[100px]",children:ke(ee.totalPrice)}),u.jsx("div",{className:"shrink-0 w-[100px] h-[26px] relative flex items-center",children:fe(ee.channel)}),u.jsx("div",{className:"shrink-0 w-[100px] h-[26px] relative flex items-center",children:te(ee.status)})]},ee.id)})]})]})]})}function FB({token:t,onProfileUpdate:e}){const[n,r]=A.useState(!0),[i,s]=A.useState("");return A.useEffect(()=>{if(!new URLSearchParams(window.location.search).get("session_id")){s("Session ID manquant"),r(!1);return}(async()=>{try{await new Promise(l=>setTimeout(l,2e3)),e&&await e(),setTimeout(()=>{window.location.href="/#settings"},3e3)}catch(l){console.error("Erreur lors de la vrification de l'abonnement:",l),s("Une erreur est survenue. Votre abonnement devrait tre activ sous peu.")}finally{r(!1)}})()},[e]),n?u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-global-blanc",children:"Activation de votre abonnement en cours..."})]})})]}):i?u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center bg-global-bg-box rounded-[14px] border border-global-stroke-box p-8 max-w-md",children:[u.jsx("p",{className:"text-red-400 mb-4",children:i}),u.jsx("button",{onClick:()=>{window.location.href="/#settings"},className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90",children:"Retour aux paramtres"})]})})]}):u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center bg-global-bg-box rounded-[14px] border border-global-stroke-box p-8 max-w-md",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-global-blanc text-2xl font-bold mb-4",children:"Abonnement activ avec succs !"}),u.jsx("p",{className:"text-global-inactive mb-6",children:"Votre abonnement a t activ. Vous allez tre redirig vers les paramtres..."})]})})]})}function LB(){return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center bg-global-bg-box rounded-[14px] border border-global-stroke-box p-8 max-w-md",children:[u.jsx("h1",{className:"text-global-blanc text-2xl font-bold mb-4",children:"Paiement annul"}),u.jsx("p",{className:"text-global-inactive mb-6",children:"Vous avez annul le processus de paiement. Vous pouvez ressayer  tout moment depuis les paramtres."}),u.jsx("button",{onClick:()=>{window.location.href="/#settings"},className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-gradient-to-r from-[#155dfc] to-[#12a1d5] hover:opacity-90",children:"Retour aux paramtres"})]})})]})}function BB({token:t}){const e=async()=>{try{const{url:n}=await Z2(t);window.location.href=n}catch(n){console.error("Erreur lors de l'ouverture du portal:",n),alert("Une erreur est survenue. Veuillez contacter le support.")}};return u.jsxs("div",{className:"relative min-h-screen",children:[u.jsx("div",{className:"fixed inset-0",style:{background:"linear-gradient(135deg, rgba(2,6,24,1) 0%, rgba(22,36,86,1) 45%, rgba(15,23,43,1) 100%)",zIndex:0}}),u.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen",children:u.jsxs("div",{className:"text-center bg-global-bg-box rounded-[14px] border border-red-700 p-8 max-w-md",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h1",{className:"text-red-400 text-2xl font-bold mb-4",children:"Accs temporairement dsactiv"}),u.jsx("p",{className:"text-global-inactive mb-6",children:"Votre accs a t dsactiv en raison d'un problme de paiement. Veuillez mettre  jour votre mthode de paiement pour ractiver votre compte."}),t&&u.jsx("button",{onClick:e,className:"px-6 py-2 font-semibold text-white rounded-[10px] bg-red-600 hover:bg-red-700 transition-colors",children:"Mettre  jour la mthode de paiement"})]})})]})}const MS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAABmJLR0QA/wD/AP+gvaeTAAACPklEQVRYhe2XvWsUQRjGn/cQEQkB8YNExNiJSmwFQTCFRdQqRpvYWyloqU2q2Phf+AcoElSIhXiQQgwGISlEUPH8SPS8JHcI8Yw/i93FZb2Z2Tt2r/Jp7mbmmfe37+y7s7MmScA5STclHZZUUT61JK1IWpD0RNJDM/vhnQGcpxitA7eB3T7YfEGwRCvAhAvWKBgG8BuYBiwLa5YASzTdTxjAxYRlQFPSgLeK/uqnpFeS1iTtkjQqaXtgzjdJx8xsNW9mq8BVYDCzKoPANeBrYP6dvMu4BBz0XTowEvtcagEDIVgdGMmzvsAh4Lsn1lRot5gxs/epgGNAlehZqgKnkzEzeydpxhNrzJfZL2BvCnQy7ktrCziV8uzr4Em04IO9zizTfYfvXsb3xuGr+ZZxI9N2FUn2nq45fDt9sOFM+4XD9zzT3u/wrYeq8UjiBIaBWmb8AzCU8hz1xHoaqsbryR8z+6xox7gl6a6i99+omX1J+W94YnkLBKLKGg9cUJLVWdyVCOAt/UQtYDIAuhT7XHoLVLrZ9R8BE8AQUIl/LwCPc8y9InW/6/eil5JOmFk77+GmV21IumxmbSn/SaoXbUqaNLPlpKMsWF3SGTObS3eWAZuVdNzMqv+MdFGNPm0CD0i9ATppW+Aq65KqktodxhqSPkpalFQ1s0YwZ09mTeBAMEAX8t2zJTOr9Qu2VSQoBCtc/2Glw5r9hD0rGuZ6qBeBHf2ALZM6MRUN+5TJaE8poBg2RXQenMX3pV+A/gAueLP1wZgl5AAAAABJRU5ErkJggg==",UB=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${t}`,children:[u.jsx("path",{d:"M3 13h8V3H3z"}),u.jsx("path",{d:"M13 21h8V11h-8z"}),u.jsx("path",{d:"M13 3v6h8V3z"}),u.jsx("path",{d:"M3 21h8v-4H3z"})]}),Vv=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${t}`,children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"3"}),u.jsx("path",{d:"M16 2v4"}),u.jsx("path",{d:"M8 2v4"}),u.jsx("path",{d:"M3 10h18"}),u.jsx("path",{d:"M8 14h.01"}),u.jsx("path",{d:"M12 14h.01"}),u.jsx("path",{d:"M16 14h.01"}),u.jsx("path",{d:"M8 18h.01"}),u.jsx("path",{d:"M12 18h.01"}),u.jsx("path",{d:"M16 18h.01"})]}),zB=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${t}`,children:[u.jsx("path",{d:"M3 3h6l2 3h10a0 0 0 0 1 0 0v14a2 2 0 0 1-2 2H3a0 0 0 0 1-0-0V3a0 0 0 0 1 0-0z"}),u.jsx("path",{d:"M13 10h4"}),u.jsx("path",{d:"M13 14h4"}),u.jsx("path",{d:"M8 10h.01"}),u.jsx("path",{d:"M8 14h.01"})]}),WB=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${t}`,children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.6a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9c.37.53.58 1.16.6 1.81V11a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),$v=({direction:t="left",className:e=""})=>{const n=t==="left";return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`${e} w-4 h-4`,children:n?u.jsx("polyline",{points:"15 18 9 12 15 6"}):u.jsx("polyline",{points:"9 18 15 12 9 6"})})},HB=[{id:"dashboard",translationKey:"sidebar.dashboard",icon:UB},{id:"bookings",translationKey:"sidebar.bookings",icon:Vv},{id:"report",translationKey:"sidebar.reports",icon:zB},{id:"pricing",translationKey:"sidebar.pricing",icon:Vv},{id:"settings",translationKey:"sidebar.settings",icon:WB}],VB=({currentView:t,onNavigate:e,isCollapsed:n=!1,onToggleCollapse:r,className:i="",...s})=>{const{t:a}=un(),o=n?"w-[96px]":"w-[255px]",l=HB.map(c=>({...c,label:a(c.translationKey)}));return u.jsx("nav",{className:`hidden md:flex flex-col gap-2.5 items-start justify-center ${o} min-h-screen fixed left-0 top-0 transition-[width] duration-300 z-20 ${i}`,...s,children:u.jsxs("div",{className:"bg-global-bg-box border-r border-global-stroke-box flex flex-col items-stretch justify-between w-full min-h-screen relative",children:[u.jsxs("div",{className:`border-b border-global-stroke-box h-[70px] flex items-center justify-between ${n?"px-4":"px-8"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("img",{src:MS,alt:"PricEye Logo",className:"w-[27px] h-10 object-contain"}),!n&&u.jsx("div",{className:"text-global-blanc text-left font-['Avenir-Heavy',sans-serif] text-xl leading-6 font-normal relative",children:"PricEye"})]}),u.jsx("button",{type:"button",onClick:()=>r==null?void 0:r(),className:`${n?"hidden":"p-3"} rounded-xl border border-transparent text-global-inactive hover:text-global-blanc hover:border-global-stroke-box transition`,"aria-label":n?"Dplier la barre latrale":"Replier la barre latrale",children:!n&&u.jsx($v,{direction:"left"})})]}),u.jsx("div",{className:`p-4 flex flex-col gap-2 flex-1 ${n?"items-center":""}`,children:l.map(({id:c,label:f,icon:d})=>{const h=t===c;return u.jsxs("button",{type:"button",onClick:()=>e==null?void 0:e(c),className:`w-full flex items-center ${n?"justify-center":"gap-3 justify-start"} rounded-2xl ${n?"px-0 py-3":"px-4 py-3"} text-sm font-medium transition duration-200 border ${h?"bg-global-stroke-highlight-2nd/20 border-global-stroke-highlight-2nd text-global-blanc shadow-[0_8px_30px_rgba(0,184,219,0.15)]":"border-transparent text-global-inactive hover:border-global-stroke-box hover:text-global-blanc"}`,"aria-label":n?f:void 0,children:[u.jsx(d,{className:h?"text-global-content-highlight-2nd":""}),!n&&u.jsx("span",{className:"flex-1 text-left",children:f})]},c)})}),n&&u.jsx("button",{type:"button",onClick:()=>r==null?void 0:r(),"aria-label":"Dplier la barre latrale",className:"hidden md:flex absolute top-[70px] -right-4 bg-global-bg-box border border-global-stroke-box rounded-tr-xl rounded-br-xl p-2 text-global-inactive hover:text-global-blanc hover:border-global-content-highlight-2nd transition",children:u.jsx($v,{direction:"right"})})]})})};function $B({isOpen:t,onClose:e,recommendations:n,token:r,onGroupCreated:i,position:s}){const[a,o]=A.useState(new Set),[l,c]=A.useState(""),f=async p=>{if(!p||!p.properties||p.properties.length<2){c("Recommandation invalide.");return}o(m=>new Set([...m,p.key])),c("");try{const g=`Groupe Similaire (${p.properties[0].address.split(",")[0]})`,x=await rg({name:g},r),y=p.properties.map(v=>v.id);await ig(x.id,y,r),i&&i(),e()}catch(m){console.error("Erreur lors de la cration du groupe suggr:",m),c(m.message)}finally{o(m=>{const g=new Set(m);return g.delete(p.key),g})}};if(!t)return null;const d=n&&n.length>0,h=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-transparent z-[10000]",onClick:e,style:{pointerEvents:"auto"}}),u.jsxs("div",{className:"notifications-menu fixed border border-global-stroke-box rounded-[14px] shadow-xl z-[10001] w-[400px] max-h-[600px] overflow-hidden flex flex-col backdrop-blur-md",style:{top:(s==null?void 0:s.top)||"60px",right:(s==null?void 0:s.right)||"20px",backgroundColor:"rgba(15, 23, 43, 0.98)",pointerEvents:"auto"},onClick:p=>p.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-global-stroke-box",children:[u.jsx("h3",{className:"text-global-blanc font-h3-font-family font-h3-font-weight text-h3-font-size",children:"Notifications"}),u.jsx("button",{onClick:e,className:"text-global-inactive hover:text-global-blanc transition-colors","aria-label":"Fermer",children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:u.jsx("path",{d:"M15 5L5 15M5 5l10 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),u.jsxs("div",{className:"overflow-y-auto flex-1",children:[l&&u.jsx("div",{className:"m-4 p-3 bg-red-900/20 border border-red-500/50 rounded-[10px] text-red-300 text-sm",children:l}),d?u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsx("div",{className:"mb-3",children:u.jsx("p",{className:"text-xs font-bold uppercase tracking-[0.2em] text-global-inactive mb-2",children:"Suggestions de regroupement"})}),n.map(p=>{const m=a.has(p.key);return u.jsxs("div",{className:"bg-global-bg-small-box border border-global-stroke-box rounded-[12px] p-4 flex flex-col gap-3",children:[u.jsxs("div",{className:"text-sm text-global-inactive",children:[u.jsxs("p",{className:"text-global-blanc font-semibold mb-2",children:[p.properties.length," proprits similaires dtectes"]}),u.jsx("ul",{className:"list-disc list-inside text-xs space-y-1 max-h-32 overflow-y-auto",children:p.properties.map(g=>u.jsx("li",{className:"text-global-inactive",children:g.address},g.id))})]}),u.jsx("button",{onClick:()=>f(p),disabled:m,className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 rounded-[10px] font-semibold text-white bg-gradient-to-r from-[#155dfc] to-[#12a1d5] shadow-lg hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:m?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin w-4 h-4",viewBox:"0 0 24 24",fill:"none",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Cration..."})]}):"Crer le groupe"})]},p.key)})]}):u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-global-inactive",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),u.jsx("p",{className:"text-global-inactive font-p1-font-family text-p1-font-size",children:"Aucune notification"})]})]})]})]});return i2.createPortal(h,document.body)}const GB=({className:t=""})=>u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-5 h-5 ${t}`,children:[u.jsx("path",{d:"M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"}),u.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]});function KB({className:t="",userName:e="Utilisateur",propertyCount:n=null,notifications:r=[],token:i=null,onNotificationsUpdate:s,...a}){const{t:o}=un(),[l,c]=A.useState(!1),f=A.useRef(null),d=typeof n=="number"?`${n} ${n>1?o("common.properties"):o("common.property")}`:"",h=r&&r.length>0,p=()=>{c(!l)},m=()=>{c(!1)},g=()=>{s&&s()},x=()=>{if(f.current){const y=f.current.getBoundingClientRect();return{top:`${y.bottom+8}px`,right:`${window.innerWidth-y.right}px`}}return{top:"60px",right:"20px"}};return A.useEffect(()=>{if(!l)return;const y=v=>{var b,_;(b=f.current)!=null&&b.contains(v.target)||(_=document.querySelector(".notifications-menu"))!=null&&_.contains(v.target)||c(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[l]),u.jsx("div",{className:`bg-global-bg-box border-b border-global-stroke-box px-4 py-3 flex items-center justify-end h-[70px] relative z-10 ${t}`,...a,children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{ref:f,type:"button",onClick:p,className:"relative w-10 h-10 flex items-center justify-center rounded-full border border-transparent text-global-inactive hover:text-global-blanc hover:border-global-stroke-box transition","aria-label":"Notifications",children:[h&&u.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-global-content-highlight-2nd rounded-full"}),u.jsx(GB,{})]}),l&&u.jsx($B,{isOpen:l,onClose:m,recommendations:r,token:i,onGroupCreated:g,position:x()}),u.jsx("div",{className:"hidden sm:block w-px h-8 bg-white/10","aria-hidden":"true"}),u.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[u.jsx("span",{className:"text-global-blanc font-h3-font-family text-h3-font-size font-h3-font-weight leading-h3-line-height",children:e}),u.jsx("span",{className:"text-global-inactive font-p1-font-family text-p1-font-size font-p1-font-weight leading-p1-line-height",children:d})]}),u.jsx("div",{className:"rounded-full w-11 h-11 flex items-center justify-center bg-white p-1",children:u.jsx("img",{src:MS,alt:"PricEye Logo",className:"w-full h-full object-contain rounded-full"})})]})})}function Eh(t){const e=window.document.documentElement;if(e.classList.remove("light","dark"),t==="auto"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.add(n?"dark":"light")}else e.classList.add(t)}function YB(){const[t,e]=A.useState(null),[n,r]=A.useState(localStorage.getItem("authToken")?"dashboard":"login"),[i,s]=A.useState(null),[a,o]=A.useState(!0),[l,c]=A.useState(!1),[f,d]=A.useState([]),[h,p]=A.useState(!1),[m,g]=A.useState(null),[x,y]=A.useState(!0),v=j=>{s(U=>({...U,theme:j})),Eh(j)},b=A.useCallback(async j=>{if(!j){d([]);return}try{p(!0);const U=await J2(j);d(U||[])}catch(U){console.error("Erreur lors du chargement des notifications:",U),d([])}finally{p(!1)}},[]),_=A.useCallback(async j=>{if(!j){g(null);return}try{const U=await ea(j);g(Array.isArray(U)?U.length:0)}catch(U){console.error("Erreur lors du chargement des proprits:",U),g(null)}},[]),S=A.useCallback(()=>{e(null),s(null),d([]),g(null),localStorage.removeItem("authToken"),r("login")},[]);A.useEffect(()=>{const j=()=>{S()};return window.addEventListener("tokenExpired",j),()=>{window.removeEventListener("tokenExpired",j)}},[S]),A.useEffect(()=>{const j=new URLSearchParams(window.location.search),U=j.get("session_id"),Z=j.get("canceled");U?(r("checkout-success"),window.history.replaceState({},"",window.location.pathname)):Z&&(r("checkout-cancel"),window.history.replaceState({},"",window.location.pathname))},[]),A.useEffect(()=>{if(!x)return;const j=localStorage.getItem("authToken");j?(e(j),(n==="login"||n==="register")&&r("dashboard")):r("login"),y(!1)},[x,n]),A.useEffect(()=>{if(!t){o(!1),Eh("auto"),d([]);return}o(!0),N0(t).then(j=>{if(s(j),j.accessDisabled){r("access-blocked"),o(!1);return}if(Eh(j.theme||"auto"),j.language&&(localStorage.setItem("userLanguage",j.language),typeof window<"u"))try{window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:j.language}}))}catch(U){console.error("Erreur lors de l'envoi de l'vnement languageChanged:",U)}b(t),_(t)}).catch(j=>{console.error("Erreur de chargement du profil:",j),(j.message.includes("403")||j.message.includes("401")||j.message.includes("Jeton invalide")||j.message.includes("Jeton manquant"))&&S()}).finally(()=>o(!1))},[t,b,_,S]);const O=j=>{e(j),localStorage.setItem("authToken",j),r("dashboard")},k=A.useCallback(()=>{t&&b(t)},[t,b]),T=j=>{r(j)},C=()=>{if(a)return u.jsx("div",{className:"text-center p-10 text-text-muted",children:"Chargement du profil..."});switch(n){case"dashboard":return u.jsx(Mx,{token:t,userProfile:i});case"pricing":return u.jsx(wA,{token:t,userProfile:i});case"bookings":return u.jsx(jB,{token:t,userProfile:i});case"settings":return u.jsx(TA,{token:t,userProfile:i,onThemeChange:v,onLogout:S});case"report":return u.jsx(IB,{token:t,userProfile:i});case"checkout-success":return u.jsx(FB,{token:t,onProfileUpdate:async()=>{const j=await N0(t);s(j)}});case"checkout-cancel":return u.jsx(LB,{});case"access-blocked":return u.jsx(BB,{token:t});default:return u.jsx(Mx,{token:t,userProfile:i})}};return!t&&!a?n==="register"?u.jsx(H3,{onNavigate:T}):u.jsx(W3,{onLoginSuccess:O,onNavigate:T}):u.jsxs("div",{className:`min-h-screen bg-transparent text-text-primary transition-colors duration-200 ${l?"md:pl-[96px]":"md:pl-[255px]"}`,children:[u.jsx(VB,{currentView:n,onNavigate:T,isCollapsed:l,onToggleCollapse:()=>c(j=>!j)}),u.jsxs("div",{className:"flex flex-col min-h-screen",children:[u.jsx("div",{className:"hidden md:block",children:u.jsx(KB,{userName:(i==null?void 0:i.name)||(i==null?void 0:i.email)||"Utilisateur",propertyCount:m,notifications:f,token:t,onNotificationsUpdate:k})}),u.jsx("nav",{className:"bg-bg-sidebar md:hidden p-4 flex-shrink-0 flex flex-col rounded-b-3xl border border-border-primary",children:u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Pricing IA"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("button",{onClick:()=>T("dashboard"),className:`w-full text-left block py-2.5 px-4 rounded-xl transition duration-200 hover:bg-global-bg-box ${n==="dashboard"?"bg-global-stroke-highlight-2nd/30 text-text-sidebar-active":"text-text-sidebar"}`,children:"Dashboard"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>T("bookings"),className:`w-full text-left block py-2.5 px-4 rounded-xl transition duration-200 hover:bg-global-bg-box ${n==="bookings"?"bg-global-stroke-highlight-2nd/30 text-text-sidebar-active":"text-text-sidebar"}`,children:"Rservations"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>T("report"),className:`w-full text-left block py-2.5 px-4 rounded-xl transition duration-200 hover:bg-global-bg-box ${n==="report"?"bg-global-stroke-highlight-2nd/30 text-text-sidebar-active":"text-text-sidebar"}`,children:"Rapports"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>T("pricing"),className:`w-full text-left block py-2.5 px-4 rounded-xl transition duration-200 hover:bg-global-bg-box ${n==="pricing"?"bg-global-stroke-highlight-2nd/30 text-text-sidebar-active":"text-text-sidebar"}`,children:"Calendrier Pricing"})}),u.jsx("li",{children:u.jsx("button",{disabled:!0,className:"w-full text-left block py-2.5 px-4 rounded-xl text-gray-600 cursor-not-allowed bg-gray-800/40 border border-gray-700/60",children:"Concurrents (Bientt)"})}),u.jsx("li",{children:u.jsx("button",{onClick:()=>T("settings"),className:`w-full text-left block py-2.5 px-4 rounded-xl transition duration-200 hover:bg-global-bg-box ${n==="settings"?"bg-global-stroke-highlight-2nd/30 text-text-sidebar-active":"text-text-sidebar"}`,children:"Paramtres"})})]})]})}),u.jsx("main",{className:"flex-1 p-4 md:p-8 overflow-auto",children:C()})]})]})}function XB(){return u.jsx(V3,{userLanguage:localStorage.getItem("userLanguage")||"fr",children:u.jsx(YB,{})})}Th.createRoot(document.getElementById("root")).render(u.jsx(tk.StrictMode,{children:u.jsx(XB,{})}));
